<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-09-05-2-g4bf191</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('handler_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">handler.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Decide how to display email content.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iconv.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for handler.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h__incl.svg" width="279" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h__dep__incl.svg" width="1940" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e520d3004995a6c0cf0696edfd209fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#a3e520d3004995a6c0cf0696edfd209fb">mutt_body_handler</a> (struct <a class="el" href="structBody.html">Body</a> *b, struct <a class="el" href="structState.html">State</a> *state)</td></tr>
<tr class="memdesc:a3e520d3004995a6c0cf0696edfd209fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for the <a class="el" href="structBody.html" title="The body of an email.">Body</a> of an email.  <br /></td></tr>
<tr class="separator:a3e520d3004995a6c0cf0696edfd209fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc6312b687436c5023e476461662e8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#a3cc6312b687436c5023e476461662e8e">mutt_can_decode</a> (struct <a class="el" href="structBody.html">Body</a> *b)</td></tr>
<tr class="memdesc:a3cc6312b687436c5023e476461662e8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will decoding the attachment produce any output.  <br /></td></tr>
<tr class="separator:a3cc6312b687436c5023e476461662e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e9c66285fee73e4d9553c565e10fa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#ad6e9c66285fee73e4d9553c565e10fa2">mutt_decode_attachment</a> (const struct <a class="el" href="structBody.html">Body</a> *b, struct <a class="el" href="structState.html">State</a> *state)</td></tr>
<tr class="memdesc:ad6e9c66285fee73e4d9553c565e10fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an email's attachment.  <br /></td></tr>
<tr class="separator:ad6e9c66285fee73e4d9553c565e10fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7834668eb7e41062c0d6aa80589de5be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#a7834668eb7e41062c0d6aa80589de5be">mutt_decode_base64</a> (struct <a class="el" href="structState.html">State</a> *state, size_t len, bool istext, iconv_t cd)</td></tr>
<tr class="memdesc:a7834668eb7e41062c0d6aa80589de5be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode base64-encoded text.  <br /></td></tr>
<tr class="separator:a7834668eb7e41062c0d6aa80589de5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1d59623c3dea670f7f5b4c17bf24a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#a0f1d59623c3dea670f7f5b4c17bf24a8">mutt_prefer_as_attachment</a> (struct <a class="el" href="structBody.html">Body</a> *b)</td></tr>
<tr class="memdesc:a0f1d59623c3dea670f7f5b4c17bf24a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do we want this part as an attachment?  <br /></td></tr>
<tr class="separator:a0f1d59623c3dea670f7f5b4c17bf24a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decide how to display email content. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
<li>Pietro Cerutti</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="handler_8h_source.html">handler.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3e520d3004995a6c0cf0696edfd209fb" name="a3e520d3004995a6c0cf0696edfd209fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e520d3004995a6c0cf0696edfd209fb">&#9670;&#160;</a></span>mutt_body_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_body_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for the <a class="el" href="structBody.html" title="The body of an email.">Body</a> of an email. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email.">Body</a> of the email </td></tr>
    <tr><td class="paramname">state</td><td><a class="el" href="structState.html" title="Keep track when processing files.">State</a> to work with </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01632">1632</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1633</span>{</div>
<div class="line"><span class="lineno"> 1634</span>  <span class="keywordflow">if</span> (!b || !state)</div>
<div class="line"><span class="lineno"> 1635</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1636</span> </div>
<div class="line"><span class="lineno"> 1637</span>  <span class="keywordtype">bool</span> plaintext = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1638</span>  <a class="code hl_typedef" href="handler_8c.html#a72454e2cd50fcfe2124f5a923dcda538">handler_t</a> handler = NULL;</div>
<div class="line"><span class="lineno"> 1639</span>  <a class="code hl_typedef" href="handler_8c.html#a72454e2cd50fcfe2124f5a923dcda538">handler_t</a> encrypted_handler = NULL;</div>
<div class="line"><span class="lineno"> 1640</span>  <span class="keywordtype">int</span> rc = 0;</div>
<div class="line"><span class="lineno"> 1641</span>  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> recurse_level = 0;</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> oflags = state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a>;</div>
<div class="line"><span class="lineno"> 1644</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_attachment_display = (oflags &amp; <a class="code hl_define" href="mutt_2state_8h.html#a3171fa8309d985818811324b9f865934">STATE_DISPLAY_ATTACH</a>);</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>  <span class="keywordflow">if</span> (recurse_level &gt;= <a class="code hl_define" href="mime_8h.html#a37d78827e3cbfabf93b6341b5da8cdc1">MUTT_MIME_MAX_DEPTH</a>)</div>
<div class="line"><span class="lineno"> 1647</span>  {</div>
<div class="line"><span class="lineno"> 1648</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;recurse level too deep. giving up\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1649</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1650</span>  }</div>
<div class="line"><span class="lineno"> 1651</span>  recurse_level++;</div>
<div class="line"><span class="lineno"> 1652</span> </div>
<div class="line"><span class="lineno"> 1653</span>  <span class="comment">/* first determine which handler to use to process this part */</span></div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a>(b))</div>
<div class="line"><span class="lineno"> 1656</span>  {</div>
<div class="line"><span class="lineno"> 1657</span>    handler = <a class="code hl_function" href="group__handler__api.html#ga6d9d9125a5e89f59e0bdc7dfe1da915f">autoview_handler</a>;</div>
<div class="line"><span class="lineno"> 1658</span>    state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp;= ~STATE_CHARCONV;</div>
<div class="line"><span class="lineno"> 1659</span>  }</div>
<div class="line"><span class="lineno"> 1660</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>)</div>
<div class="line"><span class="lineno"> 1661</span>  {</div>
<div class="line"><span class="lineno"> 1662</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;plain&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1663</span>    {</div>
<div class="line"><span class="lineno"> 1664</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> c_reflow_text = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;reflow_text&quot;</span>);</div>
<div class="line"><span class="lineno"> 1665</span>      <span class="comment">/* avoid copying this part twice since removing the transfer-encoding is</span></div>
<div class="line"><span class="lineno"> 1666</span><span class="comment">       * the only operation needed.  */</span></div>
<div class="line"><span class="lineno"> 1667</span>      <span class="keywordflow">if</span> (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b))</div>
<div class="line"><span class="lineno"> 1668</span>      {</div>
<div class="line"><span class="lineno"> 1669</span>        encrypted_handler = <a class="code hl_function" href="group__handler__api.html#ga2de61c155f3d4ff8b010e2e4f615ea94">crypt_pgp_application_handler</a>;</div>
<div class="line"><span class="lineno"> 1670</span>        handler = encrypted_handler;</div>
<div class="line"><span class="lineno"> 1671</span>      }</div>
<div class="line"><span class="lineno"> 1672</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c_reflow_text &amp;&amp;</div>
<div class="line"><span class="lineno"> 1673</span>               <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;flowed&quot;</span>, <a class="code hl_function" href="parameter_8c.html#a31d10561ad6b3637e7591569b903aa33">mutt_param_get</a>(&amp;b-&gt;<a class="code hl_variable" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;format&quot;</span>)))</div>
<div class="line"><span class="lineno"> 1674</span>      {</div>
<div class="line"><span class="lineno"> 1675</span>        handler = <a class="code hl_function" href="group__handler__api.html#gaadbb7eb9de333071b51c4ff88b45315b">rfc3676_handler</a>;</div>
<div class="line"><span class="lineno"> 1676</span>      }</div>
<div class="line"><span class="lineno"> 1677</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1678</span>      {</div>
<div class="line"><span class="lineno"> 1679</span>        handler = <a class="code hl_function" href="group__handler__api.html#ga5552ea70deb1b5c9d5eed357948915d6">text_plain_handler</a>;</div>
<div class="line"><span class="lineno"> 1680</span>      }</div>
<div class="line"><span class="lineno"> 1681</span>    }</div>
<div class="line"><span class="lineno"> 1682</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;enriched&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1683</span>    {</div>
<div class="line"><span class="lineno"> 1684</span>      handler = <a class="code hl_function" href="group__handler__api.html#ga52988b26b8120b105355accebe501bee">text_enriched_handler</a>;</div>
<div class="line"><span class="lineno"> 1685</span>    }</div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keywordflow">else</span> <span class="comment">/* text body type without a handler */</span></div>
<div class="line"><span class="lineno"> 1687</span>    {</div>
<div class="line"><span class="lineno"> 1688</span>      plaintext = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1689</span>    }</div>
<div class="line"><span class="lineno"> 1690</span>  }</div>
<div class="line"><span class="lineno"> 1691</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a>)</div>
<div class="line"><span class="lineno"> 1692</span>  {</div>
<div class="line"><span class="lineno"> 1693</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="email_2parse_8c.html#adcc90fb584fec1be116777c533e9b3d4">mutt_is_message_type</a>(b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1694</span>      handler = <a class="code hl_function" href="group__handler__api.html#gabb6e3be5f79882648b38690c851c6587">message_handler</a>;</div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;delivery-status&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1696</span>      plaintext = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1697</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;external-body&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1698</span>      handler = <a class="code hl_function" href="group__handler__api.html#ga8a838ae7b50e8ffa147203c5cfaa3272">external_body_handler</a>;</div>
<div class="line"><span class="lineno"> 1699</span>  }</div>
<div class="line"><span class="lineno"> 1700</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a>)</div>
<div class="line"><span class="lineno"> 1701</span>  {</div>
<div class="line"><span class="lineno"> 1702</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_show_multipart_alternative = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;show_multipart_alternative&quot;</span>);</div>
<div class="line"><span class="lineno"> 1703</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;inline&quot;</span>, c_show_multipart_alternative) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1704</span>        <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;alternative&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1705</span>    {</div>
<div class="line"><span class="lineno"> 1706</span>      handler = <a class="code hl_function" href="group__handler__api.html#ga4ff5374eaa24ed80f864aa4caeb54a46">alternative_handler</a>;</div>
<div class="line"><span class="lineno"> 1707</span>    }</div>
<div class="line"><span class="lineno"> 1708</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;inline&quot;</span>, c_show_multipart_alternative) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1709</span>             <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;multilingual&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1710</span>    {</div>
<div class="line"><span class="lineno"> 1711</span>      handler = <a class="code hl_function" href="group__handler__api.html#gad678bde50d3eb6367c65e9ed646939bc">multilingual_handler</a>;</div>
<div class="line"><span class="lineno"> 1712</span>    }</div>
<div class="line"><span class="lineno"> 1713</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;signed&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1714</span>    {</div>
<div class="line"><span class="lineno"> 1715</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="parameter_8c.html#a31d10561ad6b3637e7591569b903aa33">mutt_param_get</a>(&amp;b-&gt;<a class="code hl_variable" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;protocol&quot;</span>))</div>
<div class="line"><span class="lineno"> 1716</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error: multipart/signed has no protocol&quot;</span>));</div>
<div class="line"><span class="lineno"> 1717</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#abfcaf3ae3b8541263634aec97ee65aeb">STATE_VERIFY</a>)</div>
<div class="line"><span class="lineno"> 1718</span>        handler = <a class="code hl_function" href="group__handler__api.html#gad8f7563b8c9aba96de145d0e17e58437">mutt_signed_handler</a>;</div>
<div class="line"><span class="lineno"> 1719</span>    }</div>
<div class="line"><span class="lineno"> 1720</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="crypt_8c.html#a51806f872069460bb7f4fa16d1d92710">mutt_is_valid_multipart_pgp_encrypted</a>(b))</div>
<div class="line"><span class="lineno"> 1721</span>    {</div>
<div class="line"><span class="lineno"> 1722</span>      encrypted_handler = <a class="code hl_function" href="group__handler__api.html#gaaef1af1685b1d85753ac8ab8c1fc9339">valid_pgp_encrypted_handler</a>;</div>
<div class="line"><span class="lineno"> 1723</span>      handler = encrypted_handler;</div>
<div class="line"><span class="lineno"> 1724</span>    }</div>
<div class="line"><span class="lineno"> 1725</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="crypt_8c.html#a9edb0262eaed7c522977a75b76c15770">mutt_is_malformed_multipart_pgp_encrypted</a>(b))</div>
<div class="line"><span class="lineno"> 1726</span>    {</div>
<div class="line"><span class="lineno"> 1727</span>      encrypted_handler = <a class="code hl_function" href="group__handler__api.html#gaadf7c637f58f34e7a58ac5b2c2b0f42f">malformed_pgp_encrypted_handler</a>;</div>
<div class="line"><span class="lineno"> 1728</span>      handler = encrypted_handler;</div>
<div class="line"><span class="lineno"> 1729</span>    }</div>
<div class="line"><span class="lineno"> 1730</span> </div>
<div class="line"><span class="lineno"> 1731</span>    <span class="keywordflow">if</span> (!handler)</div>
<div class="line"><span class="lineno"> 1732</span>      handler = <a class="code hl_function" href="group__handler__api.html#gac1b8e821ab05eee2180e82f0ae4c7421">multipart_handler</a>;</div>
<div class="line"><span class="lineno"> 1733</span> </div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordflow">if</span> ((b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a>) &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466">ENC_8BIT</a>) &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8">ENC_BINARY</a>))</div>
<div class="line"><span class="lineno"> 1735</span>    {</div>
<div class="line"><span class="lineno"> 1736</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Bad encoding type %d for multipart entity, assuming 7 bit\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1737</span>                 b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a>);</div>
<div class="line"><span class="lineno"> 1738</span>      b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> = <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a>;</div>
<div class="line"><span class="lineno"> 1739</span>    }</div>
<div class="line"><span class="lineno"> 1740</span>  }</div>
<div class="line"><span class="lineno"> 1741</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a>))</div>
<div class="line"><span class="lineno"> 1742</span>  {</div>
<div class="line"><span class="lineno"> 1743</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="globals_8c.html#a06fbffcecad5ed6656ea2948927b26b8">OptDontHandlePgpKeys</a> &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;pgp-keys&quot;</span>, b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div>
<div class="line"><span class="lineno"> 1744</span>    {</div>
<div class="line"><span class="lineno"> 1745</span>      <span class="comment">/* pass raw part through for key extraction */</span></div>
<div class="line"><span class="lineno"> 1746</span>      plaintext = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1747</span>    }</div>
<div class="line"><span class="lineno"> 1748</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b))</div>
<div class="line"><span class="lineno"> 1749</span>    {</div>
<div class="line"><span class="lineno"> 1750</span>      encrypted_handler = <a class="code hl_function" href="group__handler__api.html#ga2de61c155f3d4ff8b010e2e4f615ea94">crypt_pgp_application_handler</a>;</div>
<div class="line"><span class="lineno"> 1751</span>      handler = encrypted_handler;</div>
<div class="line"><span class="lineno"> 1752</span>    }</div>
<div class="line"><span class="lineno"> 1753</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp; <a class="code hl_function" href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a>(b))</div>
<div class="line"><span class="lineno"> 1754</span>    {</div>
<div class="line"><span class="lineno"> 1755</span>      encrypted_handler = <a class="code hl_function" href="group__handler__api.html#ga570796cc91abc82fbc16bcd285137688">crypt_smime_application_handler</a>;</div>
<div class="line"><span class="lineno"> 1756</span>      handler = encrypted_handler;</div>
<div class="line"><span class="lineno"> 1757</span>    }</div>
<div class="line"><span class="lineno"> 1758</span>  }</div>
<div class="line"><span class="lineno"> 1759</span> </div>
<div class="line"><span class="lineno"> 1760</span>  <span class="keywordflow">if</span> ((plaintext || handler) &amp;&amp; (is_attachment_display || !<a class="code hl_function" href="handler_8c.html#a0f1d59623c3dea670f7f5b4c17bf24a8">mutt_prefer_as_attachment</a>(b)))</div>
<div class="line"><span class="lineno"> 1761</span>  {</div>
<div class="line"><span class="lineno"> 1762</span>    <span class="comment">/* only respect disposition == attachment if we&#39;re not</span></div>
<div class="line"><span class="lineno"> 1763</span><span class="comment">     * displaying from the attachment menu (i.e. pager) */</span></div>
<div class="line"><span class="lineno"> 1764</span>    <span class="comment">/* Prevent encrypted attachments from being included in replies</span></div>
<div class="line"><span class="lineno"> 1765</span><span class="comment">     * unless $include_encrypted is set. */</span></div>
<div class="line"><span class="lineno"> 1766</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_include_encrypted = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;include_encrypted&quot;</span>);</div>
<div class="line"><span class="lineno"> 1767</span>    <span class="keywordflow">if</span> ((state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#a77951e3f170a44a6e89c2261a6cf0f75">STATE_REPLYING</a>) &amp;&amp; (state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#a3747adb496e21b20abbcf8d3b1db92ce">STATE_FIRSTDONE</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1768</span>        encrypted_handler &amp;&amp; !c_include_encrypted)</div>
<div class="line"><span class="lineno"> 1769</span>    {</div>
<div class="line"><span class="lineno"> 1770</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1771</span>    }</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>    rc = <a class="code hl_function" href="handler_8c.html#a88df4ca81c59bfc2464df374863edfd9">run_decode_and_handler</a>(b, state, handler, plaintext);</div>
<div class="line"><span class="lineno"> 1774</span>  }</div>
<div class="line"><span class="lineno"> 1775</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#a2a4ce653367a744f47960bc30b42f3a7">STATE_DISPLAY</a>)</div>
<div class="line"><span class="lineno"> 1776</span>  {</div>
<div class="line"><span class="lineno"> 1777</span>    <span class="comment">/* print hint to use attachment menu for disposition == attachment</span></div>
<div class="line"><span class="lineno"> 1778</span><span class="comment">     * if we&#39;re not already being called from there */</span></div>
<div class="line"><span class="lineno"> 1779</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_honor_disposition = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;honor_disposition&quot;</span>);</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *msg = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>    <span class="keywordflow">if</span> (is_attachment_display)</div>
<div class="line"><span class="lineno"> 1783</span>    {</div>
<div class="line"><span class="lineno"> 1784</span>      <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code hl_enumvalue" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div>
<div class="line"><span class="lineno"> 1785</span>      {</div>
<div class="line"><span class="lineno"> 1786</span>        <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment --]\n&quot;</span>));</div>
<div class="line"><span class="lineno"> 1787</span>      }</div>
<div class="line"><span class="lineno"> 1788</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1789</span>      {</div>
<div class="line"><span class="lineno"> 1790</span>        <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;. */</span></div>
<div class="line"><span class="lineno"> 1791</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported --]\n&quot;</span>), <a class="code hl_define" href="mime_8h.html#a3e568918dd102d7bfd39661c82ff6c3f">BODY_TYPE</a>(b), b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>);</div>
<div class="line"><span class="lineno"> 1792</span>      }</div>
<div class="line"><span class="lineno"> 1793</span>    }</div>
<div class="line"><span class="lineno"> 1794</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1795</span>    {</div>
<div class="line"><span class="lineno"> 1796</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *keystroke = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1797</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="key_2lib_8c.html#af30297e027dd7f2242b311aeb86d506b">km_expand_key</a>(<a class="code hl_function" href="key_2lib_8c.html#a11136cc3c6e52a9a3db85d1887f4fe1c">km_find_func</a>(<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>, OP_VIEW_ATTACHMENTS), keystroke))</div>
<div class="line"><span class="lineno"> 1798</span>      {</div>
<div class="line"><span class="lineno"> 1799</span>        <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code hl_enumvalue" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div>
<div class="line"><span class="lineno"> 1800</span>        {</div>
<div class="line"><span class="lineno"> 1801</span>          <span class="comment">/* L10N: %s expands to a keystroke/key binding, e.g. &#39;v&#39;.  */</span></div>
<div class="line"><span class="lineno"> 1802</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment (use &#39;%s&#39; to view this part) --]\n&quot;</span>),</div>
<div class="line"><span class="lineno"> 1803</span>                     <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystroke));</div>
<div class="line"><span class="lineno"> 1804</span>        }</div>
<div class="line"><span class="lineno"> 1805</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1806</span>        {</div>
<div class="line"><span class="lineno"> 1807</span>          <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;.</span></div>
<div class="line"><span class="lineno"> 1808</span><span class="comment">             The last %s expands to a keystroke/key binding, e.g. &#39;v&#39;. */</span></div>
<div class="line"><span class="lineno"> 1809</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported (use &#39;%s&#39; to view this part) --]\n&quot;</span>),</div>
<div class="line"><span class="lineno"> 1810</span>                     <a class="code hl_define" href="mime_8h.html#a3e568918dd102d7bfd39661c82ff6c3f">BODY_TYPE</a>(b), b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystroke));</div>
<div class="line"><span class="lineno"> 1811</span>        }</div>
<div class="line"><span class="lineno"> 1812</span>      }</div>
<div class="line"><span class="lineno"> 1813</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1814</span>      {</div>
<div class="line"><span class="lineno"> 1815</span>        <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code hl_enumvalue" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div>
<div class="line"><span class="lineno"> 1816</span>        {</div>
<div class="line"><span class="lineno"> 1817</span>          <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment (need &#39;view-attachments&#39; bound to key) --]\n&quot;</span>));</div>
<div class="line"><span class="lineno"> 1818</span>        }</div>
<div class="line"><span class="lineno"> 1819</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1820</span>        {</div>
<div class="line"><span class="lineno"> 1821</span>          <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;. */</span></div>
<div class="line"><span class="lineno"> 1822</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(msg, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported (need &#39;view-attachments&#39; bound to key) --]\n&quot;</span>),</div>
<div class="line"><span class="lineno"> 1823</span>                     <a class="code hl_define" href="mime_8h.html#a3e568918dd102d7bfd39661c82ff6c3f">BODY_TYPE</a>(b), b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>);</div>
<div class="line"><span class="lineno"> 1824</span>        }</div>
<div class="line"><span class="lineno"> 1825</span>      }</div>
<div class="line"><span class="lineno"> 1826</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;keystroke);</div>
<div class="line"><span class="lineno"> 1827</span>    }</div>
<div class="line"><span class="lineno"> 1828</span>    <a class="code hl_function" href="mutt_2state_8c.html#a549e8896ba39ea5006be8905349a6782">state_mark_attach</a>(state);</div>
<div class="line"><span class="lineno"> 1829</span>    <a class="code hl_function" href="mutt_2state_8c.html#a7566d1f9e015cd673fd8744bf5ad2f06">state_printf</a>(state, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(msg));</div>
<div class="line"><span class="lineno"> 1830</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;msg);</div>
<div class="line"><span class="lineno"> 1831</span>  }</div>
<div class="line"><span class="lineno"> 1832</span> </div>
<div class="line"><span class="lineno"> 1833</span>cleanup:</div>
<div class="line"><span class="lineno"> 1834</span>  recurse_level--;</div>
<div class="line"><span class="lineno"> 1835</span>  state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> = oflags | (state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#a3747adb496e21b20abbcf8d3b1db92ce">STATE_FIRSTDONE</a>);</div>
<div class="line"><span class="lineno"> 1836</span>  <span class="keywordflow">if</span> (rc != 0)</div>
<div class="line"><span class="lineno"> 1837</span>  {</div>
<div class="line"><span class="lineno"> 1838</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Bailing on attachment of type %s/%s\n&quot;</span>, <a class="code hl_define" href="mime_8h.html#a3e568918dd102d7bfd39661c82ff6c3f">BODY_TYPE</a>(b),</div>
<div class="line"><span class="lineno"> 1839</span>               <a class="code hl_define" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>));</div>
<div class="line"><span class="lineno"> 1840</span>  }</div>
<div class="line"><span class="lineno"> 1841</span> </div>
<div class="line"><span class="lineno"> 1842</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 1843</span>}</div>
<div class="ttc" id="abuffer_8c_html_a02123807d31181ac701b566226e93b33"><div class="ttname"><a href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a></div><div class="ttdeci">int buf_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00161">buffer.c:161</a></div></div>
<div class="ttc" id="abuffer_8c_html_ac958acbd189e463a2c3bbc2f23aaeb1e"><div class="ttname"><a href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a></div><div class="ttdeci">size_t buf_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00395">buffer.c:395</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="acrypt_8c_html_a4073ce5b5fcec6e245dbfa9369016b8e"><div class="ttname"><a href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a></div><div class="ttdeci">SecurityFlags mutt_is_application_smime(struct Body *b)</div><div class="ttdoc">Does the message use S/MIME?</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00610">crypt.c:610</a></div></div>
<div class="ttc" id="acrypt_8c_html_a51806f872069460bb7f4fa16d1d92710"><div class="ttname"><a href="crypt_8c.html#a51806f872069460bb7f4fa16d1d92710">mutt_is_valid_multipart_pgp_encrypted</a></div><div class="ttdeci">int mutt_is_valid_multipart_pgp_encrypted(struct Body *b)</div><div class="ttdoc">Is this a valid multi-part encrypted message?</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00468">crypt.c:468</a></div></div>
<div class="ttc" id="acrypt_8c_html_a9edb0262eaed7c522977a75b76c15770"><div class="ttname"><a href="crypt_8c.html#a9edb0262eaed7c522977a75b76c15770">mutt_is_malformed_multipart_pgp_encrypted</a></div><div class="ttdeci">SecurityFlags mutt_is_malformed_multipart_pgp_encrypted(struct Body *b)</div><div class="ttdoc">Check for malformed layout.</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00505">crypt.c:505</a></div></div>
<div class="ttc" id="acrypt_8c_html_ad5ae8b8d4fea0b6aa61dc38312e99d15"><div class="ttname"><a href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a></div><div class="ttdeci">SecurityFlags mutt_is_application_pgp(const struct Body *b)</div><div class="ttdoc">Does the message use PGP?</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00549">crypt.c:549</a></div></div>
<div class="ttc" id="aemail_2parse_8c_html_adcc90fb584fec1be116777c533e9b3d4"><div class="ttname"><a href="email_2parse_8c.html#adcc90fb584fec1be116777c533e9b3d4">mutt_is_message_type</a></div><div class="ttdeci">bool mutt_is_message_type(int type, const char *subtype)</div><div class="ttdoc">Determine if a mime type matches a message or not.</div><div class="ttdef"><b>Definition:</b> <a href="email_2parse_8c_source.html#l01497">parse.c:1497</a></div></div>
<div class="ttc" id="aglobals_8c_html_a06fbffcecad5ed6656ea2948927b26b8"><div class="ttname"><a href="globals_8c.html#a06fbffcecad5ed6656ea2948927b26b8">OptDontHandlePgpKeys</a></div><div class="ttdeci">bool OptDontHandlePgpKeys</div><div class="ttdoc">(pseudo) used to extract PGP keys</div><div class="ttdef"><b>Definition:</b> <a href="globals_8c_source.html#l00057">globals.c:57</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga2de61c155f3d4ff8b010e2e4f615ea94"><div class="ttname"><a href="group__handler__api.html#ga2de61c155f3d4ff8b010e2e4f615ea94">crypt_pgp_application_handler</a></div><div class="ttdeci">int crypt_pgp_application_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::application_handler() - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00236">cryptglue.c:236</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga4ff5374eaa24ed80f864aa4caeb54a46"><div class="ttname"><a href="group__handler__api.html#ga4ff5374eaa24ed80f864aa4caeb54a46">alternative_handler</a></div><div class="ttdeci">static int alternative_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for multipart alternative emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00942">handler.c:942</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga52988b26b8120b105355accebe501bee"><div class="ttname"><a href="group__handler__api.html#ga52988b26b8120b105355accebe501bee">text_enriched_handler</a></div><div class="ttdeci">int text_enriched_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for enriched text - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="enriched_8c_source.html#l00469">enriched.c:469</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga5552ea70deb1b5c9d5eed357948915d6"><div class="ttname"><a href="group__handler__api.html#ga5552ea70deb1b5c9d5eed357948915d6">text_plain_handler</a></div><div class="ttdeci">static int text_plain_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for plain text - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00686">handler.c:686</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga570796cc91abc82fbc16bcd285137688"><div class="ttname"><a href="group__handler__api.html#ga570796cc91abc82fbc16bcd285137688">crypt_smime_application_handler</a></div><div class="ttdeci">int crypt_smime_application_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::application_handler() - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00443">cryptglue.c:443</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga6d9d9125a5e89f59e0bdc7dfe1da915f"><div class="ttname"><a href="group__handler__api.html#ga6d9d9125a5e89f59e0bdc7dfe1da915f">autoview_handler</a></div><div class="ttdeci">static int autoview_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for autoviewable attachments - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00533">handler.c:533</a></div></div>
<div class="ttc" id="agroup__handler__api_html_ga8a838ae7b50e8ffa147203c5cfaa3272"><div class="ttname"><a href="group__handler__api.html#ga8a838ae7b50e8ffa147203c5cfaa3272">external_body_handler</a></div><div class="ttdeci">static int external_body_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for external-body emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00771">handler.c:771</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gaadbb7eb9de333071b51c4ff88b45315b"><div class="ttname"><a href="group__handler__api.html#gaadbb7eb9de333071b51c4ff88b45315b">rfc3676_handler</a></div><div class="ttdeci">int rfc3676_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for format=flowed - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="rfc3676_8c_source.html#l00323">rfc3676.c:323</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gaadf7c637f58f34e7a58ac5b2c2b0f42f"><div class="ttname"><a href="group__handler__api.html#gaadf7c637f58f34e7a58ac5b2c2b0f42f">malformed_pgp_encrypted_handler</a></div><div class="ttdeci">static int malformed_pgp_encrypted_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for invalid pgp-encrypted emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01501">handler.c:1501</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gaaef1af1685b1d85753ac8ab8c1fc9339"><div class="ttname"><a href="group__handler__api.html#gaaef1af1685b1d85753ac8ab8c1fc9339">valid_pgp_encrypted_handler</a></div><div class="ttdeci">static int valid_pgp_encrypted_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for valid pgp-encrypted emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01472">handler.c:1472</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gabb6e3be5f79882648b38690c851c6587"><div class="ttname"><a href="group__handler__api.html#gabb6e3be5f79882648b38690c851c6587">message_handler</a></div><div class="ttdeci">static int message_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for message/rfc822 body parts - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00713">handler.c:713</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gac1b8e821ab05eee2180e82f0ae4c7421"><div class="ttname"><a href="group__handler__api.html#gac1b8e821ab05eee2180e82f0ae4c7421">multipart_handler</a></div><div class="ttdeci">static int multipart_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for multipart emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01238">handler.c:1238</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gad678bde50d3eb6367c65e9ed646939bc"><div class="ttname"><a href="group__handler__api.html#gad678bde50d3eb6367c65e9ed646939bc">multilingual_handler</a></div><div class="ttdeci">static int multilingual_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for multi-lingual emails - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01130">handler.c:1130</a></div></div>
<div class="ttc" id="agroup__handler__api_html_gad8f7563b8c9aba96de145d0e17e58437"><div class="ttname"><a href="group__handler__api.html#gad8f7563b8c9aba96de145d0e17e58437">mutt_signed_handler</a></div><div class="ttdeci">int mutt_signed_handler(struct Body *b_email, struct State *state)</div><div class="ttdoc">Handler for &quot;multipart/signed&quot; - Implements handler_t -.</div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l01242">crypt.c:1242</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00090">logging2.h:90</a></div></div>
<div class="ttc" id="ahandler_8c_html_a09f27e2821153040ea4cad0b9ade6153"><div class="ttname"><a href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a></div><div class="ttdeci">static bool is_autoview(struct Body *b)</div><div class="ttdoc">Should email body be filtered by mailcap.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00486">handler.c:486</a></div></div>
<div class="ttc" id="ahandler_8c_html_a0f1d59623c3dea670f7f5b4c17bf24a8"><div class="ttname"><a href="handler_8c.html#a0f1d59623c3dea670f7f5b4c17bf24a8">mutt_prefer_as_attachment</a></div><div class="ttdeci">bool mutt_prefer_as_attachment(struct Body *b)</div><div class="ttdoc">Do we want this part as an attachment?</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01850">handler.c:1850</a></div></div>
<div class="ttc" id="ahandler_8c_html_a72454e2cd50fcfe2124f5a923dcda538"><div class="ttname"><a href="handler_8c.html#a72454e2cd50fcfe2124f5a923dcda538">handler_t</a></div><div class="ttdeci">int(* handler_t)(struct Body *b_email, struct State *state)</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00084">handler.c:84</a></div></div>
<div class="ttc" id="ahandler_8c_html_a88df4ca81c59bfc2464df374863edfd9"><div class="ttname"><a href="handler_8c.html#a88df4ca81c59bfc2464df374863edfd9">run_decode_and_handler</a></div><div class="ttdeci">static int run_decode_and_handler(struct Body *b, struct State *state, handler_t handler, bool plaintext)</div><div class="ttdoc">Run an appropriate decoder for an email.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01327">handler.c:1327</a></div></div>
<div class="ttc" id="akey_2lib_8c_html_a11136cc3c6e52a9a3db85d1887f4fe1c"><div class="ttname"><a href="key_2lib_8c.html#a11136cc3c6e52a9a3db85d1887f4fe1c">km_find_func</a></div><div class="ttdeci">struct Keymap * km_find_func(enum MenuType mtype, int func)</div><div class="ttdoc">Find a function's mapping in a Menu.</div><div class="ttdef"><b>Definition:</b> <a href="key_2lib_8c_source.html#l00550">lib.c:550</a></div></div>
<div class="ttc" id="akey_2lib_8c_html_af30297e027dd7f2242b311aeb86d506b"><div class="ttname"><a href="key_2lib_8c.html#af30297e027dd7f2242b311aeb86d506b">km_expand_key</a></div><div class="ttdeci">bool km_expand_key(struct Keymap *map, struct Buffer *buf)</div><div class="ttdoc">Get the key string bound to a Keymap.</div><div class="ttdef"><b>Definition:</b> <a href="key_2lib_8c_source.html#l00518">lib.c:518</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00044">logging2.h:44</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a></div><div class="ttdeci">@ ENC_7BIT</div><div class="ttdoc">7-bit text</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00049">mime.h:49</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8">ENC_BINARY</a></div><div class="ttdeci">@ ENC_BINARY</div><div class="ttdoc">Binary.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00053">mime.h:53</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466">ENC_8BIT</a></div><div class="ttdeci">@ ENC_8BIT</div><div class="ttdoc">8-bit text</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00050">mime.h:50</a></div></div>
<div class="ttc" id="amime_8h_html_a37d78827e3cbfabf93b6341b5da8cdc1"><div class="ttname"><a href="mime_8h.html#a37d78827e3cbfabf93b6341b5da8cdc1">MUTT_MIME_MAX_DEPTH</a></div><div class="ttdeci">#define MUTT_MIME_MAX_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00069">mime.h:69</a></div></div>
<div class="ttc" id="amime_8h_html_a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a></div><div class="ttdeci">@ TYPE_MESSAGE</div><div class="ttdoc">Type: 'message/*'.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00035">mime.h:35</a></div></div>
<div class="ttc" id="amime_8h_html_a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a></div><div class="ttdeci">@ TYPE_MULTIPART</div><div class="ttdoc">Type: 'multipart/*'.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00037">mime.h:37</a></div></div>
<div class="ttc" id="amime_8h_html_a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a></div><div class="ttdeci">@ TYPE_APPLICATION</div><div class="ttdoc">Type: 'application/*'.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00033">mime.h:33</a></div></div>
<div class="ttc" id="amime_8h_html_a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a></div><div class="ttdeci">@ TYPE_TEXT</div><div class="ttdoc">Type: 'text/*'.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00038">mime.h:38</a></div></div>
<div class="ttc" id="amime_8h_html_a3e568918dd102d7bfd39661c82ff6c3f"><div class="ttname"><a href="mime_8h.html#a3e568918dd102d7bfd39661c82ff6c3f">BODY_TYPE</a></div><div class="ttdeci">#define BODY_TYPE(body)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00089">mime.h:89</a></div></div>
<div class="ttc" id="amime_8h_html_a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417"><div class="ttname"><a href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a></div><div class="ttdeci">@ DISP_ATTACH</div><div class="ttdoc">Content is attached.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00063">mime.h:63</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2state_8c_html_a549e8896ba39ea5006be8905349a6782"><div class="ttname"><a href="mutt_2state_8c.html#a549e8896ba39ea5006be8905349a6782">state_mark_attach</a></div><div class="ttdeci">void state_mark_attach(struct State *state)</div><div class="ttdoc">Write a unique marker around content.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8c_source.html#l00073">state.c:73</a></div></div>
<div class="ttc" id="amutt_2state_8c_html_a7566d1f9e015cd673fd8744bf5ad2f06"><div class="ttname"><a href="mutt_2state_8c.html#a7566d1f9e015cd673fd8744bf5ad2f06">state_printf</a></div><div class="ttdeci">int state_printf(struct State *state, const char *fmt,...)</div><div class="ttdoc">Write a formatted string to the State.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8c_source.html#l00187">state.c:187</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a2a4ce653367a744f47960bc30b42f3a7"><div class="ttname"><a href="mutt_2state_8h.html#a2a4ce653367a744f47960bc30b42f3a7">STATE_DISPLAY</a></div><div class="ttdeci">#define STATE_DISPLAY</div><div class="ttdoc">Output is displayed to the user.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00033">state.h:33</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a3171fa8309d985818811324b9f865934"><div class="ttname"><a href="mutt_2state_8h.html#a3171fa8309d985818811324b9f865934">STATE_DISPLAY_ATTACH</a></div><div class="ttdeci">#define STATE_DISPLAY_ATTACH</div><div class="ttdoc">We are displaying an attachment.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00041">state.h:41</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a3747adb496e21b20abbcf8d3b1db92ce"><div class="ttname"><a href="mutt_2state_8h.html#a3747adb496e21b20abbcf8d3b1db92ce">STATE_FIRSTDONE</a></div><div class="ttdeci">#define STATE_FIRSTDONE</div><div class="ttdoc">The first attachment has been done.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00040">state.h:40</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a77951e3f170a44a6e89c2261a6cf0f75"><div class="ttname"><a href="mutt_2state_8h.html#a77951e3f170a44a6e89c2261a6cf0f75">STATE_REPLYING</a></div><div class="ttdeci">#define STATE_REPLYING</div><div class="ttdoc">Are we replying?</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00039">state.h:39</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_abfcaf3ae3b8541263634aec97ee65aeb"><div class="ttname"><a href="mutt_2state_8h.html#abfcaf3ae3b8541263634aec97ee65aeb">STATE_VERIFY</a></div><div class="ttdeci">#define STATE_VERIFY</div><div class="ttdoc">Perform signature verification.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00034">state.h:34</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a29db81d6f5a7dd216cbea75ecf8a5885"><div class="ttname"><a href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a></div><div class="ttdeci">bool mutt_istr_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings, ignoring case.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00671">string.c:671</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00659">string.c:659</a></div></div>
<div class="ttc" id="ancrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign.</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00096">lib.h:96</a></div></div>
<div class="ttc" id="ancrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign.</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00097">lib.h:97</a></div></div>
<div class="ttc" id="ancrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00122">lib.h:122</a></div></div>
<div class="ttc" id="aparameter_8c_html_a31d10561ad6b3637e7591569b903aa33"><div class="ttname"><a href="parameter_8c.html#a31d10561ad6b3637e7591569b903aa33">mutt_param_get</a></div><div class="ttdeci">char * mutt_param_get(const struct ParameterList *pl, const char *s)</div><div class="ttdoc">Find a matching Parameter.</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8c_source.html#l00085">parameter.c:85</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astring2_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="string2_8h_source.html#l00036">string2.h:36</a></div></div>
<div class="ttc" id="astructBody_html_a782cee95e0064e3895b88248bdfc781a"><div class="ttname"><a href="structBody.html#a782cee95e0064e3895b88248bdfc781a">Body::parameter</a></div><div class="ttdeci">struct ParameterList parameter</div><div class="ttdoc">Parameters of the content-type.</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00063">body.h:63</a></div></div>
<div class="ttc" id="astructBody_html_a99aff302b287a47c407a7412a99630f5"><div class="ttname"><a href="structBody.html#a99aff302b287a47c407a7412a99630f5">Body::disposition</a></div><div class="ttdeci">unsigned int disposition</div><div class="ttdoc">content-disposition, ContentDisposition</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00042">body.h:42</a></div></div>
<div class="ttc" id="astructBody_html_ace00f9cba9b46a2d434764335d2fa43a"><div class="ttname"><a href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">Body::subtype</a></div><div class="ttdeci">char * subtype</div><div class="ttdoc">content-type subtype</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00061">body.h:61</a></div></div>
<div class="ttc" id="astructBody_html_ad2f05b8ff24813de41988e63de5d6a31"><div class="ttname"><a href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">Body::encoding</a></div><div class="ttdeci">unsigned int encoding</div><div class="ttdoc">content-transfer-encoding, ContentEncoding</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00041">body.h:41</a></div></div>
<div class="ttc" id="astructBody_html_af77d79aadb278bef8f2829c268f2486f"><div class="ttname"><a href="structBody.html#af77d79aadb278bef8f2829c268f2486f">Body::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">content-type primary type, ContentType</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00040">body.h:40</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
<div class="ttc" id="astructState_html_a5d855f7d518fde2ac4e8e409cbb24ad3"><div class="ttname"><a href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">State::flags</a></div><div class="ttdeci">StateFlags flags</div><div class="ttdoc">Flags, e.g. STATE_DISPLAY.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00052">state.h:52</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a></div><div class="ttdeci">@ MENU_PAGER</div><div class="ttdoc">Pager pager (email viewer)</div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00048">type.h:48</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a3e520d3004995a6c0cf0696edfd209fb_cgraph.svg" width="820" height="2468"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a3e520d3004995a6c0cf0696edfd209fb_icgraph.svg" width="416" height="876"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3cc6312b687436c5023e476461662e8e" name="a3cc6312b687436c5023e476461662e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cc6312b687436c5023e476461662e8e">&#9670;&#160;</a></span>mutt_can_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mutt_can_decode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will decoding the attachment produce any output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email.">Body</a> of email to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Decoding the attachment will produce output </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01866">1866</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1867</span>{</div>
<div class="line"><span class="lineno"> 1868</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a>(b))</div>
<div class="line"><span class="lineno"> 1869</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1870</span>  <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>)</div>
<div class="line"><span class="lineno"> 1871</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1872</span>  <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a>)</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1874</span>  <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a>)</div>
<div class="line"><span class="lineno"> 1875</span>  {</div>
<div class="line"><span class="lineno"> 1876</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a>)</div>
<div class="line"><span class="lineno"> 1877</span>    {</div>
<div class="line"><span class="lineno"> 1878</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;signed&quot;</span>) || <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(b-&gt;<a class="code hl_variable" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;encrypted&quot;</span>))</div>
<div class="line"><span class="lineno"> 1879</span>      {</div>
<div class="line"><span class="lineno"> 1880</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1881</span>      }</div>
<div class="line"><span class="lineno"> 1882</span>    }</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>    <span class="keywordflow">for</span> (<span class="keyword">struct</span> <a class="code hl_struct" href="structBody.html">Body</a> *part = b-&gt;<a class="code hl_variable" href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">parts</a>; part; part = part-&gt;<a class="code hl_variable" href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">next</a>)</div>
<div class="line"><span class="lineno"> 1885</span>    {</div>
<div class="line"><span class="lineno"> 1886</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="handler_8c.html#a3cc6312b687436c5023e476461662e8e">mutt_can_decode</a>(part))</div>
<div class="line"><span class="lineno"> 1887</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1888</span>    }</div>
<div class="line"><span class="lineno"> 1889</span>  }</div>
<div class="line"><span class="lineno"> 1890</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code hl_enumvalue" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a>))</div>
<div class="line"><span class="lineno"> 1891</span>  {</div>
<div class="line"><span class="lineno"> 1892</span>    <span class="keywordflow">if</span> (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b))</div>
<div class="line"><span class="lineno"> 1893</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1894</span>    <span class="keywordflow">if</span> (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp; <a class="code hl_function" href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a>(b))</div>
<div class="line"><span class="lineno"> 1895</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1896</span>  }</div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1899</span>}</div>
<div class="ttc" id="ahandler_8c_html_a3cc6312b687436c5023e476461662e8e"><div class="ttname"><a href="handler_8c.html#a3cc6312b687436c5023e476461662e8e">mutt_can_decode</a></div><div class="ttdeci">bool mutt_can_decode(struct Body *b)</div><div class="ttdoc">Will decoding the attachment produce any output.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01866">handler.c:1866</a></div></div>
<div class="ttc" id="astructBody_html"><div class="ttname"><a href="structBody.html">Body</a></div><div class="ttdoc">The body of an email.</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00035">body.h:36</a></div></div>
<div class="ttc" id="astructBody_html_a0b87b7bdb6faef44d9aac4854975f805"><div class="ttname"><a href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">Body::parts</a></div><div class="ttdeci">struct Body * parts</div><div class="ttdoc">parts of a multipart or message/rfc822</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00073">body.h:73</a></div></div>
<div class="ttc" id="astructBody_html_ac55cdfce46eed13151dcfe9b329d254c"><div class="ttname"><a href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">Body::next</a></div><div class="ttdeci">struct Body * next</div><div class="ttdoc">next attachment in the list</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00072">body.h:72</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a3cc6312b687436c5023e476461662e8e_cgraph.svg" width="526" height="203"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a3cc6312b687436c5023e476461662e8e_icgraph.svg" width="614" height="488"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad6e9c66285fee73e4d9553c565e10fa2" name="ad6e9c66285fee73e4d9553c565e10fa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e9c66285fee73e4d9553c565e10fa2">&#9670;&#160;</a></span>mutt_decode_attachment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_decode_attachment </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode an email's attachment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email.">Body</a> of the email </td></tr>
    <tr><td class="paramname">state</td><td><a class="el" href="structState.html" title="Keep track when processing files.">State</a> of text being processed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01906">1906</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1907</span>{</div>
<div class="line"><span class="lineno"> 1908</span>  <span class="keywordtype">int</span> istext = <a class="code hl_function" href="muttlib_8c.html#a712bb5e0a580467b5aedc08afea40b92">mutt_is_text_part</a>(b) &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code hl_enumvalue" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073">DISP_INLINE</a>);</div>
<div class="line"><span class="lineno"> 1909</span>  iconv_t cd = <a class="code hl_define" href="mutt_2charset_8h.html#a343b22f930dd486990858724937bb6cd">ICONV_T_INVALID</a>;</div>
<div class="line"><span class="lineno"> 1910</span> </div>
<div class="line"><span class="lineno"> 1911</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="file_8c.html#a6b60cb2044041374689e6e6641c5cc05">mutt_file_seek</a>(state-&gt;<a class="code hl_variable" href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">fp_in</a>, b-&gt;<a class="code hl_variable" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a>, SEEK_SET))</div>
<div class="line"><span class="lineno"> 1912</span>  {</div>
<div class="line"><span class="lineno"> 1913</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1914</span>  }</div>
<div class="line"><span class="lineno"> 1915</span> </div>
<div class="line"><span class="lineno"> 1916</span>  <span class="keywordflow">if</span> (istext &amp;&amp; (b-&gt;<a class="code hl_variable" href="structBody.html#a70436d272fe1e795057f48a508db3397">charset</a> || (state-&gt;<a class="code hl_variable" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code hl_define" href="mutt_2state_8h.html#abff873a2f7f4f3e664c8c4f90a11f44a">STATE_CHARCONV</a>)))</div>
<div class="line"><span class="lineno"> 1917</span>  {</div>
<div class="line"><span class="lineno"> 1918</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *charset = b-&gt;<a class="code hl_variable" href="structBody.html#a70436d272fe1e795057f48a508db3397">charset</a>;</div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">if</span> (!charset)</div>
<div class="line"><span class="lineno"> 1920</span>    {</div>
<div class="line"><span class="lineno"> 1921</span>      charset = <a class="code hl_function" href="parameter_8c.html#a31d10561ad6b3637e7591569b903aa33">mutt_param_get</a>(&amp;b-&gt;<a class="code hl_variable" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;charset&quot;</span>);</div>
<div class="line"><span class="lineno"> 1922</span>      <span class="keywordflow">if</span> (!charset &amp;&amp; !<a class="code hl_function" href="mutt_2slist_8c.html#a4811cefce245ed4de9d8aacd8b4ab43f">slist_is_empty</a>(<a class="code hl_function" href="config__cache_8c.html#addc06d02c91cce26bfe7c3692ddf0046">cc_assumed_charset</a>()))</div>
<div class="line"><span class="lineno"> 1923</span>        charset = <a class="code hl_function" href="mutt_2charset_8c.html#af919f6cab94a1ff6ba6fa6b9b9c2f8f8">mutt_ch_get_default_charset</a>(<a class="code hl_function" href="config__cache_8c.html#addc06d02c91cce26bfe7c3692ddf0046">cc_assumed_charset</a>());</div>
<div class="line"><span class="lineno"> 1924</span>    }</div>
<div class="line"><span class="lineno"> 1925</span>    <span class="keywordflow">if</span> (charset &amp;&amp; <a class="code hl_function" href="config__cache_8c.html#a03027fb835011539c3cbfeb1b0fa8811">cc_charset</a>())</div>
<div class="line"><span class="lineno"> 1926</span>      cd = <a class="code hl_function" href="mutt_2charset_8c.html#af7380ef31de4a56ab644b71f0a010ed9">mutt_ch_iconv_open</a>(<a class="code hl_function" href="config__cache_8c.html#a03027fb835011539c3cbfeb1b0fa8811">cc_charset</a>(), charset, <a class="code hl_define" href="mutt_2charset_8h.html#a1807a22585916adccafa5e09bda9b6a7">MUTT_ICONV_HOOK_FROM</a>);</div>
<div class="line"><span class="lineno"> 1927</span>  }</div>
<div class="line"><span class="lineno"> 1928</span> </div>
<div class="line"><span class="lineno"> 1929</span>  <span class="keywordflow">switch</span> (b-&gt;<a class="code hl_variable" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a>)</div>
<div class="line"><span class="lineno"> 1930</span>  {</div>
<div class="line"><span class="lineno"> 1931</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded">ENC_QUOTED_PRINTABLE</a>:</div>
<div class="line"><span class="lineno"> 1932</span>      <a class="code hl_function" href="handler_8c.html#ada2d5290a26fe0a595f7c0560c291a58">decode_quoted</a>(state, b-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div>
<div class="line"><span class="lineno"> 1933</span>                    istext || (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1934</span>                               <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b)),</div>
<div class="line"><span class="lineno"> 1935</span>                    cd);</div>
<div class="line"><span class="lineno"> 1936</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1937</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d">ENC_BASE64</a>:</div>
<div class="line"><span class="lineno"> 1938</span>      <a class="code hl_function" href="handler_8c.html#a7834668eb7e41062c0d6aa80589de5be">mutt_decode_base64</a>(state, b-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div>
<div class="line"><span class="lineno"> 1939</span>                         istext || (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1940</span>                                    <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b)),</div>
<div class="line"><span class="lineno"> 1941</span>                         cd);</div>
<div class="line"><span class="lineno"> 1942</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1943</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd">ENC_UUENCODED</a>:</div>
<div class="line"><span class="lineno"> 1944</span>      <a class="code hl_function" href="handler_8c.html#a2f8cdaad76dd45015a29224b1f93ab56">decode_uuencoded</a>(state, b-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div>
<div class="line"><span class="lineno"> 1945</span>                       istext || (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1946</span>                                  <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b)),</div>
<div class="line"><span class="lineno"> 1947</span>                       cd);</div>
<div class="line"><span class="lineno"> 1948</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1949</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1950</span>      <a class="code hl_function" href="handler_8c.html#ae05b9d67c488b0b7da0c946688ff9b68">decode_xbit</a>(state, b-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div>
<div class="line"><span class="lineno"> 1951</span>                  istext || (((<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code hl_define" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1952</span>                             <a class="code hl_function" href="crypt_8c.html#ad5ae8b8d4fea0b6aa61dc38312e99d15">mutt_is_application_pgp</a>(b)),</div>
<div class="line"><span class="lineno"> 1953</span>                  cd);</div>
<div class="line"><span class="lineno"> 1954</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1955</span>  }</div>
<div class="line"><span class="lineno"> 1956</span>}</div>
<div class="ttc" id="aconfig__cache_8c_html_a03027fb835011539c3cbfeb1b0fa8811"><div class="ttname"><a href="config__cache_8c.html#a03027fb835011539c3cbfeb1b0fa8811">cc_charset</a></div><div class="ttdeci">const char * cc_charset(void)</div><div class="ttdoc">Get the cached value of $charset.</div><div class="ttdef"><b>Definition:</b> <a href="config__cache_8c_source.html#l00116">config_cache.c:116</a></div></div>
<div class="ttc" id="aconfig__cache_8c_html_addc06d02c91cce26bfe7c3692ddf0046"><div class="ttname"><a href="config__cache_8c.html#addc06d02c91cce26bfe7c3692ddf0046">cc_assumed_charset</a></div><div class="ttdeci">const struct Slist * cc_assumed_charset(void)</div><div class="ttdoc">Get the cached value of $assumed_charset.</div><div class="ttdef"><b>Definition:</b> <a href="config__cache_8c_source.html#l00101">config_cache.c:101</a></div></div>
<div class="ttc" id="afile_8c_html_a6b60cb2044041374689e6e6641c5cc05"><div class="ttname"><a href="file_8c.html#a6b60cb2044041374689e6e6641c5cc05">mutt_file_seek</a></div><div class="ttdeci">bool mutt_file_seek(FILE *fp, LOFF_T offset, int whence)</div><div class="ttdoc">Wrapper for fseeko with error handling.</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00655">file.c:655</a></div></div>
<div class="ttc" id="ahandler_8c_html_a2f8cdaad76dd45015a29224b1f93ab56"><div class="ttname"><a href="handler_8c.html#a2f8cdaad76dd45015a29224b1f93ab56">decode_uuencoded</a></div><div class="ttdeci">static void decode_uuencoded(struct State *state, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode uuencoded text.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00373">handler.c:373</a></div></div>
<div class="ttc" id="ahandler_8c_html_a7834668eb7e41062c0d6aa80589de5be"><div class="ttname"><a href="handler_8c.html#a7834668eb7e41062c0d6aa80589de5be">mutt_decode_base64</a></div><div class="ttdeci">void mutt_decode_base64(struct State *state, size_t len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode base64-encoded text.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01533">handler.c:1533</a></div></div>
<div class="ttc" id="ahandler_8c_html_ada2d5290a26fe0a595f7c0560c291a58"><div class="ttname"><a href="handler_8c.html#ada2d5290a26fe0a595f7c0560c291a58">decode_quoted</a></div><div class="ttdeci">static void decode_quoted(struct State *state, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode an attachment encoded with quoted-printable.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00309">handler.c:309</a></div></div>
<div class="ttc" id="ahandler_8c_html_ae05b9d67c488b0b7da0c946688ff9b68"><div class="ttname"><a href="handler_8c.html#ae05b9d67c488b0b7da0c946688ff9b68">decode_xbit</a></div><div class="ttdeci">static void decode_xbit(struct State *state, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode xbit-encoded text.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00170">handler.c:170</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd">ENC_UUENCODED</a></div><div class="ttdeci">@ ENC_UUENCODED</div><div class="ttdoc">UUEncoded text.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00054">mime.h:54</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d">ENC_BASE64</a></div><div class="ttdeci">@ ENC_BASE64</div><div class="ttdoc">Base-64 encoded text.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00052">mime.h:52</a></div></div>
<div class="ttc" id="amime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded">ENC_QUOTED_PRINTABLE</a></div><div class="ttdeci">@ ENC_QUOTED_PRINTABLE</div><div class="ttdoc">Quoted-printable text.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00051">mime.h:51</a></div></div>
<div class="ttc" id="amime_8h_html_a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073"><div class="ttname"><a href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073">DISP_INLINE</a></div><div class="ttdeci">@ DISP_INLINE</div><div class="ttdoc">Content is inline.</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00062">mime.h:62</a></div></div>
<div class="ttc" id="amutt_2charset_8c_html_af7380ef31de4a56ab644b71f0a010ed9"><div class="ttname"><a href="mutt_2charset_8c.html#af7380ef31de4a56ab644b71f0a010ed9">mutt_ch_iconv_open</a></div><div class="ttdeci">iconv_t mutt_ch_iconv_open(const char *tocode, const char *fromcode, uint8_t flags)</div><div class="ttdoc">Set up iconv for conversions.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8c_source.html#l00594">charset.c:594</a></div></div>
<div class="ttc" id="amutt_2charset_8c_html_af919f6cab94a1ff6ba6fa6b9b9c2f8f8"><div class="ttname"><a href="mutt_2charset_8c.html#af919f6cab94a1ff6ba6fa6b9b9c2f8f8">mutt_ch_get_default_charset</a></div><div class="ttdeci">const char * mutt_ch_get_default_charset(const struct Slist *const assumed_charset)</div><div class="ttdoc">Get the default character set.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8c_source.html#l00465">charset.c:465</a></div></div>
<div class="ttc" id="amutt_2charset_8h_html_a1807a22585916adccafa5e09bda9b6a7"><div class="ttname"><a href="mutt_2charset_8h.html#a1807a22585916adccafa5e09bda9b6a7">MUTT_ICONV_HOOK_FROM</a></div><div class="ttdeci">#define MUTT_ICONV_HOOK_FROM</div><div class="ttdoc">apply charset-hooks to fromcode</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8h_source.html#l00065">charset.h:65</a></div></div>
<div class="ttc" id="amutt_2charset_8h_html_a343b22f930dd486990858724937bb6cd"><div class="ttname"><a href="mutt_2charset_8h.html#a343b22f930dd486990858724937bb6cd">ICONV_T_INVALID</a></div><div class="ttdeci">#define ICONV_T_INVALID</div><div class="ttdoc">Error value for iconv functions.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8h_source.html#l00093">charset.h:93</a></div></div>
<div class="ttc" id="amutt_2slist_8c_html_a4811cefce245ed4de9d8aacd8b4ab43f"><div class="ttname"><a href="mutt_2slist_8c.html#a4811cefce245ed4de9d8aacd8b4ab43f">slist_is_empty</a></div><div class="ttdeci">bool slist_is_empty(const struct Slist *list)</div><div class="ttdoc">Is the slist empty?</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2slist_8c_source.html#l00140">slist.c:140</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_abff873a2f7f4f3e664c8c4f90a11f44a"><div class="ttname"><a href="mutt_2state_8h.html#abff873a2f7f4f3e664c8c4f90a11f44a">STATE_CHARCONV</a></div><div class="ttdeci">#define STATE_CHARCONV</div><div class="ttdoc">Do character set conversions.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00037">state.h:37</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a712bb5e0a580467b5aedc08afea40b92"><div class="ttname"><a href="muttlib_8c.html#a712bb5e0a580467b5aedc08afea40b92">mutt_is_text_part</a></div><div class="ttdeci">bool mutt_is_text_part(const struct Body *b)</div><div class="ttdoc">Is this part of an email in plain text?</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00406">muttlib.c:406</a></div></div>
<div class="ttc" id="astructBody_html_a1969dfeb0a155ccb16153fe777a103b0"><div class="ttname"><a href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">Body::offset</a></div><div class="ttdeci">LOFF_T offset</div><div class="ttdoc">offset where the actual data begins</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00052">body.h:52</a></div></div>
<div class="ttc" id="astructBody_html_a6f92d7ec8568ca04ae07931c56dd0790"><div class="ttname"><a href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">Body::length</a></div><div class="ttdeci">LOFF_T length</div><div class="ttdoc">length (in bytes) of attachment</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00053">body.h:53</a></div></div>
<div class="ttc" id="astructBody_html_a70436d272fe1e795057f48a508db3397"><div class="ttname"><a href="structBody.html#a70436d272fe1e795057f48a508db3397">Body::charset</a></div><div class="ttdeci">char * charset</div><div class="ttdoc">Send mode: charset of attached file as stored on disk.</div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00079">body.h:79</a></div></div>
<div class="ttc" id="astructState_html_a9cf7e1f0c5c12399def5ca38b13054ae"><div class="ttname"><a href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">State::fp_in</a></div><div class="ttdeci">FILE * fp_in</div><div class="ttdoc">File to read from.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00049">state.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad6e9c66285fee73e4d9553c565e10fa2_cgraph.svg" width="784" height="650"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad6e9c66285fee73e4d9553c565e10fa2_icgraph.svg" width="659" height="648"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7834668eb7e41062c0d6aa80589de5be" name="a7834668eb7e41062c0d6aa80589de5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7834668eb7e41062c0d6aa80589de5be">&#9670;&#160;</a></span>mutt_decode_base64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_decode_base64 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>istext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iconv_t&#160;</td>
          <td class="paramname"><em>cd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode base64-encoded text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td><a class="el" href="structState.html" title="Keep track when processing files.">State</a> to work with </td></tr>
    <tr><td class="paramname">len</td><td>Length of text to decode </td></tr>
    <tr><td class="paramname">istext</td><td>Mime part is plain text </td></tr>
    <tr><td class="paramname">cd</td><td>Iconv conversion descriptor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01533">1533</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1534</span>{</div>
<div class="line"><span class="lineno"> 1535</span>  <span class="keywordtype">char</span> buf[5] = { 0 };</div>
<div class="line"><span class="lineno"> 1536</span>  <span class="keywordtype">int</span> ch, i;</div>
<div class="line"><span class="lineno"> 1537</span>  <span class="keywordtype">bool</span> cr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1538</span>  <span class="keywordtype">char</span> bufi[<a class="code hl_define" href="handler_8c.html#a238627be6fe9590ff73fcc08ae6a10b3">BUFI_SIZE</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 1539</span>  <span class="keywordtype">size_t</span> l = 0;</div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span>  buf[4] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1542</span> </div>
<div class="line"><span class="lineno"> 1543</span>  <span class="keywordflow">if</span> (istext)</div>
<div class="line"><span class="lineno"> 1544</span>    <a class="code hl_define" href="mutt_2state_8h.html#a0f20589a346d8b214575ba401aa29015">state_set_prefix</a>(state);</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>  <span class="keywordflow">while</span> (len &gt; 0)</div>
<div class="line"><span class="lineno"> 1547</span>  {</div>
<div class="line"><span class="lineno"> 1548</span>    <span class="keywordflow">for</span> (i = 0; (i &lt; 4) &amp;&amp; (len &gt; 0); len--)</div>
<div class="line"><span class="lineno"> 1549</span>    {</div>
<div class="line"><span class="lineno"> 1550</span>      ch = fgetc(state-&gt;<a class="code hl_variable" href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">fp_in</a>);</div>
<div class="line"><span class="lineno"> 1551</span>      <span class="keywordflow">if</span> (ch == EOF)</div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1553</span>      <span class="keywordflow">if</span> ((ch &gt;= 0) &amp;&amp; (ch &lt; 128) &amp;&amp; ((<a class="code hl_define" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(ch) != -1) || (ch == <span class="charliteral">&#39;=&#39;</span>)))</div>
<div class="line"><span class="lineno"> 1554</span>        buf[i++] = ch;</div>
<div class="line"><span class="lineno"> 1555</span>    }</div>
<div class="line"><span class="lineno"> 1556</span>    <span class="keywordflow">if</span> (i != 4)</div>
<div class="line"><span class="lineno"> 1557</span>    {</div>
<div class="line"><span class="lineno"> 1558</span>      <span class="comment">/* &quot;i&quot; may be zero if there is trailing whitespace, which is not an error */</span></div>
<div class="line"><span class="lineno"> 1559</span>      <span class="keywordflow">if</span> (i != 0)</div>
<div class="line"><span class="lineno"> 1560</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;didn&#39;t get a multiple of 4 chars\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1561</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1562</span>    }</div>
<div class="line"><span class="lineno"> 1563</span> </div>
<div class="line"><span class="lineno"> 1564</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> c1 = <a class="code hl_define" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[0]);</div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> c2 = <a class="code hl_define" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[1]);</div>
<div class="line"><span class="lineno"> 1566</span> </div>
<div class="line"><span class="lineno"> 1567</span>    <span class="comment">/* first char */</span></div>
<div class="line"><span class="lineno"> 1568</span>    ch = (c1 &lt;&lt; 2) | (c2 &gt;&gt; 4);</div>
<div class="line"><span class="lineno"> 1569</span> </div>
<div class="line"><span class="lineno"> 1570</span>    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><span class="lineno"> 1571</span>      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><span class="lineno"> 1572</span> </div>
<div class="line"><span class="lineno"> 1573</span>    cr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1574</span> </div>
<div class="line"><span class="lineno"> 1575</span>    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div>
<div class="line"><span class="lineno"> 1576</span>      cr = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1577</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1578</span>      bufi[l++] = ch;</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>    <span class="comment">/* second char */</span></div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (buf[2] == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno"> 1582</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1583</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> c3 = <a class="code hl_define" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[2]);</div>
<div class="line"><span class="lineno"> 1584</span>    ch = ((c2 &amp; 0xf) &lt;&lt; 4) | (c3 &gt;&gt; 2);</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><span class="lineno"> 1587</span>      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><span class="lineno"> 1588</span> </div>
<div class="line"><span class="lineno"> 1589</span>    cr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1590</span> </div>
<div class="line"><span class="lineno"> 1591</span>    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div>
<div class="line"><span class="lineno"> 1592</span>      cr = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1593</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1594</span>      bufi[l++] = ch;</div>
<div class="line"><span class="lineno"> 1595</span> </div>
<div class="line"><span class="lineno"> 1596</span>    <span class="comment">/* third char */</span></div>
<div class="line"><span class="lineno"> 1597</span>    <span class="keywordflow">if</span> (buf[3] == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno"> 1598</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> c4 = <a class="code hl_define" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[3]);</div>
<div class="line"><span class="lineno"> 1600</span>    ch = ((c3 &amp; 0x3) &lt;&lt; 6) | c4;</div>
<div class="line"><span class="lineno"> 1601</span> </div>
<div class="line"><span class="lineno"> 1602</span>    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><span class="lineno"> 1603</span>      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><span class="lineno"> 1604</span> </div>
<div class="line"><span class="lineno"> 1605</span>    cr = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div>
<div class="line"><span class="lineno"> 1608</span>      cr = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1610</span>      bufi[l++] = ch;</div>
<div class="line"><span class="lineno"> 1611</span> </div>
<div class="line"><span class="lineno"> 1612</span>    <span class="keywordflow">if</span> ((l + 8) &gt;= <span class="keyword">sizeof</span>(bufi))</div>
<div class="line"><span class="lineno"> 1613</span>      <a class="code hl_function" href="handler_8c.html#a3bb2ea87bd5c2324f5e7aea78609ad2b">convert_to_state</a>(cd, bufi, &amp;l, state);</div>
<div class="line"><span class="lineno"> 1614</span>  }</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>  <span class="keywordflow">if</span> (cr)</div>
<div class="line"><span class="lineno"> 1617</span>    bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><span class="lineno"> 1618</span> </div>
<div class="line"><span class="lineno"> 1619</span>  <a class="code hl_function" href="handler_8c.html#a3bb2ea87bd5c2324f5e7aea78609ad2b">convert_to_state</a>(cd, bufi, &amp;l, state);</div>
<div class="line"><span class="lineno"> 1620</span>  <a class="code hl_function" href="handler_8c.html#a3bb2ea87bd5c2324f5e7aea78609ad2b">convert_to_state</a>(cd, 0, 0, state);</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>  <a class="code hl_define" href="mutt_2state_8h.html#a4437cf67431f33cd4497b5a8c276decd">state_reset_prefix</a>(state);</div>
<div class="line"><span class="lineno"> 1623</span>}</div>
<div class="ttc" id="abase64_8h_html_a7d7ae4dd0a9d6cbb528295fb24b91a9d"><div class="ttname"><a href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a></div><div class="ttdeci">#define base64val(ch)</div><div class="ttdef"><b>Definition:</b> <a href="base64_8h_source.html#l00032">base64.h:32</a></div></div>
<div class="ttc" id="ahandler_8c_html_a238627be6fe9590ff73fcc08ae6a10b3"><div class="ttname"><a href="handler_8c.html#a238627be6fe9590ff73fcc08ae6a10b3">BUFI_SIZE</a></div><div class="ttdeci">#define BUFI_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00067">handler.c:67</a></div></div>
<div class="ttc" id="ahandler_8c_html_a3bb2ea87bd5c2324f5e7aea78609ad2b"><div class="ttname"><a href="handler_8c.html#a3bb2ea87bd5c2324f5e7aea78609ad2b">convert_to_state</a></div><div class="ttdeci">static void convert_to_state(iconv_t cd, char *bufi, size_t *l, struct State *state)</div><div class="ttdoc">Convert text and write it to a file.</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00121">handler.c:121</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdeci">@ LL_DEBUG2</div><div class="ttdoc">Log at debug level 2.</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a0f20589a346d8b214575ba401aa29015"><div class="ttname"><a href="mutt_2state_8h.html#a0f20589a346d8b214575ba401aa29015">state_set_prefix</a></div><div class="ttdeci">#define state_set_prefix(state)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00056">state.h:56</a></div></div>
<div class="ttc" id="amutt_2state_8h_html_a4437cf67431f33cd4497b5a8c276decd"><div class="ttname"><a href="mutt_2state_8h.html#a4437cf67431f33cd4497b5a8c276decd">state_reset_prefix</a></div><div class="ttdeci">#define state_reset_prefix(state)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2state_8h_source.html#l00057">state.h:57</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a7834668eb7e41062c0d6aa80589de5be_cgraph.svg" width="340" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a7834668eb7e41062c0d6aa80589de5be_icgraph.svg" width="395" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0f1d59623c3dea670f7f5b4c17bf24a8" name="a0f1d59623c3dea670f7f5b4c17bf24a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1d59623c3dea670f7f5b4c17bf24a8">&#9670;&#160;</a></span>mutt_prefer_as_attachment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mutt_prefer_as_attachment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do we want this part as an attachment? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email.">Body</a> of email to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>We want this part as an attachment </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01850">1850</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1851</span>{</div>
<div class="line"><span class="lineno"> 1852</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="handler_8c.html#a3cc6312b687436c5023e476461662e8e">mutt_can_decode</a>(b))</div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1854</span> </div>
<div class="line"><span class="lineno"> 1855</span>  <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> != <a class="code hl_enumvalue" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>)</div>
<div class="line"><span class="lineno"> 1856</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1857</span> </div>
<div class="line"><span class="lineno"> 1858</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;honor_disposition&quot;</span>);</div>
<div class="line"><span class="lineno"> 1859</span>}</div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a0f1d59623c3dea670f7f5b4c17bf24a8_cgraph.svg" width="384" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a0f1d59623c3dea670f7f5b4c17bf24a8_icgraph.svg" width="447" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
