<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: nntp/private.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-30-ge364a7</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('nntp_2private_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">private.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Usenet network mailbox type; talk to an NNTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nntp_2lib_8h_source.html">lib.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for private.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h__incl.svg" width="172" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h__dep__incl.svg" width="488" height="119"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="nntp_2private_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaccdd399473f113674cbabfeaa5ef972" id="r_aaccdd399473f113674cbabfeaa5ef972"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a>&#160;&#160;&#160;119</td></tr>
<tr class="separator:aaccdd399473f113674cbabfeaa5ef972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2acdcc22ea61457b4dcafc8825aae5" id="r_a1e2acdcc22ea61457b4dcafc8825aae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a>&#160;&#160;&#160;563</td></tr>
<tr class="separator:a1e2acdcc22ea61457b4dcafc8825aae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a30e5c5a44ecbd929699e93d887f39f6f" id="r_a30e5c5a44ecbd929699e93d887f39f6f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30e5c5a44ecbd929699e93d887f39f6f">NntpStatus</a> { <a class="el" href="#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a> = 0
, <a class="el" href="#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>
, <a class="el" href="#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>
 }</td></tr>
<tr class="memdesc:a30e5c5a44ecbd929699e93d887f39f6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP server return values.  <a href="#a30e5c5a44ecbd929699e93d887f39f6f">More...</a><br /></td></tr>
<tr class="separator:a30e5c5a44ecbd929699e93d887f39f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac5290f190dba237467e63bd09ddc28c0" id="r_ac5290f190dba237467e63bd09ddc28c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5290f190dba237467e63bd09ddc28c0">nntp_acache_free</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ac5290f190dba237467e63bd09ddc28c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all temporarily cache files.  <br /></td></tr>
<tr class="separator:ac5290f190dba237467e63bd09ddc28c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b8319b59b7ef6de942cd25400e0d79" id="r_aa8b8319b59b7ef6de942cd25400e0d79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:aa8b8319b59b7ef6de942cd25400e0d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save list of all newsgroups to cache.  <br /></td></tr>
<tr class="separator:aa8b8319b59b7ef6de942cd25400e0d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a81ebd8f2d0f68109bddeef2c87ea83" id="r_a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a> (char *line, void *data)</td></tr>
<tr class="memdesc:a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse newsgroup.  <br /></td></tr>
<tr class="separator:a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2a364d853a786fb0b224c379d28eab" id="r_a3a2a364d853a786fb0b224c379d28eab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a2a364d853a786fb0b224c379d28eab">nntp_article_status</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e, char *group, <a class="el" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> anum)</td></tr>
<tr class="memdesc:a3a2a364d853a786fb0b224c379d28eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of articles from .newsrc.  <br /></td></tr>
<tr class="separator:a3a2a364d853a786fb0b224c379d28eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab103e38d32e64122d7892f29eeb67fcf" id="r_ab103e38d32e64122d7892f29eeb67fcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ab103e38d32e64122d7892f29eeb67fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale cached messages.  <br /></td></tr>
<tr class="separator:ab103e38d32e64122d7892f29eeb67fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4ed64d09034fa97562c2976d80d614" id="r_a1f4ed64d09034fa97562c2976d80d614"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a1f4ed64d09034fa97562c2976d80d614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for new groups/articles in subscribed groups.  <br /></td></tr>
<tr class="separator:a1f4ed64d09034fa97562c2976d80d614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140bf8e49e3f11e0d9cb4d8253767819" id="r_a140bf8e49e3f11e0d9cb4d8253767819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:a140bf8e49e3f11e0d9cb4d8253767819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove hcache and bcache of newsgroup.  <br /></td></tr>
<tr class="separator:a140bf8e49e3f11e0d9cb4d8253767819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab375e79092001683947b61e4079db8c0" id="r_ab375e79092001683947b61e4079db8c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ab375e79092001683947b61e4079db8c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count number of unread articles using .newsrc data.  <br /></td></tr>
<tr class="separator:ab375e79092001683947b61e4079db8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6878e3c1f4e9732730a98a1fdda431e7" id="r_a6878e3c1f4e9732730a98a1fdda431e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6878e3c1f4e9732730a98a1fdda431e7">nntp_hash_destructor_t</a> (int type, void *obj, intptr_t data)</td></tr>
<tr class="separator:a6878e3c1f4e9732730a98a1fdda431e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0875a3a6254736262cb62517ebcbf5b9" id="r_ga0875a3a6254736262cb62517ebcbf5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hash__hdata__free__api.html#ga0875a3a6254736262cb62517ebcbf5b9">nntp_hashelem_free</a> (int type, void *obj, intptr_t data)</td></tr>
<tr class="memdesc:ga0875a3a6254736262cb62517ebcbf5b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free our hash table data - Implements <a class="el" href="hash_8h.html#a984643f7b9b40f093ad3d6335b7a5118">hash_hdata_free_t</a> -.  <br /></td></tr>
<tr class="separator:ga0875a3a6254736262cb62517ebcbf5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00132ef57a28e8ec428b6fa298ea63d4" id="r_a00132ef57a28e8ec428b6fa298ea63d4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:a00132ef57a28e8ec428b6fa298ea63d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open newsgroup hcache.  <br /></td></tr>
<tr class="separator:a00132ef57a28e8ec428b6fa298ea63d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f479090028437bbd1cc59a08942112" id="r_a25f479090028437bbd1cc59a08942112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata, struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc)</td></tr>
<tr class="memdesc:a25f479090028437bbd1cc59a08942112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale cached headers.  <br /></td></tr>
<tr class="separator:a25f479090028437bbd1cc59a08942112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d6dfb74310c442a524deed9579395a" id="r_a21d6dfb74310c442a524deed9579395a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21d6dfb74310c442a524deed9579395a">nntp_newsrc_gen_entries</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a21d6dfb74310c442a524deed9579395a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate array of .newsrc entries.  <br /></td></tr>
<tr class="separator:a21d6dfb74310c442a524deed9579395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4e8951366a6bf81d5d4d4ecf5ad4ba" id="r_abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to server, authenticate and get capabilities.  <br /></td></tr>
<tr class="separator:abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Usenet network mailbox type; talk to an NNTP server. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aaccdd399473f113674cbabfeaa5ef972" name="aaccdd399473f113674cbabfeaa5ef972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccdd399473f113674cbabfeaa5ef972">&#9670;&#160;</a></span>NNTP_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_PORT&#160;&#160;&#160;119</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00036">36</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>

</div>
</div>
<a id="a1e2acdcc22ea61457b4dcafc8825aae5" name="a1e2acdcc22ea61457b4dcafc8825aae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2acdcc22ea61457b4dcafc8825aae5">&#9670;&#160;</a></span>NNTP_SSL_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_SSL_PORT&#160;&#160;&#160;563</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00037">37</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a30e5c5a44ecbd929699e93d887f39f6f" name="a30e5c5a44ecbd929699e93d887f39f6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e5c5a44ecbd929699e93d887f39f6f">&#9670;&#160;</a></span>NntpStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a30e5c5a44ecbd929699e93d887f39f6f">NntpStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NNTP server return values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c" name="a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"></a>NNTP_NONE&#160;</td><td class="fielddoc"><p>No connection to server. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03" name="a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03"></a>NNTP_OK&#160;</td><td class="fielddoc"><p>Connected to server. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0" name="a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"></a>NNTP_BYE&#160;</td><td class="fielddoc"><p>Disconnected from server. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00042">42</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{</div>
<div class="line"><span class="lineno">   44</span>  <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a> = 0, </div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>,       </div>
<div class="line"><span class="lineno">   46</span>  <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>,      </div>
<div class="line"><span class="lineno">   47</span>};</div>
<div class="ttc" id="anntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"><div class="ttname"><a href="#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a></div><div class="ttdeci">@ NNTP_NONE</div><div class="ttdoc">No connection to server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2private_8h_source.html#l00044">private.h:44</a></div></div>
<div class="ttc" id="anntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"><div class="ttname"><a href="#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a></div><div class="ttdeci">@ NNTP_BYE</div><div class="ttdoc">Disconnected from server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2private_8h_source.html#l00046">private.h:46</a></div></div>
<div class="ttc" id="anntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03"><div class="ttname"><a href="#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a></div><div class="ttdeci">@ NNTP_OK</div><div class="ttdoc">Connected to server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2private_8h_source.html#l00045">private.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5290f190dba237467e63bd09ddc28c0" name="ac5290f190dba237467e63bd09ddc28c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5290f190dba237467e63bd09ddc28c0">&#9670;&#160;</a></span>nntp_acache_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_acache_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all temporarily cache files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00104">104</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a>; i++)</div>
<div class="line"><span class="lineno">  107</span>  {</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>)</div>
<div class="line"><span class="lineno">  109</span>    {</div>
<div class="line"><span class="lineno">  110</span>      unlink(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno">  111</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno">  112</span>    }</div>
<div class="line"><span class="lineno">  113</span>  }</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00062">memory.h:62</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a1efe6072fe3f0f219d90675e1aa55f40"><div class="ttname"><a href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a></div><div class="ttdeci">#define NNTP_ACACHE_LEN</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00084">lib.h:84</a></div></div>
<div class="ttc" id="astructNntpAcache_html_a33c62982769726fafeb4e89d6c92905c"><div class="ttname"><a href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">NntpAcache::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Cache path.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00071">lib.h:71</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_ac77579c4bad5769c1ed74f5990701cf5"><div class="ttname"><a href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">NntpMboxData::acache</a></div><div class="ttdeci">struct NntpAcache acache[NNTP_ACACHE_LEN]</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ac5290f190dba237467e63bd09ddc28c0_icgraph.svg" width="494" height="66"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa8b8319b59b7ef6de942cd25400e0d79" name="aa8b8319b59b7ef6de942cd25400e0d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b8319b59b7ef6de942cd25400e0d79">&#9670;&#160;</a></span>nntp_active_save_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_active_save_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save list of all newsgroups to cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00647">647</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  648</span>{</div>
<div class="line"><span class="lineno">  649</span>  <span class="keywordflow">if</span> (!adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordtype">size_t</span> buflen = 10240;</div>
<div class="line"><span class="lineno">  653</span>  <span class="keywordtype">char</span> *buf = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(buflen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  654</span>  snprintf(buf, buflen, <span class="stringliteral">&quot;%lu\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>);</div>
<div class="line"><span class="lineno">  655</span>  <span class="keywordtype">size_t</span> off = strlen(buf);</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno">  658</span>  {</div>
<div class="line"><span class="lineno">  659</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> || <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted)</div>
<div class="line"><span class="lineno">  662</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">if</span> ((off + strlen(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group) + (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc ? strlen(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc) : 0) + 50) &gt; buflen)</div>
<div class="line"><span class="lineno">  665</span>    {</div>
<div class="line"><span class="lineno">  666</span>      buflen *= 2;</div>
<div class="line"><span class="lineno">  667</span>      <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;buf, buflen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  668</span>    }</div>
<div class="line"><span class="lineno">  669</span>    snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%s &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; %c%s%s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  670</span>             <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message,</div>
<div class="line"><span class="lineno">  671</span>             <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;allowed ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  672</span>             <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc ? <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>    off += strlen(buf + off);</div>
<div class="line"><span class="lineno">  674</span>  }</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  <span class="keywordtype">char</span> file[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  677</span>  <a class="code hl_function" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file, <span class="keyword">sizeof</span>(file), &amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, <span class="stringliteral">&quot;.active&quot;</span>);</div>
<div class="line"><span class="lineno">  678</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Updating %s\n&quot;</span>, file);</div>
<div class="line"><span class="lineno">  679</span>  <span class="keywordtype">int</span> rc = <a class="code hl_function" href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a>(file, buf);</div>
<div class="line"><span class="lineno">  680</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;buf);</div>
<div class="line"><span class="lineno">  681</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  682</span>}</div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00090">logging2.h:90</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00044">logging2.h:44</a></div></div>
<div class="ttc" id="amemory_8h_html_a9aaf8f21a29735767a069ff1aee9d7d9"><div class="ttname"><a href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a></div><div class="ttdeci">#define MUTT_MEM_CALLOC(n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00047">memory.h:47</a></div></div>
<div class="ttc" id="amemory_8h_html_abd7aad5fe8f11bcd476c64b4243081ba"><div class="ttname"><a href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a></div><div class="ttdeci">#define MUTT_MEM_REALLOC(pptr, n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00050">memory.h:50</a></div></div>
<div class="ttc" id="amutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00042">mutt.h:42</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a400892d96104e348988b980faace6d3f"><div class="ttname"><a href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a></div><div class="ttdeci">static int update_file(char *filename, char *buf)</div><div class="ttdoc">Update file with new contents.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00393">newsrc.c:393</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00524">newsrc.c:524</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a9d3ef937cceedd7b24520f69c5191d68"><div class="ttname"><a href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a></div><div class="ttdeci">#define ANUM_FMT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="astructConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00049">connection.h:49</a></div></div>
<div class="ttc" id="astructMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00132">mailbox.h:132</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a001b86788ccf66b12160431cbbb6e0bf"><div class="ttname"><a href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">NntpAccountData::newgroups_time</a></div><div class="ttdeci">time_t newgroups_time</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00056">adata.h:56</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a17e649e29d0d7d8e6137647e62aa4b37"><div class="ttname"><a href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">NntpAccountData::groups_list</a></div><div class="ttdeci">struct NntpMboxData ** groups_list</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00060">adata.h:60</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to NNTP Server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00058">adata.h:58</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00048">adata.h:48</a></div></div>
<div class="ttc" id="astructNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00033">mdata.h:34</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00048">mdata.h:48</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_aa8b8319b59b7ef6de942cd25400e0d79_cgraph.svg" width="334" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_aa8b8319b59b7ef6de942cd25400e0d79_icgraph.svg" width="398" height="200"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4a81ebd8f2d0f68109bddeef2c87ea83" name="a4a81ebd8f2d0f68109bddeef2c87ea83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a81ebd8f2d0f68109bddeef2c87ea83">&#9670;&#160;</a></span>nntp_add_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_add_group </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>String to parse </td></tr>
    <tr><td class="paramname">data</td><td>NNTP data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Always </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00572">572</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  573</span>{</div>
<div class="line"><span class="lineno">  574</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = data;</div>
<div class="line"><span class="lineno">  575</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = NULL;</div>
<div class="line"><span class="lineno">  576</span>  <span class="keywordtype">char</span> <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>[1024] = { 0 };</div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordtype">char</span> <a class="code hl_variable" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>[8192] = { 0 };</div>
<div class="line"><span class="lineno">  578</span>  <span class="keywordtype">char</span> mod = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  579</span>  <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = 0, last = 0;</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !line)</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>  <span class="comment">/* These sscanf limits must match the sizes of the group and desc arrays */</span></div>
<div class="line"><span class="lineno">  585</span>  <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;%1023s &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; %c %8191[^\n]&quot;</span>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>,</div>
<div class="line"><span class="lineno">  586</span>             &amp;last, &amp;first, &amp;mod, <a class="code hl_variable" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>) &lt; 4)</div>
<div class="line"><span class="lineno">  587</span>  {</div>
<div class="line"><span class="lineno">  588</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;Can&#39;t parse server line: %s\n&quot;</span>, line);</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  590</span>  }</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="newsrc_8c.html#a9f33e774091672b52c32fcdf3a96b05c">mdata_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno">  593</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  594</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message = first;</div>
<div class="line"><span class="lineno">  595</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message = last;</div>
<div class="line"><span class="lineno">  596</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;allowed = (mod == <span class="charliteral">&#39;y&#39;</span>) || (mod == <span class="charliteral">&#39;m&#39;</span>);</div>
<div class="line"><span class="lineno">  597</span>  <a class="code hl_function" href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc, <a class="code hl_variable" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>);</div>
<div class="line"><span class="lineno">  598</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent || (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_cached != 0))</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_function" href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno">  600</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message &amp;&amp; (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message &lt;= <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message))</div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message - <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message + 1;</div>
<div class="line"><span class="lineno">  602</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread = 0;</div>
<div class="line"><span class="lineno">  604</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  605</span>}</div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdeci">@ LL_DEBUG2</div><div class="ttdoc">Log at debug level 2.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_af8c32ffc64dd55e92001a974a4be6bbf"><div class="ttname"><a href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00282">string.c:282</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a9f33e774091672b52c32fcdf3a96b05c"><div class="ttname"><a href="newsrc_8c.html#a9f33e774091672b52c32fcdf3a96b05c">mdata_find</a></div><div class="ttdeci">static struct NntpMboxData * mdata_find(struct NntpAccountData *adata, const char *group)</div><div class="ttdoc">Find NntpMboxData for given newsgroup or add it.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00074">newsrc.c:74</a></div></div>
<div class="ttc" id="anewsrc_8c_html_ab375e79092001683947b61e4079db8c0"><div class="ttname"><a href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a></div><div class="ttdeci">void nntp_group_unread_stat(struct NntpMboxData *mdata)</div><div class="ttdoc">Count number of unread articles using .newsrc data.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00134">newsrc.c:134</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00035">adata.h:36</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdoc">Name of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a6d1f6681e3b32714f5c85d463f38fab8"><div class="ttname"><a href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">NntpMboxData::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdoc">Description of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a4a81ebd8f2d0f68109bddeef2c87ea83_cgraph.svg" width="354" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a4a81ebd8f2d0f68109bddeef2c87ea83_icgraph.svg" width="352" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3a2a364d853a786fb0b224c379d28eab" name="a3a2a364d853a786fb0b224c379d28eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2a364d853a786fb0b224c379d28eab">&#9670;&#160;</a></span>nntp_article_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_article_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></td>          <td class="paramname"><span class="paramname"><em>anum</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get status of articles from .newsrc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email.">Email</a> </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
    <tr><td class="paramname">anum</td><td>Article number</td></tr>
  </table>
  </dd>
</dl>
<p>Full status flags are not supported by nntp, but we can fake some of them: Read = a read message number is in the .newsrc New = not read and not cached Old = not read but cached </p>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01138">1138</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1139</span>{</div>
<div class="line"><span class="lineno"> 1140</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>)</div>
<div class="line"><span class="lineno"> 1143</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata-&gt;groups_hash, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len; i++)</div>
<div class="line"><span class="lineno"> 1149</span>  {</div>
<div class="line"><span class="lineno"> 1150</span>    <span class="keywordflow">if</span> ((anum &gt;= <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[i].first) &amp;&amp; (anum &lt;= mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code hl_variable" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>))</div>
<div class="line"><span class="lineno"> 1151</span>    {</div>
<div class="line"><span class="lineno"> 1152</span>      <span class="comment">/* can&#39;t use mutt_set_flag() because mview_update() didn&#39;t get called yet */</span></div>
<div class="line"><span class="lineno"> 1153</span>      e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1154</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1155</span>    }</div>
<div class="line"><span class="lineno"> 1156</span>  }</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>  <span class="comment">/* article was not cached yet, it&#39;s new */</span></div>
<div class="line"><span class="lineno"> 1159</span>  <span class="keywordflow">if</span> (anum &gt; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_cached)</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>  <span class="comment">/* article isn&#39;t read but cached, it&#39;s old */</span></div>
<div class="line"><span class="lineno"> 1163</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_mark_old = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mark_old&quot;</span>);</div>
<div class="line"><span class="lineno"> 1164</span>  <span class="keywordflow">if</span> (c_mark_old)</div>
<div class="line"><span class="lineno"> 1165</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1166</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="ahash_8c_html_a21cfc2c56db496fc57d3d85a71c03215"><div class="ttname"><a href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00362">hash.c:362</a></div></div>
<div class="ttc" id="astructEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="astructEmail_html_a6d9062408a8c89b19cf25584dd2ffb57"><div class="ttname"><a href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">Email::old</a></div><div class="ttdeci">bool old</div><div class="ttdoc">Email is seen, but unread.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00049">email.h:49</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00041">neomutt.h:42</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00046">neomutt.h:46</a></div></div>
<div class="ttc" id="astructNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdoc">Last article number in run.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00080">lib.h:80</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a3a2a364d853a786fb0b224c379d28eab_cgraph.svg" width="312" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a3a2a364d853a786fb0b224c379d28eab_icgraph.svg" width="864" height="166"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab103e38d32e64122d7892f29eeb67fcf" name="ab103e38d32e64122d7892f29eeb67fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab103e38d32e64122d7892f29eeb67fcf">&#9670;&#160;</a></span>nntp_bcache_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_bcache_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove stale cached messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00799">799</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  800</span>{</div>
<div class="line"><span class="lineno">  801</span>  <a class="code hl_function" href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, <a class="code hl_function" href="group__bcache__list__api.html#ga181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a>, mdata);</div>
<div class="line"><span class="lineno">  802</span>}</div>
<div class="ttc" id="abcache_8c_html_a61b6432fa4ef33ea232dad524cf907bb"><div class="ttname"><a href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a></div><div class="ttdeci">int mutt_bcache_list(struct BodyCache *bcache, bcache_list_t want_id, void *data)</div><div class="ttdoc">Find matching entries in the Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00334">bcache.c:334</a></div></div>
<div class="ttc" id="agroup__bcache__list__api_html_ga181aa7de0266d119dcc65f48088c306d"><div class="ttname"><a href="group__bcache__list__api.html#ga181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a></div><div class="ttdeci">static int nntp_bcache_delete(const char *id, struct BodyCache *bcache, void *data)</div><div class="ttdoc">Delete an entry from the message cache - Implements bcache_list_t -.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00779">newsrc.c:779</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00050">mdata.h:50</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab103e38d32e64122d7892f29eeb67fcf_cgraph.svg" width="354" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab103e38d32e64122d7892f29eeb67fcf_icgraph.svg" width="338" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1f4ed64d09034fa97562c2976d80d614" name="a1f4ed64d09034fa97562c2976d80d614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4ed64d09034fa97562c2976d80d614">&#9670;&#160;</a></span>nntp_check_new_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_new_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for new groups/articles in subscribed groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>New groups found </td></tr>
    <tr><td class="paramname">0</td><td>No new groups </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02104">2104</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2105</span>{</div>
<div class="line"><span class="lineno"> 2106</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div>
<div class="line"><span class="lineno"> 2107</span>  time_t now = 0;</div>
<div class="line"><span class="lineno"> 2108</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 2109</span>  <span class="keywordtype">char</span> *msg = <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Checking for new newsgroups...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2110</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 2111</span>  <span class="keywordtype">int</span> rc, update_active = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2112</span> </div>
<div class="line"><span class="lineno"> 2113</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>)</div>
<div class="line"><span class="lineno"> 2114</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>  <span class="comment">/* check subscribed newsgroups for new articles */</span></div>
<div class="line"><span class="lineno"> 2117</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_show_new_news = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;show_new_news&quot;</span>);</div>
<div class="line"><span class="lineno"> 2118</span>  <span class="keywordflow">if</span> (c_show_new_news)</div>
<div class="line"><span class="lineno"> 2119</span>  {</div>
<div class="line"><span class="lineno"> 2120</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Checking for new messages...&quot;</span>));</div>
<div class="line"><span class="lineno"> 2121</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno"> 2122</span>    {</div>
<div class="line"><span class="lineno"> 2123</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno"> 2124</span> </div>
<div class="line"><span class="lineno"> 2125</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> &amp;&amp; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed)</div>
<div class="line"><span class="lineno"> 2126</span>      {</div>
<div class="line"><span class="lineno"> 2127</span>        rc = <a class="code hl_function" href="nntp_8c.html#a3dc0585ce5a5060f5c07bdc1c89e373b">nntp_group_poll</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2128</span>        <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 2129</span>          <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2130</span>        <span class="keywordflow">if</span> (rc &gt; 0)</div>
<div class="line"><span class="lineno"> 2131</span>          update_active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2132</span>      }</div>
<div class="line"><span class="lineno"> 2133</span>    }</div>
<div class="line"><span class="lineno"> 2134</span>  }</div>
<div class="line"><span class="lineno"> 2135</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>)</div>
<div class="line"><span class="lineno"> 2136</span>  {</div>
<div class="line"><span class="lineno"> 2137</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2138</span>  }</div>
<div class="line"><span class="lineno"> 2139</span> </div>
<div class="line"><span class="lineno"> 2140</span>  <span class="comment">/* get list of new groups */</span></div>
<div class="line"><span class="lineno"> 2141</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<span class="stringliteral">&quot;%s&quot;</span>, msg);</div>
<div class="line"><span class="lineno"> 2142</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>, &amp;now) &lt; 0)</div>
<div class="line"><span class="lineno"> 2143</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2144</span>  tmp_mdata.<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div>
<div class="line"><span class="lineno"> 2145</span>  <span class="keywordflow">if</span> (m &amp;&amp; m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 2146</span>    tmp_mdata.<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = ((<span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *) m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>;</div>
<div class="line"><span class="lineno"> 2147</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2148</span>    tmp_mdata.<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = NULL;</div>
<div class="line"><span class="lineno"> 2149</span>  i = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>;</div>
<div class="line"><span class="lineno"> 2150</span>  <span class="keyword">struct </span>tm tm = <a class="code hl_function" href="mutt_2date_8c.html#a76f10949abf7521c519bced738be2694">mutt_date_gmtime</a>(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>);</div>
<div class="line"><span class="lineno"> 2151</span>  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;NEWGROUPS %02d%02d%02d %02d%02d%02d GMT\r\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2152</span>           tm.tm_year % 100, tm.tm_mon + 1, tm.tm_mday, tm.tm_hour, tm.tm_min, tm.tm_sec);</div>
<div class="line"><span class="lineno"> 2153</span>  rc = <a class="code hl_function" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(&amp;tmp_mdata, buf, <span class="keyword">sizeof</span>(buf), msg, <a class="code hl_function" href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a>, adata);</div>
<div class="line"><span class="lineno"> 2154</span>  <span class="keywordflow">if</span> (rc)</div>
<div class="line"><span class="lineno"> 2155</span>  {</div>
<div class="line"><span class="lineno"> 2156</span>    <span class="keywordflow">if</span> (rc &gt; 0)</div>
<div class="line"><span class="lineno"> 2157</span>    {</div>
<div class="line"><span class="lineno"> 2158</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;NEWGROUPS: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2159</span>    }</div>
<div class="line"><span class="lineno"> 2160</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2161</span>  }</div>
<div class="line"><span class="lineno"> 2162</span> </div>
<div class="line"><span class="lineno"> 2163</span>  <span class="comment">/* new groups found */</span></div>
<div class="line"><span class="lineno"> 2164</span>  rc = 0;</div>
<div class="line"><span class="lineno"> 2165</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a> != i)</div>
<div class="line"><span class="lineno"> 2166</span>  {</div>
<div class="line"><span class="lineno"> 2167</span>    <span class="keywordtype">int</span> groups_num = i;</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>    adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a> = now;</div>
<div class="line"><span class="lineno"> 2170</span>    <span class="keywordflow">for</span> (; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno"> 2171</span>    {</div>
<div class="line"><span class="lineno"> 2172</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno"> 2173</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;<a class="code hl_variable" href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">has_new_mail</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2174</span>    }</div>
<div class="line"><span class="lineno"> 2175</span> </div>
<div class="line"><span class="lineno"> 2176</span>    <span class="comment">/* loading descriptions */</span></div>
<div class="line"><span class="lineno"> 2177</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div>
<div class="line"><span class="lineno"> 2178</span>    <span class="keywordflow">if</span> (c_nntp_load_description)</div>
<div class="line"><span class="lineno"> 2179</span>    {</div>
<div class="line"><span class="lineno"> 2180</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno"> 2181</span>      <span class="keyword">struct </span>Progress *progress = <a class="code hl_function" href="progress_2lib_8h.html#a551a8d9e844532e2851d6bee121c09b3">progress_new</a>(<a class="code hl_enumvalue" href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489">MUTT_PROGRESS_READ</a>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a> - i);</div>
<div class="line"><span class="lineno"> 2182</span>      <a class="code hl_function" href="progress_2lib_8h.html#abd7142bf1b3c664cf1c3edca7c9b41d8">progress_set_message</a>(progress, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading descriptions...&quot;</span>));</div>
<div class="line"><span class="lineno"> 2183</span> </div>
<div class="line"><span class="lineno"> 2184</span>      <span class="keywordflow">for</span> (i = groups_num; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno"> 2185</span>      {</div>
<div class="line"><span class="lineno"> 2186</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno"> 2187</span> </div>
<div class="line"><span class="lineno"> 2188</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, NULL, NULL) &lt; 0)</div>
<div class="line"><span class="lineno"> 2189</span>        {</div>
<div class="line"><span class="lineno"> 2190</span>          <a class="code hl_function" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;progress);</div>
<div class="line"><span class="lineno"> 2191</span>          <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2192</span>        }</div>
<div class="line"><span class="lineno"> 2193</span>        <a class="code hl_function" href="progress_2lib_8h.html#ae0ca330f9059a039a4ece5cb1b00155b">progress_update</a>(progress, ++count, -1);</div>
<div class="line"><span class="lineno"> 2194</span>      }</div>
<div class="line"><span class="lineno"> 2195</span>      <a class="code hl_function" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;progress);</div>
<div class="line"><span class="lineno"> 2196</span>    }</div>
<div class="line"><span class="lineno"> 2197</span>    update_active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2198</span>    rc = 1;</div>
<div class="line"><span class="lineno"> 2199</span>  }</div>
<div class="line"><span class="lineno"> 2200</span>  <span class="keywordflow">if</span> (update_active)</div>
<div class="line"><span class="lineno"> 2201</span>    <a class="code hl_function" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2202</span>  <a class="code hl_function" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div>
<div class="line"><span class="lineno"> 2203</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 2204</span>}</div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00092">logging2.h:92</a></div></div>
<div class="ttc" id="amutt_2date_8c_html_a76f10949abf7521c519bced738be2694"><div class="ttname"><a href="mutt_2date_8c.html#a76f10949abf7521c519bced738be2694">mutt_date_gmtime</a></div><div class="ttdeci">struct tm mutt_date_gmtime(time_t t)</div><div class="ttdoc">Converts calendar time to a broken-down time structure expressed in UTC timezone.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2date_8c_source.html#l00926">date.c:926</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen)</div><div class="ttdef"><b>Definition</b> <a href="mutt__logging_8c_source.html#l00074">mutt_logging.c:74</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a4a81ebd8f2d0f68109bddeef2c87ea83"><div class="ttname"><a href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a></div><div class="ttdeci">int nntp_add_group(char *line, void *data)</div><div class="ttdoc">Parse newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00572">newsrc.c:572</a></div></div>
<div class="ttc" id="anewsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00647">newsrc.c:647</a></div></div>
<div class="ttc" id="anntp_8c_html_a1e673d1df3f2dfca2ac1bf210cda8daa"><div class="ttname"><a href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a></div><div class="ttdeci">static int nntp_date(struct NntpAccountData *adata, time_t *now)</div><div class="ttdoc">Get date and time from server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01698">nntp.c:1698</a></div></div>
<div class="ttc" id="anntp_8c_html_a3dc0585ce5a5060f5c07bdc1c89e373b"><div class="ttname"><a href="nntp_8c.html#a3dc0585ce5a5060f5c07bdc1c89e373b">nntp_group_poll</a></div><div class="ttdeci">static int nntp_group_poll(struct NntpMboxData *mdata, bool update_stat)</div><div class="ttdoc">Check newsgroup for new articles.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01440">nntp.c:1440</a></div></div>
<div class="ttc" id="anntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00813">nntp.c:813</a></div></div>
<div class="ttc" id="anntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00935">nntp.c:935</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489"><div class="ttname"><a href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489">MUTT_PROGRESS_READ</a></div><div class="ttdeci">@ MUTT_PROGRESS_READ</div><div class="ttdoc">Progress tracks elements, according to $read_inc</div><div class="ttdef"><b>Definition</b> <a href="progress_2lib_8h_source.html#l00083">lib.h:83</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_a551a8d9e844532e2851d6bee121c09b3"><div class="ttname"><a href="progress_2lib_8h.html#a551a8d9e844532e2851d6bee121c09b3">progress_new</a></div><div class="ttdeci">struct Progress * progress_new(enum ProgressType type, size_t size)</div><div class="ttdoc">Create a new Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00139">progress.c:139</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_ab4c7a63427cdcaae2b1147ff6f010af4"><div class="ttname"><a href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a></div><div class="ttdeci">void progress_free(struct Progress **ptr)</div><div class="ttdoc">Free a Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00110">progress.c:110</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_abd7142bf1b3c664cf1c3edca7c9b41d8"><div class="ttname"><a href="progress_2lib_8h.html#abd7142bf1b3c664cf1c3edca7c9b41d8">progress_set_message</a></div><div class="ttdeci">void progress_set_message(struct Progress *progress, const char *fmt,...) __attribute__((__format__(__printf__</div></div>
<div class="ttc" id="aprogress_2lib_8h_html_ae0ca330f9059a039a4ece5cb1b00155b"><div class="ttname"><a href="progress_2lib_8h.html#ae0ca330f9059a039a4ece5cb1b00155b">progress_update</a></div><div class="ttdeci">bool progress_update(struct Progress *progress, size_t pos, int percent)</div><div class="ttdoc">Update the state of the progress bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00080">progress.c:80</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_accb71afa3c82ba9ddd7189e852f4e65a"><div class="ttname"><a href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">NntpMboxData::has_new_mail</a></div><div class="ttdeci">bool has_new_mail</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00043">mdata.h:43</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a1f4ed64d09034fa97562c2976d80d614_cgraph.svg" width="952" height="688"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a1f4ed64d09034fa97562c2976d80d614_icgraph.svg" width="370" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a140bf8e49e3f11e0d9cb4d8253767819" name="a140bf8e49e3f11e0d9cb4d8253767819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140bf8e49e3f11e0d9cb4d8253767819">&#9670;&#160;</a></span>nntp_delete_group_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_delete_group_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove hcache and bcache of newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00808">808</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>{</div>
<div class="line"><span class="lineno">  810</span>  <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  812</span> </div>
<div class="line"><span class="lineno">  813</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno">  814</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *file = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  815</span>  <a class="code hl_function" href="group__hcache__namer__api.html#ga2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, file);</div>
<div class="line"><span class="lineno">  816</span>  <a class="code hl_function" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, file-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>, &amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file));</div>
<div class="line"><span class="lineno">  817</span>  unlink(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file));</div>
<div class="line"><span class="lineno">  818</span>  mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> = 0;</div>
<div class="line"><span class="lineno">  819</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file));</div>
<div class="line"><span class="lineno">  820</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;file);</div>
<div class="line"><span class="lineno">  821</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>)</div>
<div class="line"><span class="lineno">  824</span>  {</div>
<div class="line"><span class="lineno">  825</span>    mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a> = <a class="code hl_function" href="bcache_8c.html#a545298aaa4549d15f26112ff46c3c4ac">mutt_bcache_open</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno">  826</span>  }</div>
<div class="line"><span class="lineno">  827</span>  <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>)</div>
<div class="line"><span class="lineno">  828</span>  {</div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s/*\n&quot;</span>, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno">  830</span>    <a class="code hl_function" href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, <a class="code hl_function" href="group__bcache__list__api.html#ga181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a>, NULL);</div>
<div class="line"><span class="lineno">  831</span>    <a class="code hl_function" href="bcache_8c.html#a77e4e275b9eef5e12aef41bf912bd8f4">mutt_bcache_close</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>);</div>
<div class="line"><span class="lineno">  832</span>  }</div>
<div class="line"><span class="lineno">  833</span>}</div>
<div class="ttc" id="abcache_8c_html_a545298aaa4549d15f26112ff46c3c4ac"><div class="ttname"><a href="bcache_8c.html#a545298aaa4549d15f26112ff46c3c4ac">mutt_bcache_open</a></div><div class="ttdeci">struct BodyCache * mutt_bcache_open(struct ConnAccount *account, const char *mailbox)</div><div class="ttdoc">Open an Email-Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00146">bcache.c:146</a></div></div>
<div class="ttc" id="abcache_8c_html_a77e4e275b9eef5e12aef41bf912bd8f4"><div class="ttname"><a href="bcache_8c.html#a77e4e275b9eef5e12aef41bf912bd8f4">mutt_bcache_close</a></div><div class="ttdeci">void mutt_bcache_close(struct BodyCache **ptr)</div><div class="ttdoc">Close an Email-Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00167">bcache.c:167</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="agroup__hcache__namer__api_html_ga2469bc6478c1b4766ed132a2bb1a4018"><div class="ttname"><a href="group__hcache__namer__api.html#ga2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a></div><div class="ttdeci">static void nntp_hcache_namer(const char *path, struct Buffer *dest)</div><div class="ttdoc">Compose hcache file names - Implements hcache_namer_t -.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00688">newsrc.c:688</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructBuffer_html_a1d9ee60bcf94de702b15ec2b5d811995"><div class="ttname"><a href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">Buffer::dsize</a></div><div class="ttdeci">size_t dsize</div><div class="ttdoc">Length of data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00039">buffer.h:39</a></div></div>
<div class="ttc" id="astructBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
</div><!-- fragment --><div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a140bf8e49e3f11e0d9cb4d8253767819_cgraph.svg" width="571" height="451"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a140bf8e49e3f11e0d9cb4d8253767819_icgraph.svg" width="370" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab375e79092001683947b61e4079db8c0" name="ab375e79092001683947b61e4079db8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab375e79092001683947b61e4079db8c0">&#9670;&#160;</a></span>nntp_group_unread_stat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_group_unread_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count number of unread articles using .newsrc data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00134">134</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>{</div>
<div class="line"><span class="lineno">  136</span>  mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div>
<div class="line"><span class="lineno">  137</span>  <span class="keywordflow">if</span> ((mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> == 0) ||</div>
<div class="line"><span class="lineno">  138</span>      (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> &gt; mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>) || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div>
<div class="line"><span class="lineno">  139</span>  {</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  141</span>  }</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>  mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> - mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> + 1;</div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>; i++)</div>
<div class="line"><span class="lineno">  145</span>  {</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code hl_variable" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>;</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">if</span> (first &lt; mdata-&gt;first_message)</div>
<div class="line"><span class="lineno">  148</span>      first = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>;</div>
<div class="line"><span class="lineno">  149</span>    <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> last = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code hl_variable" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>;</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">if</span> (last &gt; mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>)</div>
<div class="line"><span class="lineno">  151</span>      last = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (first &lt;= last)</div>
<div class="line"><span class="lineno">  153</span>      mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> -= last - first + 1;</div>
<div class="line"><span class="lineno">  154</span>  }</div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="astructNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdoc">First article number in run.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00079">lib.h:79</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab375e79092001683947b61e4079db8c0_icgraph.svg" width="371" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6878e3c1f4e9732730a98a1fdda431e7" name="a6878e3c1f4e9732730a98a1fdda431e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6878e3c1f4e9732730a98a1fdda431e7">&#9670;&#160;</a></span>nntp_hash_destructor_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_hash_destructor_t </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a00132ef57a28e8ec428b6fa298ea63d4" name="a00132ef57a28e8ec428b6fa298ea63d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00132ef57a28e8ec428b6fa298ea63d4">&#9670;&#160;</a></span>nntp_hcache_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> * nntp_hcache_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open newsgroup hcache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>Header cache </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00707">707</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  708</span>{</div>
<div class="line"><span class="lineno">  709</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> url = { 0 };</div>
<div class="line"><span class="lineno">  710</span>  <span class="keywordtype">char</span> file[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div>
<div class="line"><span class="lineno">  713</span>  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a> || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> ||</div>
<div class="line"><span class="lineno">  714</span>      !(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> || mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> || c_save_unsubscribed))</div>
<div class="line"><span class="lineno">  715</span>  {</div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  717</span>  }</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>  <a class="code hl_function" href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, &amp;url);</div>
<div class="line"><span class="lineno">  720</span>  url.<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>;</div>
<div class="line"><span class="lineno">  721</span>  <a class="code hl_function" href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a>(&amp;url, file, <span class="keyword">sizeof</span>(file), <a class="code hl_define" href="url_8h.html#a2f7d340c7b07a0b212e6ba7c9d1c52fa">U_PATH</a>);</div>
<div class="line"><span class="lineno">  722</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_cache_dir = <a class="code hl_function" href="config_2helpers_8c.html#a9f184e61342916799259930333f4205f">cs_subset_path</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_cache_dir&quot;</span>);</div>
<div class="line"><span class="lineno">  723</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="hcache_2hcache_8c.html#a5691b8a075665d48c570eb105a472556">hcache_open</a>(c_news_cache_dir, file, <a class="code hl_function" href="group__hcache__namer__api.html#ga2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  724</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_a9f184e61342916799259930333f4205f"><div class="ttname"><a href="config_2helpers_8c.html#a9f184e61342916799259930333f4205f">cs_subset_path</a></div><div class="ttdeci">const char * cs_subset_path(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a path config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00168">helpers.c:168</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a5691b8a075665d48c570eb105a472556"><div class="ttname"><a href="hcache_2hcache_8c.html#a5691b8a075665d48c570eb105a472556">hcache_open</a></div><div class="ttdeci">struct HeaderCache * hcache_open(const char *path, const char *folder, hcache_namer_t namer, bool create)</div><div class="ttdoc">Multiplexor for StoreOps::open.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00473">hcache.c:473</a></div></div>
<div class="ttc" id="amutt__account_8c_html_aab5936a62e77123420e4c515904567f3"><div class="ttname"><a href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a></div><div class="ttdeci">void account_to_url(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account.</div><div class="ttdef"><b>Definition</b> <a href="mutt__account_8c_source.html#l00080">mutt_account.c:80</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00042">mdata.h:42</a></div></div>
<div class="ttc" id="astructUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00068">url.h:69</a></div></div>
<div class="ttc" id="astructUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="aurl_8c_html_aa114f683b940e0773ca758b49a18a2a7"><div class="ttname"><a href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a></div><div class="ttdeci">int url_tostring(const struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00422">url.c:422</a></div></div>
<div class="ttc" id="aurl_8h_html_a2f7d340c7b07a0b212e6ba7c9d1c52fa"><div class="ttname"><a href="url_8h.html#a2f7d340c7b07a0b212e6ba7c9d1c52fa">U_PATH</a></div><div class="ttdeci">#define U_PATH</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00050">url.h:50</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a00132ef57a28e8ec428b6fa298ea63d4_cgraph.svg" width="343" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a00132ef57a28e8ec428b6fa298ea63d4_icgraph.svg" width="520" height="248"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a25f479090028437bbd1cc59a08942112" name="a25f479090028437bbd1cc59a08942112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f479090028437bbd1cc59a08942112">&#9670;&#160;</a></span>nntp_hcache_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_hcache_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *</td>          <td class="paramname"><span class="paramname"><em>mdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *</td>          <td class="paramname"><span class="paramname"><em>hc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove stale cached headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> data </td></tr>
    <tr><td class="paramname">hc</td><td>Header cache </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00731">731</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  732</span>{</div>
<div class="line"><span class="lineno">  733</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>  <span class="keywordtype">char</span> buf[32] = { 0 };</div>
<div class="line"><span class="lineno">  737</span>  <span class="keywordtype">bool</span> old = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  738</span>  <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = 0, last = 0;</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>  <span class="comment">/* fetch previous values of first and last */</span></div>
<div class="line"><span class="lineno">  741</span>  <span class="keywordtype">char</span> *hdata = <a class="code hl_function" href="hcache_2hcache_8c.html#a9f2aea3b2e8ba9dc758a06e0163dee14">hcache_fetch_raw_str</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5);</div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span> (hdata)</div>
<div class="line"><span class="lineno">  743</span>  {</div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;hcache_fetch_email index: %s\n&quot;</span>, hdata);</div>
<div class="line"><span class="lineno">  745</span>    <span class="keywordflow">if</span> (sscanf(hdata, <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;first, &amp;last) == 2)</div>
<div class="line"><span class="lineno">  746</span>    {</div>
<div class="line"><span class="lineno">  747</span>      old = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  748</span>      mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> = last;</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>      <span class="comment">/* clean removed headers from cache */</span></div>
<div class="line"><span class="lineno">  751</span>      <span class="keywordflow">for</span> (<a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> current = first; current &lt;= last; current++)</div>
<div class="line"><span class="lineno">  752</span>      {</div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">if</span> ((current &gt;= mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>) &amp;&amp; (current &lt;= mdata-&gt;last_message))</div>
<div class="line"><span class="lineno">  754</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>        snprintf(buf, <span class="keyword">sizeof</span>(buf), <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, current);</div>
<div class="line"><span class="lineno">  757</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;hcache_delete_email %s\n&quot;</span>, buf);</div>
<div class="line"><span class="lineno">  758</span>        <a class="code hl_function" href="hcache_2hcache_8c.html#a66e48b640205127c7a4bb987b8d0192d">hcache_delete_email</a>(hc, buf, strlen(buf));</div>
<div class="line"><span class="lineno">  759</span>      }</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hdata);</div>
<div class="line"><span class="lineno">  762</span>  }</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>  <span class="comment">/* store current values of first and last */</span></div>
<div class="line"><span class="lineno">  765</span>  <span class="keywordflow">if</span> (!old || (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> != first) || (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> != last))</div>
<div class="line"><span class="lineno">  766</span>  {</div>
<div class="line"><span class="lineno">  767</span>    snprintf(buf, <span class="keyword">sizeof</span>(buf), <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>,</div>
<div class="line"><span class="lineno">  768</span>             mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>);</div>
<div class="line"><span class="lineno">  769</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;hcache_store_email index: %s\n&quot;</span>, buf);</div>
<div class="line"><span class="lineno">  770</span>    <a class="code hl_function" href="hcache_2hcache_8c.html#acca0b66c75e59b1400da46b646e6bb9c">hcache_store_raw</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5, buf, strlen(buf) + 1);</div>
<div class="line"><span class="lineno">  771</span>  }</div>
<div class="line"><span class="lineno">  772</span>}</div>
<div class="ttc" id="ahcache_2hcache_8c_html_a66e48b640205127c7a4bb987b8d0192d"><div class="ttname"><a href="hcache_2hcache_8c.html#a66e48b640205127c7a4bb987b8d0192d">hcache_delete_email</a></div><div class="ttdeci">int hcache_delete_email(struct HeaderCache *hc, const char *key, size_t keylen)</div><div class="ttdoc">Multiplexor for StoreOps::delete_record.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00741">hcache.c:741</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a9f2aea3b2e8ba9dc758a06e0163dee14"><div class="ttname"><a href="hcache_2hcache_8c.html#a9f2aea3b2e8ba9dc758a06e0163dee14">hcache_fetch_raw_str</a></div><div class="ttdeci">char * hcache_fetch_raw_str(struct HeaderCache *hc, const char *key, size_t keylen)</div><div class="ttdoc">Fetch a string from the cache.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00654">hcache.c:654</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_acca0b66c75e59b1400da46b646e6bb9c"><div class="ttname"><a href="hcache_2hcache_8c.html#acca0b66c75e59b1400da46b646e6bb9c">hcache_store_raw</a></div><div class="ttdeci">int hcache_store_raw(struct HeaderCache *hc, const char *key, size_t keylen, void *data, size_t dlen)</div><div class="ttdoc">Store a key / data pair.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00726">hcache.c:726</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a25f479090028437bbd1cc59a08942112_cgraph.svg" width="362" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a25f479090028437bbd1cc59a08942112_icgraph.svg" width="338" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a21d6dfb74310c442a524deed9579395a" name="a21d6dfb74310c442a524deed9579395a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d6dfb74310c442a524deed9579395a">&#9670;&#160;</a></span>nntp_newsrc_gen_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_newsrc_gen_entries </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate array of .newsrc entries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00301">301</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span>{</div>
<div class="line"><span class="lineno">  303</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno">  307</span>  <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> last = 0, first = 1;</div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordtype">bool</span> series;</div>
<div class="line"><span class="lineno">  309</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> entries;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4">EmailSortType</a> c_sort = <a class="code hl_function" href="config_2helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>);</div>
<div class="line"><span class="lineno">  312</span>  <span class="keywordflow">if</span> (c_sort != <a class="code hl_enumvalue" href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4aa5fa714c8f7a789cb67f5d22cd014361">EMAIL_SORT_UNSORTED</a>)</div>
<div class="line"><span class="lineno">  313</span>  {</div>
<div class="line"><span class="lineno">  314</span>    <a class="code hl_function" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>, <a class="code hl_enumvalue" href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4aa5fa714c8f7a789cb67f5d22cd014361">EMAIL_SORT_UNSORTED</a>, NULL);</div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_function" href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a>);</div>
<div class="line"><span class="lineno">  316</span>  }</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>  entries = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len;</div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordflow">if</span> (!entries)</div>
<div class="line"><span class="lineno">  320</span>  {</div>
<div class="line"><span class="lineno">  321</span>    entries = 5;</div>
<div class="line"><span class="lineno">  322</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(entries, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  323</span>  }</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>  <span class="comment">/* Set up to fake initial sequence from 1 to the article before the</span></div>
<div class="line"><span class="lineno">  326</span><span class="comment">   * first article in our list */</span></div>
<div class="line"><span class="lineno">  327</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 0;</div>
<div class="line"><span class="lineno">  328</span>  series = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  329</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div>
<div class="line"><span class="lineno">  330</span>  {</div>
<div class="line"><span class="lineno">  331</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structEmail.html">Email</a> *e = m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (!e)</div>
<div class="line"><span class="lineno">  333</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">/* search for first unread */</span></div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">if</span> (series)</div>
<div class="line"><span class="lineno">  337</span>    {</div>
<div class="line"><span class="lineno">  338</span>      <span class="comment">/* We don&#39;t actually check sequential order, since we mark</span></div>
<div class="line"><span class="lineno">  339</span><span class="comment">       * &quot;missing&quot; entries as read/deleted */</span></div>
<div class="line"><span class="lineno">  340</span>      last = <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;<a class="code hl_variable" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div>
<div class="line"><span class="lineno">  341</span>      <span class="keywordflow">if</span> ((last &gt;= mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>) &amp;&amp; !e-&gt;<a class="code hl_variable" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> &amp;&amp; !e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div>
<div class="line"><span class="lineno">  342</span>      {</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> &gt;= entries)</div>
<div class="line"><span class="lineno">  344</span>        {</div>
<div class="line"><span class="lineno">  345</span>          entries *= 2;</div>
<div class="line"><span class="lineno">  346</span>          <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, entries, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  347</span>        }</div>
<div class="line"><span class="lineno">  348</span>        mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code hl_variable" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = first;</div>
<div class="line"><span class="lineno">  349</span>        mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code hl_variable" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = last - 1;</div>
<div class="line"><span class="lineno">  350</span>        mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>++;</div>
<div class="line"><span class="lineno">  351</span>        series = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  352</span>      }</div>
<div class="line"><span class="lineno">  353</span>    }</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  355</span>    {</div>
<div class="line"><span class="lineno">  356</span>      <span class="comment">/* search for first read */</span></div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">if</span> (e-&gt;<a class="code hl_variable" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> || e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div>
<div class="line"><span class="lineno">  358</span>      {</div>
<div class="line"><span class="lineno">  359</span>        first = last + 1;</div>
<div class="line"><span class="lineno">  360</span>        series = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  361</span>      }</div>
<div class="line"><span class="lineno">  362</span>      last = <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;<a class="code hl_variable" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span>  }</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span> (series &amp;&amp; (first &lt;= mdata-&gt;last_loaded))</div>
<div class="line"><span class="lineno">  367</span>  {</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> &gt;= entries)</div>
<div class="line"><span class="lineno">  369</span>    {</div>
<div class="line"><span class="lineno">  370</span>      entries++;</div>
<div class="line"><span class="lineno">  371</span>      <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, entries, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span>    mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code hl_variable" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = first;</div>
<div class="line"><span class="lineno">  374</span>    mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code hl_variable" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>;</div>
<div class="line"><span class="lineno">  375</span>    mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>++;</div>
<div class="line"><span class="lineno">  376</span>  }</div>
<div class="line"><span class="lineno">  377</span>  <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordflow">if</span> (c_sort != <a class="code hl_enumvalue" href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4aa5fa714c8f7a789cb67f5d22cd014361">EMAIL_SORT_UNSORTED</a>)</div>
<div class="line"><span class="lineno">  380</span>  {</div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>, c_sort, NULL);</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_function" href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a>);</div>
<div class="line"><span class="lineno">  383</span>  }</div>
<div class="line"><span class="lineno">  384</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_af7f3de51c3c2f5b8f527f40c8397a3fc"><div class="ttname"><a href="config_2helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a></div><div class="ttdeci">short cs_subset_sort(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a sort config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00266">helpers.c:266</a></div></div>
<div class="ttc" id="acore_2mailbox_8c_html_af09ac36728ca3255523cd3b0bfd1f172"><div class="ttname"><a href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a></div><div class="ttdeci">void mailbox_changed(struct Mailbox *m, enum NotifyMailbox action)</div><div class="ttdoc">Notify observers of a change to a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8c_source.html#l00231">mailbox.c:231</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f"><div class="ttname"><a href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a></div><div class="ttdeci">@ NT_MAILBOX_RESORT</div><div class="ttdoc">Email list needs resorting.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00181">mailbox.h:181</a></div></div>
<div class="ttc" id="aemail_2sort_8h_html_aefa89e4f16231d09e09e4693bebf6dd4"><div class="ttname"><a href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4">EmailSortType</a></div><div class="ttdeci">EmailSortType</div><div class="ttdoc">Methods for sorting Emails.</div><div class="ttdef"><b>Definition</b> <a href="email_2sort_8h_source.html#l00052">sort.h:53</a></div></div>
<div class="ttc" id="aemail_2sort_8h_html_aefa89e4f16231d09e09e4693bebf6dd4aa5fa714c8f7a789cb67f5d22cd014361"><div class="ttname"><a href="email_2sort_8h.html#aefa89e4f16231d09e09e4693bebf6dd4aa5fa714c8f7a789cb67f5d22cd014361">EMAIL_SORT_UNSORTED</a></div><div class="ttdeci">@ EMAIL_SORT_UNSORTED</div><div class="ttdoc">Sort by the order the messages appear in the mailbox.</div><div class="ttdef"><b>Definition</b> <a href="email_2sort_8h_source.html#l00064">sort.h:64</a></div></div>
<div class="ttc" id="anntp_2edata_8c_html_a78e1fab53bc6f3d3813bcef508414349"><div class="ttname"><a href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8c_source.html#l00060">edata.c:60</a></div></div>
<div class="ttc" id="astructEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00038">email.h:39</a></div></div>
<div class="ttc" id="astructEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00078">email.h:78</a></div></div>
<div class="ttc" id="astructMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00088">mailbox.h:88</a></div></div>
<div class="ttc" id="astructMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00096">mailbox.h:96</a></div></div>
<div class="ttc" id="astructNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups)</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:78</a></div></div>
<div class="ttc" id="astructNntpEmailData_html_a664cb7fd06434c6a0769467038b99f8a"><div class="ttname"><a href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">NntpEmailData::article_num</a></div><div class="ttdeci">anum_t article_num</div><div class="ttdoc">NNTP article number.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8h_source.html#l00036">edata.h:36</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a9cecad8ca33cea69ef91939fc3088e72"><div class="ttname"><a href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">NntpMboxData::last_loaded</a></div><div class="ttdeci">anum_t last_loaded</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="asubset_8c_html_a6ee598a96defed645b11cad6e6cb6512"><div class="ttname"><a href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a></div><div class="ttdeci">int cs_subset_str_native_set(const struct ConfigSubset *sub, const char *name, intptr_t value, struct Buffer *err)</div><div class="ttdoc">Natively set the value of a string config item.</div><div class="ttdef"><b>Definition</b> <a href="subset_8c_source.html#l00303">subset.c:303</a></div></div>
</div><!-- fragment --><div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a21d6dfb74310c442a524deed9579395a_cgraph.svg" width="410" height="200"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a21d6dfb74310c442a524deed9579395a_icgraph.svg" width="362" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abc4e8951366a6bf81d5d4d4ecf5ad4ba" name="abc4e8951366a6bf81d5d4d4ecf5ad4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4e8951366a6bf81d5d4d4ecf5ad4ba">&#9670;&#160;</a></span>nntp_open_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_open_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to server, authenticate and get capabilities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l01765">1765</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1766</span>{</div>
<div class="line"><span class="lineno"> 1767</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> == <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>)</div>
<div class="line"><span class="lineno"> 1768</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1769</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> == <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>)</div>
<div class="line"><span class="lineno"> 1770</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1771</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a>;</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structConnection.html">Connection</a> *conn = adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>;</div>
<div class="line"><span class="lineno"> 1774</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="socket_8c.html#ada78f2615db2775bb7ccd042e6df2774">mutt_socket_open</a>(conn) &lt; 0)</div>
<div class="line"><span class="lineno"> 1775</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1776</span> </div>
<div class="line"><span class="lineno"> 1777</span>  <span class="keywordtype">char</span> buf[256] = { 0 };</div>
<div class="line"><span class="lineno"> 1778</span>  <span class="keywordtype">int</span> cap;</div>
<div class="line"><span class="lineno"> 1779</span>  <span class="keywordtype">bool</span> posting = <span class="keyword">false</span>, auth = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1780</span>  <span class="keywordtype">int</span> rc = -1;</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0)</div>
<div class="line"><span class="lineno"> 1783</span>  {</div>
<div class="line"><span class="lineno"> 1784</span>    <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1786</span>  }</div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;200&quot;</span>))</div>
<div class="line"><span class="lineno"> 1789</span>  {</div>
<div class="line"><span class="lineno"> 1790</span>    posting = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1791</span>  }</div>
<div class="line"><span class="lineno"> 1792</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;201&quot;</span>))</div>
<div class="line"><span class="lineno"> 1793</span>  {</div>
<div class="line"><span class="lineno"> 1794</span>    <a class="code hl_function" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div>
<div class="line"><span class="lineno"> 1795</span>    <a class="code hl_function" href="mutt_2string_8c.html#a1d343dcbce0482f8979fe2a298913225">mutt_str_remove_trailing_ws</a>(buf);</div>
<div class="line"><span class="lineno"> 1796</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1798</span>  }</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span>  <span class="comment">/* get initial capabilities */</span></div>
<div class="line"><span class="lineno"> 1801</span>  cap = <a class="code hl_function" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div>
<div class="line"><span class="lineno"> 1802</span>  <span class="keywordflow">if</span> (cap &lt; 0)</div>
<div class="line"><span class="lineno"> 1803</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1804</span> </div>
<div class="line"><span class="lineno"> 1805</span>  <span class="comment">/* tell news server to switch to mode reader if it isn&#39;t so */</span></div>
<div class="line"><span class="lineno"> 1806</span>  <span class="keywordflow">if</span> (cap &gt; 0)</div>
<div class="line"><span class="lineno"> 1807</span>  {</div>
<div class="line"><span class="lineno"> 1808</span>    <span class="keywordflow">if</span> ((<a class="code hl_define" href="socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;MODE READER\r\n&quot;</span>) &lt; 0) ||</div>
<div class="line"><span class="lineno"> 1809</span>        (<a class="code hl_define" href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div>
<div class="line"><span class="lineno"> 1810</span>    {</div>
<div class="line"><span class="lineno"> 1811</span>      <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div>
<div class="line"><span class="lineno"> 1812</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1813</span>    }</div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;200&quot;</span>))</div>
<div class="line"><span class="lineno"> 1816</span>    {</div>
<div class="line"><span class="lineno"> 1817</span>      posting = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1818</span>    }</div>
<div class="line"><span class="lineno"> 1819</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;201&quot;</span>))</div>
<div class="line"><span class="lineno"> 1820</span>    {</div>
<div class="line"><span class="lineno"> 1821</span>      posting = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1822</span>    }</div>
<div class="line"><span class="lineno"> 1823</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a>)</div>
<div class="line"><span class="lineno"> 1824</span>    {</div>
<div class="line"><span class="lineno"> 1825</span>      <span class="comment">/* error if has capabilities, ignore result if no capabilities */</span></div>
<div class="line"><span class="lineno"> 1826</span>      <a class="code hl_function" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div>
<div class="line"><span class="lineno"> 1827</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not switch to reader mode&quot;</span>));</div>
<div class="line"><span class="lineno"> 1828</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1829</span>    }</div>
<div class="line"><span class="lineno"> 1830</span> </div>
<div class="line"><span class="lineno"> 1831</span>    <span class="comment">/* recheck capabilities after MODE READER */</span></div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a>)</div>
<div class="line"><span class="lineno"> 1833</span>    {</div>
<div class="line"><span class="lineno"> 1834</span>      cap = <a class="code hl_function" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div>
<div class="line"><span class="lineno"> 1835</span>      <span class="keywordflow">if</span> (cap &lt; 0)</div>
<div class="line"><span class="lineno"> 1836</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1837</span>    }</div>
<div class="line"><span class="lineno"> 1838</span>  }</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Connected to %s. %s&quot;</span>), conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">host</a>,</div>
<div class="line"><span class="lineno"> 1841</span>               posting ? <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Posting is ok&quot;</span>) : <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Posting is NOT ok&quot;</span>));</div>
<div class="line"><span class="lineno"> 1842</span>  <a class="code hl_function" href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a>(1);</div>
<div class="line"><span class="lineno"> 1843</span> </div>
<div class="line"><span class="lineno"> 1844</span><span class="preprocessor">#ifdef USE_SSL</span></div>
<div class="line"><span class="lineno"> 1845</span>  <span class="comment">/* Attempt STARTTLS if available and desired. */</span></div>
<div class="line"><span class="lineno"> 1846</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_ssl_force_tls = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;ssl_force_tls&quot;</span>);</div>
<div class="line"><span class="lineno"> 1847</span>  <span class="keywordflow">if</span> ((adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> != 1) &amp;&amp; (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a5c9a3b821b5983affecbcefb3a9c4e81">hasSTARTTLS</a> || c_ssl_force_tls))</div>
<div class="line"><span class="lineno"> 1848</span>  {</div>
<div class="line"><span class="lineno"> 1849</span>    <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> == 0)</div>
<div class="line"><span class="lineno"> 1850</span>    {</div>
<div class="line"><span class="lineno"> 1851</span>      adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> = c_ssl_force_tls ||</div>
<div class="line"><span class="lineno"> 1852</span>                               (<a class="code hl_function" href="question_2lib_8h.html#a8ba883bf53e8ab425a03d17368de84b4">query_quadoption</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Secure connection with TLS?&quot;</span>),</div>
<div class="line"><span class="lineno"> 1853</span>                                                 <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;ssl_starttls&quot;</span>) == <a class="code hl_enumvalue" href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a>) ?</div>
<div class="line"><span class="lineno"> 1854</span>                           2 :</div>
<div class="line"><span class="lineno"> 1855</span>                           1;</div>
<div class="line"><span class="lineno"> 1856</span>    }</div>
<div class="line"><span class="lineno"> 1857</span>    <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> == 2)</div>
<div class="line"><span class="lineno"> 1858</span>    {</div>
<div class="line"><span class="lineno"> 1859</span>      <span class="keywordflow">if</span> ((<a class="code hl_define" href="socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;STARTTLS\r\n&quot;</span>) &lt; 0) ||</div>
<div class="line"><span class="lineno"> 1860</span>          (<a class="code hl_define" href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div>
<div class="line"><span class="lineno"> 1861</span>      {</div>
<div class="line"><span class="lineno"> 1862</span>        <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div>
<div class="line"><span class="lineno"> 1863</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1864</span>      }</div>
<div class="line"><span class="lineno"> 1865</span>      <span class="comment">// Clear any data after the STARTTLS acknowledgement</span></div>
<div class="line"><span class="lineno"> 1866</span>      <a class="code hl_function" href="socket_8c.html#a90c5b50a98f0f9a0b73b82e90c096aba">mutt_socket_empty</a>(conn);</div>
<div class="line"><span class="lineno"> 1867</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;382&quot;</span>))</div>
<div class="line"><span class="lineno"> 1868</span>      {</div>
<div class="line"><span class="lineno"> 1869</span>        adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> = 0;</div>
<div class="line"><span class="lineno"> 1870</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;STARTTLS: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 1871</span>      }</div>
<div class="line"><span class="lineno"> 1872</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="gnutls_8c.html#a23591e82bf992ceb5e62c459fd787b8a">mutt_ssl_starttls</a>(conn))</div>
<div class="line"><span class="lineno"> 1873</span>      {</div>
<div class="line"><span class="lineno"> 1874</span>        adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> = 0;</div>
<div class="line"><span class="lineno"> 1875</span>        adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a>;</div>
<div class="line"><span class="lineno"> 1876</span>        <a class="code hl_function" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>);</div>
<div class="line"><span class="lineno"> 1877</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not negotiate TLS connection&quot;</span>));</div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1879</span>      }</div>
<div class="line"><span class="lineno"> 1880</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1881</span>      {</div>
<div class="line"><span class="lineno"> 1882</span>        <span class="comment">/* recheck capabilities after STARTTLS */</span></div>
<div class="line"><span class="lineno"> 1883</span>        cap = <a class="code hl_function" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div>
<div class="line"><span class="lineno"> 1884</span>        <span class="keywordflow">if</span> (cap &lt; 0)</div>
<div class="line"><span class="lineno"> 1885</span>          <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1886</span>      }</div>
<div class="line"><span class="lineno"> 1887</span>    }</div>
<div class="line"><span class="lineno"> 1888</span>  }</div>
<div class="line"><span class="lineno"> 1889</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>  <span class="comment">/* authentication required? */</span></div>
<div class="line"><span class="lineno"> 1892</span>  <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code hl_define" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>)</div>
<div class="line"><span class="lineno"> 1893</span>  {</div>
<div class="line"><span class="lineno"> 1894</span>    <span class="keywordflow">if</span> (!conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>[0])</div>
<div class="line"><span class="lineno"> 1895</span>      auth = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1896</span>  }</div>
<div class="line"><span class="lineno"> 1897</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1898</span>  {</div>
<div class="line"><span class="lineno"> 1899</span>    <span class="keywordflow">if</span> ((<a class="code hl_define" href="socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;STAT\r\n&quot;</span>) &lt; 0) ||</div>
<div class="line"><span class="lineno"> 1900</span>        (<a class="code hl_define" href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div>
<div class="line"><span class="lineno"> 1901</span>    {</div>
<div class="line"><span class="lineno"> 1902</span>      <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div>
<div class="line"><span class="lineno"> 1903</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1904</span>    }</div>
<div class="line"><span class="lineno"> 1905</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;480&quot;</span>))</div>
<div class="line"><span class="lineno"> 1906</span>      auth = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1907</span>  }</div>
<div class="line"><span class="lineno"> 1908</span> </div>
<div class="line"><span class="lineno"> 1909</span>  <span class="comment">/* authenticate */</span></div>
<div class="line"><span class="lineno"> 1910</span>  <span class="keywordflow">if</span> (auth &amp;&amp; (<a class="code hl_function" href="nntp_8c.html#a1c9cc18654661195df4df904c2918625">nntp_auth</a>(adata) &lt; 0))</div>
<div class="line"><span class="lineno"> 1911</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1912</span> </div>
<div class="line"><span class="lineno"> 1913</span>  <span class="comment">/* get final capabilities after authentication */</span></div>
<div class="line"><span class="lineno"> 1914</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a> &amp;&amp; (auth || (cap &gt; 0)))</div>
<div class="line"><span class="lineno"> 1915</span>  {</div>
<div class="line"><span class="lineno"> 1916</span>    cap = <a class="code hl_function" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div>
<div class="line"><span class="lineno"> 1917</span>    <span class="keywordflow">if</span> (cap &lt; 0)</div>
<div class="line"><span class="lineno"> 1918</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1919</span>    <span class="keywordflow">if</span> (cap &gt; 0)</div>
<div class="line"><span class="lineno"> 1920</span>    {</div>
<div class="line"><span class="lineno"> 1921</span>      <a class="code hl_function" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div>
<div class="line"><span class="lineno"> 1922</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not switch to reader mode&quot;</span>));</div>
<div class="line"><span class="lineno"> 1923</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1924</span>    }</div>
<div class="line"><span class="lineno"> 1925</span>  }</div>
<div class="line"><span class="lineno"> 1926</span> </div>
<div class="line"><span class="lineno"> 1927</span>  <span class="comment">/* attempt features */</span></div>
<div class="line"><span class="lineno"> 1928</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#acfb626f8ed9a2b7f351519882f254cbb">nntp_attempt_features</a>(adata) &lt; 0)</div>
<div class="line"><span class="lineno"> 1929</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1930</span> </div>
<div class="line"><span class="lineno"> 1931</span>  rc = 0;</div>
<div class="line"><span class="lineno"> 1932</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code hl_enumvalue" href="#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>;</div>
<div class="line"><span class="lineno"> 1933</span> </div>
<div class="line"><span class="lineno"> 1934</span>done:</div>
<div class="line"><span class="lineno"> 1935</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 1936</span>}</div>
<div class="ttc" id="aconnaccount_8h_html_ab496cae7636af7b356aad973a4a2e675"><div class="ttname"><a href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a></div><div class="ttdeci">#define MUTT_ACCT_USER</div><div class="ttdoc">User field has been set.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00044">connaccount.h:44</a></div></div>
<div class="ttc" id="agnutls_8c_html_a23591e82bf992ceb5e62c459fd787b8a"><div class="ttname"><a href="gnutls_8c.html#a23591e82bf992ceb5e62c459fd787b8a">mutt_ssl_starttls</a></div><div class="ttdeci">int mutt_ssl_starttls(struct Connection *conn)</div><div class="ttdoc">Negotiate TLS over an already opened connection.</div><div class="ttdef"><b>Definition</b> <a href="gnutls_8c_source.html#l01171">gnutls.c:1171</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a1d343dcbce0482f8979fe2a298913225"><div class="ttname"><a href="mutt_2string_8c.html#a1d343dcbce0482f8979fe2a298913225">mutt_str_remove_trailing_ws</a></div><div class="ttdeci">void mutt_str_remove_trailing_ws(char *s)</div><div class="ttdoc">Trim trailing whitespace from a string.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00565">string.c:565</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00232">string.c:232</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a6fbcbe533be7c4e05d99b0eb9cdb2581"><div class="ttname"><a href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a></div><div class="ttdeci">void mutt_sleep(short s)</div><div class="ttdoc">Sleep for a while.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l00841">muttlib.c:841</a></div></div>
<div class="ttc" id="anntp_8c_html_a1c9cc18654661195df4df904c2918625"><div class="ttname"><a href="nntp_8c.html#a1c9cc18654661195df4df904c2918625">nntp_auth</a></div><div class="ttdeci">static int nntp_auth(struct NntpAccountData *adata)</div><div class="ttdoc">Get login, password and authenticate.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00451">nntp.c:451</a></div></div>
<div class="ttc" id="anntp_8c_html_a5a3c5628bd86b68f2d4b3a1cc21f2cd9"><div class="ttname"><a href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a></div><div class="ttdeci">static int nntp_capabilities(struct NntpAccountData *adata)</div><div class="ttdoc">Get capabilities.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00140">nntp.c:140</a></div></div>
<div class="ttc" id="anntp_8c_html_a8247b21cffda7c4fa36e797820253e33"><div class="ttname"><a href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a></div><div class="ttdeci">static int nntp_connect_error(struct NntpAccountData *adata)</div><div class="ttdoc">Signal a failed connection.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00126">nntp.c:126</a></div></div>
<div class="ttc" id="anntp_8c_html_acfb626f8ed9a2b7f351519882f254cbb"><div class="ttname"><a href="nntp_8c.html#acfb626f8ed9a2b7f351519882f254cbb">nntp_attempt_features</a></div><div class="ttdeci">static int nntp_attempt_features(struct NntpAccountData *adata)</div><div class="ttdoc">Detect supported commands.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00259">nntp.c:259</a></div></div>
<div class="ttc" id="aquad_8h_html_a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7"><div class="ttname"><a href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a></div><div class="ttdeci">@ MUTT_YES</div><div class="ttdoc">User answered &#39;Yes&#39;, or assume &#39;Yes&#39;.</div><div class="ttdef"><b>Definition</b> <a href="quad_8h_source.html#l00039">quad.h:39</a></div></div>
<div class="ttc" id="aquestion_2lib_8h_html_a8ba883bf53e8ab425a03d17368de84b4"><div class="ttname"><a href="question_2lib_8h.html#a8ba883bf53e8ab425a03d17368de84b4">query_quadoption</a></div><div class="ttdeci">enum QuadOption query_quadoption(const char *prompt, struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Ask the user a quad-question.</div><div class="ttdef"><b>Definition</b> <a href="question_8c_source.html#l00377">question.c:377</a></div></div>
<div class="ttc" id="asocket_8c_html_a432eed609a221c68f457302d6e40c383"><div class="ttname"><a href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a></div><div class="ttdeci">int mutt_socket_close(struct Connection *conn)</div><div class="ttdoc">Close a socket.</div><div class="ttdef"><b>Definition</b> <a href="socket_8c_source.html#l00100">socket.c:100</a></div></div>
<div class="ttc" id="asocket_8c_html_a90c5b50a98f0f9a0b73b82e90c096aba"><div class="ttname"><a href="socket_8c.html#a90c5b50a98f0f9a0b73b82e90c096aba">mutt_socket_empty</a></div><div class="ttdeci">void mutt_socket_empty(struct Connection *conn)</div><div class="ttdoc">Clear out any queued data.</div><div class="ttdef"><b>Definition</b> <a href="socket_8c_source.html#l00306">socket.c:306</a></div></div>
<div class="ttc" id="asocket_8c_html_ada78f2615db2775bb7ccd042e6df2774"><div class="ttname"><a href="socket_8c.html#ada78f2615db2775bb7ccd042e6df2774">mutt_socket_open</a></div><div class="ttdeci">int mutt_socket_open(struct Connection *conn)</div><div class="ttdoc">Simple wrapper.</div><div class="ttdef"><b>Definition</b> <a href="socket_8c_source.html#l00076">socket.c:76</a></div></div>
<div class="ttc" id="asocket_8h_html_a5ad40b2573cd216798e0412de26c0818"><div class="ttname"><a href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a></div><div class="ttdeci">#define mutt_socket_readln(buf, buflen, conn)</div><div class="ttdef"><b>Definition</b> <a href="socket_8h_source.html#l00056">socket.h:56</a></div></div>
<div class="ttc" id="asocket_8h_html_acddd830551629051c41026a4bc13d916"><div class="ttname"><a href="socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a></div><div class="ttdeci">#define mutt_socket_send(conn, buf)</div><div class="ttdef"><b>Definition</b> <a href="socket_8h_source.html#l00057">socket.h:57</a></div></div>
<div class="ttc" id="astructConnAccount_html_a48b8084b2dd1ef3d4e051a01cf15c7ca"><div class="ttname"><a href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">ConnAccount::user</a></div><div class="ttdeci">char user[128]</div><div class="ttdoc">Username.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00056">connaccount.h:56</a></div></div>
<div class="ttc" id="astructConnAccount_html_aa440323ef3111e1faaf33f6a57103a3a"><div class="ttname"><a href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">ConnAccount::host</a></div><div class="ttdeci">char host[128]</div><div class="ttdoc">Server to login to.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00054">connaccount.h:54</a></div></div>
<div class="ttc" id="astructConnAccount_html_af674ed2969fc29ff7d99f8b4cff6c92b"><div class="ttname"><a href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">ConnAccount::flags</a></div><div class="ttdeci">MuttAccountFlags flags</div><div class="ttdoc">Which fields are initialised, e.g. MUTT_ACCT_USER.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00060">connaccount.h:60</a></div></div>
<div class="ttc" id="astructConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00047">connection.h:48</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a2a1c6e75563a61693936d8d82acc1321"><div class="ttname"><a href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">NntpAccountData::status</a></div><div class="ttdeci">unsigned int status</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00047">adata.h:47</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a42d89a9578e0c3d14d57d5049082c1f9"><div class="ttname"><a href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">NntpAccountData::hasCAPABILITIES</a></div><div class="ttdeci">bool hasCAPABILITIES</div><div class="ttdoc">Server supports CAPABILITIES command.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00037">adata.h:37</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a5c9a3b821b5983affecbcefb3a9c4e81"><div class="ttname"><a href="structNntpAccountData.html#a5c9a3b821b5983affecbcefb3a9c4e81">NntpAccountData::hasSTARTTLS</a></div><div class="ttdeci">bool hasSTARTTLS</div><div class="ttdoc">Server supports STARTTLS command.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00038">adata.h:38</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_aa1190c4a54a3b733533e3f34cd199ec8"><div class="ttname"><a href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">NntpAccountData::use_tls</a></div><div class="ttdeci">unsigned int use_tls</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00046">adata.h:46</a></div></div>
</div><!-- fragment --><div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_abc4e8951366a6bf81d5d4d4ecf5ad4ba_cgraph.svg" width="612" height="672"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_abc4e8951366a6bf81d5d4d4ecf5ad4ba_icgraph.svg" width="360" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
