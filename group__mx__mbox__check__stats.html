<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: mbox_check_stats()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-79-gf03987</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__mx__mbox__check__stats.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mbox_check_stats()<div class="ingroups"><a class="el" href="group__mx__api.html">Mailbox API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for mbox_check_stats():</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats.svg" width="294" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabd37b3c43aada06f0be371fae6cae953" id="r_gabd37b3c43aada06f0be371fae6cae953"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabd37b3c43aada06f0be371fae6cae953">imap_mbox_check_stats</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, uint8_t flags)</td></tr>
<tr class="memdesc:gabd37b3c43aada06f0be371fae6cae953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -.  <br /></td></tr>
<tr class="separator:gabd37b3c43aada06f0be371fae6cae953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb202456659b59d67e34a9b1e9364ffa" id="r_gabb202456659b59d67e34a9b1e9364ffa"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabb202456659b59d67e34a9b1e9364ffa">maildir_mbox_check_stats</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, uint8_t flags)</td></tr>
<tr class="memdesc:gabb202456659b59d67e34a9b1e9364ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -.  <br /></td></tr>
<tr class="separator:gabb202456659b59d67e34a9b1e9364ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c619138e35972d7b2e5eb0c4bd59459" id="r_ga7c619138e35972d7b2e5eb0c4bd59459"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7c619138e35972d7b2e5eb0c4bd59459">mbox_mbox_check_stats</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, uint8_t flags)</td></tr>
<tr class="memdesc:ga7c619138e35972d7b2e5eb0c4bd59459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -.  <br /></td></tr>
<tr class="separator:ga7c619138e35972d7b2e5eb0c4bd59459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8762d7e3dcc5f33d48603e0a083e600" id="r_gac8762d7e3dcc5f33d48603e0a083e600"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac8762d7e3dcc5f33d48603e0a083e600">mh_mbox_check_stats</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, uint8_t flags)</td></tr>
<tr class="memdesc:gac8762d7e3dcc5f33d48603e0a083e600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -.  <br /></td></tr>
<tr class="separator:gac8762d7e3dcc5f33d48603e0a083e600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0ba56fedbc28eeaa260e75dae131b3a" id="r_gaf0ba56fedbc28eeaa260e75dae131b3a"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf0ba56fedbc28eeaa260e75dae131b3a">nm_mbox_check_stats</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, uint8_t flags)</td></tr>
<tr class="memdesc:gaf0ba56fedbc28eeaa260e75dae131b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -.  <br /></td></tr>
<tr class="separator:gaf0ba56fedbc28eeaa260e75dae131b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to check </td></tr>
    <tr><td class="paramname">flags</td><td>Function flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">enum</td><td><a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432" title="Return values from mbox_check(), mbox_check_stats(), mbox_sync(), and mbox_close()">MxStatus</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>m is not NULL </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabd37b3c43aada06f0be371fae6cae953" name="gabd37b3c43aada06f0be371fae6cae953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd37b3c43aada06f0be371fae6cae953">&#9670;&#160;</a></span>imap_mbox_check_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> imap_mbox_check_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="imap_8c_source.html#l01271">1271</a> of file <a class="el" href="imap_8c_source.html">imap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1272</span>{</div>
<div class="line"><span class="lineno"> 1273</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> queue = (flags &amp; <a class="code hl_define" href="mxapi_8h.html#ac2da347125142a85497d6bfed6ac58ec">MUTT_MAILBOX_CHECK_IMMEDIATE</a>) == 0;</div>
<div class="line"><span class="lineno"> 1274</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> new_msgs = <a class="code hl_function" href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a>(m, queue);</div>
<div class="line"><span class="lineno"> 1275</span>  <span class="keywordflow">if</span> (new_msgs == -1)</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160">MX_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keywordflow">if</span> (new_msgs == 0)</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno"> 1279</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a>;</div>
<div class="line"><span class="lineno"> 1280</span>}</div>
<div class="ttc" id="aimap_8c_html_a0b252c6e7f2cc646db9414ea27a11a55"><div class="ttname"><a href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a></div><div class="ttdeci">int imap_mailbox_status(struct Mailbox *m, bool queue)</div><div class="ttdoc">Refresh the number of total and new messages.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l01323">imap.c:1323</a></div></div>
<div class="ttc" id="amxapi_8h_html_ac2da347125142a85497d6bfed6ac58ec"><div class="ttname"><a href="mxapi_8h.html#ac2da347125142a85497d6bfed6ac58ec">MUTT_MAILBOX_CHECK_IMMEDIATE</a></div><div class="ttdeci">#define MUTT_MAILBOX_CHECK_IMMEDIATE</div><div class="ttdoc">Don&#39;t postpone the actual checking.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00053">mxapi.h:53</a></div></div>
<div class="ttc" id="amxapi_8h_html_af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160"><div class="ttname"><a href="mxapi_8h.html#af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160">MX_STATUS_ERROR</a></div><div class="ttdeci">@ MX_STATUS_ERROR</div><div class="ttdoc">An error occurred.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00061">mxapi.h:61</a></div></div>
<div class="ttc" id="amxapi_8h_html_af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b"><div class="ttname"><a href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a></div><div class="ttdeci">@ MX_STATUS_OK</div><div class="ttdoc">No changes.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00062">mxapi.h:62</a></div></div>
<div class="ttc" id="amxapi_8h_html_af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b"><div class="ttname"><a href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a></div><div class="ttdeci">@ MX_STATUS_NEW_MAIL</div><div class="ttdoc">New mail received in Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00063">mxapi.h:63</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats_gabd37b3c43aada06f0be371fae6cae953_cgraph.svg" width="376" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gabb202456659b59d67e34a9b1e9364ffa" name="gabb202456659b59d67e34a9b1e9364ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb202456659b59d67e34a9b1e9364ffa">&#9670;&#160;</a></span>maildir_mbox_check_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> maildir_mbox_check_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="maildir_2mailbox_8c_source.html#l00814">814</a> of file <a class="el" href="maildir_2mailbox_8c_source.html">mailbox.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  815</span>{</div>
<div class="line"><span class="lineno">  816</span>  <span class="keywordtype">bool</span> check_stats = flags &amp; <a class="code hl_define" href="mxapi_8h.html#a57620b9bfb2acdd39940f3a6dfc13799">MUTT_MAILBOX_CHECK_STATS</a>;</div>
<div class="line"><span class="lineno">  817</span>  <span class="keywordtype">bool</span> check_new = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordflow">if</span> (check_stats)</div>
<div class="line"><span class="lineno">  820</span>  {</div>
<div class="line"><span class="lineno">  821</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a> = 0;</div>
<div class="line"><span class="lineno">  822</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div>
<div class="line"><span class="lineno">  823</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div>
<div class="line"><span class="lineno">  824</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a> = 0;</div>
<div class="line"><span class="lineno">  825</span>  }</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>  <a class="code hl_function" href="maildir_2mailbox_8c.html#aa4ce7bc45f6b4f1426bb85851bf6b06c">maildir_check_dir</a>(m, <span class="stringliteral">&quot;new&quot;</span>, check_new, check_stats);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_maildir_check_cur = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;maildir_check_cur&quot;</span>);</div>
<div class="line"><span class="lineno">  830</span>  check_new = !m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> &amp;&amp; c_maildir_check_cur;</div>
<div class="line"><span class="lineno">  831</span>  <span class="keywordflow">if</span> (check_new || check_stats)</div>
<div class="line"><span class="lineno">  832</span>    <a class="code hl_function" href="maildir_2mailbox_8c.html#aa4ce7bc45f6b4f1426bb85851bf6b06c">maildir_check_dir</a>(m, <span class="stringliteral">&quot;cur&quot;</span>, check_new, check_stats);</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordflow">return</span> m-&gt;<a class="code hl_variable" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a> ? <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a> : <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  835</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="amaildir_2mailbox_8c_html_aa4ce7bc45f6b4f1426bb85851bf6b06c"><div class="ttname"><a href="maildir_2mailbox_8c.html#aa4ce7bc45f6b4f1426bb85851bf6b06c">maildir_check_dir</a></div><div class="ttdeci">static void maildir_check_dir(struct Mailbox *m, const char *dir_name, bool check_new, bool check_stats)</div><div class="ttdoc">Check for new mail / mail counts.</div><div class="ttdef"><b>Definition</b> <a href="maildir_2mailbox_8c_source.html#l00390">mailbox.c:390</a></div></div>
<div class="ttc" id="amxapi_8h_html_a57620b9bfb2acdd39940f3a6dfc13799"><div class="ttname"><a href="mxapi_8h.html#a57620b9bfb2acdd39940f3a6dfc13799">MUTT_MAILBOX_CHECK_STATS</a></div><div class="ttdeci">#define MUTT_MAILBOX_CHECK_STATS</div><div class="ttdoc">Ignore mail_check_stats and calculate statistics (used by &lt;check-stats&gt;)</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00052">mxapi.h:52</a></div></div>
<div class="ttc" id="astructMailbox_html_a185d46a268fdf1e34ee061a28d51414e"><div class="ttname"><a href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">Mailbox::has_new</a></div><div class="ttdeci">bool has_new</div><div class="ttdoc">Mailbox has new mail.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00085">mailbox.h:85</a></div></div>
<div class="ttc" id="astructMailbox_html_a3348499d9eb11b4e48f073d2eddb2be4"><div class="ttname"><a href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">Mailbox::msg_new</a></div><div class="ttdeci">int msg_new</div><div class="ttdoc">Number of new messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00092">mailbox.h:92</a></div></div>
<div class="ttc" id="astructMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00088">mailbox.h:88</a></div></div>
<div class="ttc" id="astructMailbox_html_ad8cc58166581060ab58acf36f22bfd4d"><div class="ttname"><a href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">Mailbox::msg_flagged</a></div><div class="ttdeci">int msg_flagged</div><div class="ttdoc">Number of flagged messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00090">mailbox.h:90</a></div></div>
<div class="ttc" id="astructMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00089">mailbox.h:89</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats_gabb202456659b59d67e34a9b1e9364ffa_cgraph.svg" width="494" height="75"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga7c619138e35972d7b2e5eb0c4bd59459" name="ga7c619138e35972d7b2e5eb0c4bd59459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c619138e35972d7b2e5eb0c4bd59459">&#9670;&#160;</a></span>mbox_mbox_check_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> mbox_mbox_check_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mbox_8c_source.html#l01650">1650</a> of file <a class="el" href="mbox_8c_source.html">mbox.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1651</span>{</div>
<div class="line"><span class="lineno"> 1652</span>  <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno"> 1653</span>  <span class="keywordflow">if</span> (stat(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), &amp;st) != 0)</div>
<div class="line"><span class="lineno"> 1654</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160">MX_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1655</span> </div>
<div class="line"><span class="lineno"> 1656</span>  <span class="keywordtype">bool</span> new_or_changed;</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_check_mbox_size = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;check_mbox_size&quot;</span>);</div>
<div class="line"><span class="lineno"> 1659</span>  <span class="keywordflow">if</span> (c_check_mbox_size)</div>
<div class="line"><span class="lineno"> 1660</span>  {</div>
<div class="line"><span class="lineno"> 1661</span>    new_or_changed = (st.st_size &gt; m-&gt;<a class="code hl_variable" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a>);</div>
<div class="line"><span class="lineno"> 1662</span>  }</div>
<div class="line"><span class="lineno"> 1663</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1664</span>  {</div>
<div class="line"><span class="lineno"> 1665</span>    new_or_changed =</div>
<div class="line"><span class="lineno"> 1666</span>        (<a class="code hl_function" href="file_8c.html#a29dfaf34f54e277c4ed513ba72a4b1d6">mutt_file_stat_compare</a>(&amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df">MUTT_STAT_MTIME</a>, &amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139aaebe13aad5970939f4383a8ed082201f">MUTT_STAT_ATIME</a>) &gt; 0) ||</div>
<div class="line"><span class="lineno"> 1667</span>        (m-&gt;<a class="code hl_variable" href="structMailbox.html#a64e988bd2f8f1c9a27f4193523f4a336">newly_created</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1668</span>         (<a class="code hl_function" href="file_8c.html#a29dfaf34f54e277c4ed513ba72a4b1d6">mutt_file_stat_compare</a>(&amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139a25e70e7259f84aeac06539334a6b43e2">MUTT_STAT_CTIME</a>, &amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df">MUTT_STAT_MTIME</a>) == 0) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1669</span>         (<a class="code hl_function" href="file_8c.html#a29dfaf34f54e277c4ed513ba72a4b1d6">mutt_file_stat_compare</a>(&amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139a25e70e7259f84aeac06539334a6b43e2">MUTT_STAT_CTIME</a>, &amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139aaebe13aad5970939f4383a8ed082201f">MUTT_STAT_ATIME</a>) == 0));</div>
<div class="line"><span class="lineno"> 1670</span>  }</div>
<div class="line"><span class="lineno"> 1671</span> </div>
<div class="line"><span class="lineno"> 1672</span>  <span class="keywordflow">if</span> (new_or_changed)</div>
<div class="line"><span class="lineno"> 1673</span>  {</div>
<div class="line"><span class="lineno"> 1674</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_mail_check_recent = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mail_check_recent&quot;</span>);</div>
<div class="line"><span class="lineno"> 1675</span>    <span class="keywordflow">if</span> (!c_mail_check_recent ||</div>
<div class="line"><span class="lineno"> 1676</span>        (<a class="code hl_function" href="file_8c.html#acf5bbc5f63d75ef10f2d16f183de0de0">mutt_file_stat_timespec_compare</a>(&amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df">MUTT_STAT_MTIME</a>, &amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#ae355489c17bcccdd40768ef3f42dfb39">last_visited</a>) &gt; 0))</div>
<div class="line"><span class="lineno"> 1677</span>    {</div>
<div class="line"><span class="lineno"> 1678</span>      m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1679</span>    }</div>
<div class="line"><span class="lineno"> 1680</span>  }</div>
<div class="line"><span class="lineno"> 1681</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c_check_mbox_size)</div>
<div class="line"><span class="lineno"> 1682</span>  {</div>
<div class="line"><span class="lineno"> 1683</span>    <span class="comment">/* some other program has deleted mail from the folder */</span></div>
<div class="line"><span class="lineno"> 1684</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a> = (off_t) st.st_size;</div>
<div class="line"><span class="lineno"> 1685</span>  }</div>
<div class="line"><span class="lineno"> 1686</span> </div>
<div class="line"><span class="lineno"> 1687</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a64e988bd2f8f1c9a27f4193523f4a336">newly_created</a> &amp;&amp; ((st.st_ctime != st.st_mtime) || (st.st_ctime != st.st_atime)))</div>
<div class="line"><span class="lineno"> 1688</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a64e988bd2f8f1c9a27f4193523f4a336">newly_created</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1689</span> </div>
<div class="line"><span class="lineno"> 1690</span>  <span class="keywordflow">if</span> (flags &amp; <a class="code hl_define" href="mxapi_8h.html#a57620b9bfb2acdd39940f3a6dfc13799">MUTT_MAILBOX_CHECK_STATS</a>)</div>
<div class="line"><span class="lineno"> 1691</span>  {</div>
<div class="line"><span class="lineno"> 1692</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structMboxAccountData.html">MboxAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a>(m);</div>
<div class="line"><span class="lineno"> 1693</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> &amp;&amp; <a class="code hl_function" href="file_8c.html#acf5bbc5f63d75ef10f2d16f183de0de0">mutt_file_stat_timespec_compare</a>(&amp;st, <a class="code hl_enumvalue" href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df">MUTT_STAT_MTIME</a>,</div>
<div class="line"><span class="lineno"> 1694</span>                                                 &amp;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;stats_last_checked) &gt; 0)</div>
<div class="line"><span class="lineno"> 1695</span>    {</div>
<div class="line"><span class="lineno"> 1696</span>      <span class="keywordtype">bool</span> old_peek = m-&gt;<a class="code hl_variable" href="structMailbox.html#aa89cc7ae6d74bf28054b2cbdc032d7ef">peekonly</a>;</div>
<div class="line"><span class="lineno"> 1697</span>      <a class="code hl_function" href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a>(m, <a class="code hl_define" href="mxapi_8h.html#a75f314042a266df29efcc524d35c4b2d">MUTT_QUIET</a> | <a class="code hl_define" href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a> | <a class="code hl_define" href="mxapi_8h.html#a968f688cbe0d506670853e20a623c15c">MUTT_PEEK</a>);</div>
<div class="line"><span class="lineno"> 1698</span>      <a class="code hl_function" href="mx_8c.html#af9e949965d56e69eb9a6a9aa640614bb">mx_mbox_close</a>(m);</div>
<div class="line"><span class="lineno"> 1699</span>      m-&gt;<a class="code hl_variable" href="structMailbox.html#aa89cc7ae6d74bf28054b2cbdc032d7ef">peekonly</a> = old_peek;</div>
<div class="line"><span class="lineno"> 1700</span>      <a class="code hl_function" href="mutt_2date_8c.html#ae098e85ce5035180d82f99c5e5358d18">mutt_time_now</a>(&amp;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;stats_last_checked);</div>
<div class="line"><span class="lineno"> 1701</span>    }</div>
<div class="line"><span class="lineno"> 1702</span>  }</div>
<div class="line"><span class="lineno"> 1703</span> </div>
<div class="line"><span class="lineno"> 1704</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> || m-&gt;<a class="code hl_variable" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>)</div>
<div class="line"><span class="lineno"> 1705</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a>;</div>
<div class="line"><span class="lineno"> 1706</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno"> 1707</span>}</div>
<div class="ttc" id="acore_2mailbox_8h_html_a7e9739eb3e94344633f7051c2fb9453e"><div class="ttname"><a href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&#39;s path string.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00214">mailbox.h:214</a></div></div>
<div class="ttc" id="afile_8c_html_a29dfaf34f54e277c4ed513ba72a4b1d6"><div class="ttname"><a href="file_8c.html#a29dfaf34f54e277c4ed513ba72a4b1d6">mutt_file_stat_compare</a></div><div class="ttdeci">int mutt_file_stat_compare(struct stat *st1, enum MuttStatType st1_type, struct stat *st2, enum MuttStatType st2_type)</div><div class="ttdoc">Compare two stat infos.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01535">file.c:1535</a></div></div>
<div class="ttc" id="afile_8c_html_acf5bbc5f63d75ef10f2d16f183de0de0"><div class="ttname"><a href="file_8c.html#acf5bbc5f63d75ef10f2d16f183de0de0">mutt_file_stat_timespec_compare</a></div><div class="ttdeci">int mutt_file_stat_timespec_compare(struct stat *st, enum MuttStatType type, struct timespec *b)</div><div class="ttdoc">Compare stat info with a time value.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01513">file.c:1513</a></div></div>
<div class="ttc" id="afile_8h_html_ad852389693b4c5a8d79c25e84b2d1139a25e70e7259f84aeac06539334a6b43e2"><div class="ttname"><a href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139a25e70e7259f84aeac06539334a6b43e2">MUTT_STAT_CTIME</a></div><div class="ttdeci">@ MUTT_STAT_CTIME</div><div class="ttdoc">File/dir&#39;s ctime - creation time.</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00055">file.h:55</a></div></div>
<div class="ttc" id="afile_8h_html_ad852389693b4c5a8d79c25e84b2d1139aaebe13aad5970939f4383a8ed082201f"><div class="ttname"><a href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139aaebe13aad5970939f4383a8ed082201f">MUTT_STAT_ATIME</a></div><div class="ttdeci">@ MUTT_STAT_ATIME</div><div class="ttdoc">File/dir&#39;s atime - last accessed time.</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00053">file.h:53</a></div></div>
<div class="ttc" id="afile_8h_html_ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df"><div class="ttname"><a href="file_8h.html#ad852389693b4c5a8d79c25e84b2d1139ab6a80eef142816f3ad6e880fc23fb2df">MUTT_STAT_MTIME</a></div><div class="ttdeci">@ MUTT_STAT_MTIME</div><div class="ttdoc">File/dir&#39;s mtime - last modified time.</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00054">file.h:54</a></div></div>
<div class="ttc" id="ambox_8c_html_a2f989931e9117a9c6598b6c592f69be2"><div class="ttname"><a href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a></div><div class="ttdeci">static struct MboxAccountData * mbox_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the private data associated with a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00124">mbox.c:124</a></div></div>
<div class="ttc" id="amutt_2date_8c_html_ae098e85ce5035180d82f99c5e5358d18"><div class="ttname"><a href="mutt_2date_8c.html#ae098e85ce5035180d82f99c5e5358d18">mutt_time_now</a></div><div class="ttdeci">void mutt_time_now(struct timespec *tp)</div><div class="ttdoc">Set the provided time field to the current time.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2date_8c_source.html#l00481">date.c:481</a></div></div>
<div class="ttc" id="amx_8c_html_a6c4f4c51fa0b086d86a8638197c40578"><div class="ttname"><a href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a></div><div class="ttdeci">bool mx_mbox_open(struct Mailbox *m, OpenMailboxFlags flags)</div><div class="ttdoc">Open a mailbox and parse it.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l00288">mx.c:288</a></div></div>
<div class="ttc" id="amx_8c_html_af9e949965d56e69eb9a6a9aa640614bb"><div class="ttname"><a href="mx_8c.html#af9e949965d56e69eb9a6a9aa640614bb">mx_mbox_close</a></div><div class="ttdeci">enum MxStatus mx_mbox_close(struct Mailbox *m)</div><div class="ttdoc">Save changes and close mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l00598">mx.c:598</a></div></div>
<div class="ttc" id="amxapi_8h_html_a75f314042a266df29efcc524d35c4b2d"><div class="ttname"><a href="mxapi_8h.html#a75f314042a266df29efcc524d35c4b2d">MUTT_QUIET</a></div><div class="ttdeci">#define MUTT_QUIET</div><div class="ttdoc">Do not print any messages.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00044">mxapi.h:44</a></div></div>
<div class="ttc" id="amxapi_8h_html_a968f688cbe0d506670853e20a623c15c"><div class="ttname"><a href="mxapi_8h.html#a968f688cbe0d506670853e20a623c15c">MUTT_PEEK</a></div><div class="ttdeci">#define MUTT_PEEK</div><div class="ttdoc">Revert atime back after taking a look (if applicable)</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00045">mxapi.h:45</a></div></div>
<div class="ttc" id="amxapi_8h_html_a9aa2964ccc101dbfdb11771b00b1de90"><div class="ttname"><a href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a></div><div class="ttdeci">#define MUTT_NOSORT</div><div class="ttdoc">Do not sort the mailbox after opening it.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00041">mxapi.h:41</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructMailbox_html_a64e988bd2f8f1c9a27f4193523f4a336"><div class="ttname"><a href="structMailbox.html#a64e988bd2f8f1c9a27f4193523f4a336">Mailbox::newly_created</a></div><div class="ttdeci">bool newly_created</div><div class="ttdoc">Mbox or mmdf just popped into existence.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00103">mailbox.h:103</a></div></div>
<div class="ttc" id="astructMailbox_html_aa89cc7ae6d74bf28054b2cbdc032d7ef"><div class="ttname"><a href="structMailbox.html#aa89cc7ae6d74bf28054b2cbdc032d7ef">Mailbox::peekonly</a></div><div class="ttdeci">bool peekonly</div><div class="ttdoc">Just taking a glance, revert atime.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00114">mailbox.h:114</a></div></div>
<div class="ttc" id="astructMailbox_html_ace276d581d6d299ecf227be214841148"><div class="ttname"><a href="structMailbox.html#ace276d581d6d299ecf227be214841148">Mailbox::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">Size of the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00084">mailbox.h:84</a></div></div>
<div class="ttc" id="astructMailbox_html_ae355489c17bcccdd40768ef3f42dfb39"><div class="ttname"><a href="structMailbox.html#ae355489c17bcccdd40768ef3f42dfb39">Mailbox::last_visited</a></div><div class="ttdeci">struct timespec last_visited</div><div class="ttdoc">Time of last exit from this mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00104">mailbox.h:104</a></div></div>
<div class="ttc" id="astructMboxAccountData_html"><div class="ttname"><a href="structMboxAccountData.html">MboxAccountData</a></div><div class="ttdoc">Mbox-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="mbox_2lib_8h_source.html#l00048">lib.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats_ga7c619138e35972d7b2e5eb0c4bd59459_cgraph.svg" width="719" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac8762d7e3dcc5f33d48603e0a083e600" name="gac8762d7e3dcc5f33d48603e0a083e600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8762d7e3dcc5f33d48603e0a083e600">&#9670;&#160;</a></span>mh_mbox_check_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> mh_mbox_check_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mh_8c_source.html#l00142">142</a> of file <a class="el" href="mh_8c_source.html">mh.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>{</div>
<div class="line"><span class="lineno">  144</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMhSequences.html">MhSequences</a> mhs = { 0 };</div>
<div class="line"><span class="lineno">  145</span>  DIR *dir = NULL;</div>
<div class="line"><span class="lineno">  146</span>  <span class="keyword">struct </span>dirent *de = NULL;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  <span class="comment">/* when $mail_check_recent is set and the .mh_sequences file hasn&#39;t changed</span></div>
<div class="line"><span class="lineno">  149</span><span class="comment">   * since the last m visit, there is no &quot;new mail&quot; */</span></div>
<div class="line"><span class="lineno">  150</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_mail_check_recent = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mail_check_recent&quot;</span>);</div>
<div class="line"><span class="lineno">  151</span>  <span class="keywordflow">if</span> (c_mail_check_recent &amp;&amp; (<a class="code hl_function" href="sequence_8c.html#ab4f1d72383a002cc88374dbceace7269">mh_seq_changed</a>(m) &lt;= 0))</div>
<div class="line"><span class="lineno">  152</span>  {</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  154</span>  }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="sequence_8c.html#ad5089c5888bb5f8fba2348be50c943dc">mh_seq_read</a>(&amp;mhs, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m)) &lt; 0)</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160">MX_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div>
<div class="line"><span class="lineno">  160</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div>
<div class="line"><span class="lineno">  161</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a> = 0;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> rc = <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordtype">bool</span> check_new = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = mhs.<a class="code hl_variable" href="structMhSequences.html#a4f50dd478cc24d2af98b7d72d99f8f6f">max</a>; i &gt; 0; i--)</div>
<div class="line"><span class="lineno">  166</span>  {</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="sequence_8c.html#a82a7536102418feb9b5f4542cb30b9b2">mh_seq_check</a>(&amp;mhs, i) &amp; <a class="code hl_define" href="sequence_8h.html#acd4b02f6f6422afa6b014e5795c9cc0d">MH_SEQ_FLAGGED</a>))</div>
<div class="line"><span class="lineno">  168</span>      m-&gt;<a class="code hl_variable" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a>++;</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="sequence_8c.html#a82a7536102418feb9b5f4542cb30b9b2">mh_seq_check</a>(&amp;mhs, i) &amp; <a class="code hl_define" href="sequence_8h.html#a28ef3736b45bc532d96b2de611073047">MH_SEQ_UNSEEN</a>)</div>
<div class="line"><span class="lineno">  170</span>    {</div>
<div class="line"><span class="lineno">  171</span>      m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>++;</div>
<div class="line"><span class="lineno">  172</span>      <span class="keywordflow">if</span> (check_new)</div>
<div class="line"><span class="lineno">  173</span>      {</div>
<div class="line"><span class="lineno">  174</span>        <span class="comment">/* if the first unseen message we encounter was in the m during the</span></div>
<div class="line"><span class="lineno">  175</span><span class="comment">         * last visit, don&#39;t notify about it */</span></div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (!c_mail_check_recent || (<a class="code hl_function" href="mh_8c.html#ac355ba6e8c9b1ab7fa886e52ac6f5d4e">mh_already_notified</a>(m, i) == 0))</div>
<div class="line"><span class="lineno">  177</span>        {</div>
<div class="line"><span class="lineno">  178</span>          m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  179</span>          rc = <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a>;</div>
<div class="line"><span class="lineno">  180</span>        }</div>
<div class="line"><span class="lineno">  181</span>        <span class="comment">/* Because we are traversing from high to low, we can stop</span></div>
<div class="line"><span class="lineno">  182</span><span class="comment">         * checking for new mail after the first unseen message.</span></div>
<div class="line"><span class="lineno">  183</span><span class="comment">         * Whether it resulted in &quot;new mail&quot; or not. */</span></div>
<div class="line"><span class="lineno">  184</span>        check_new = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  185</span>      }</div>
<div class="line"><span class="lineno">  186</span>    }</div>
<div class="line"><span class="lineno">  187</span>  }</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>  <a class="code hl_function" href="sequence_8c.html#a86fe1d2831cdac159da58fba06a69349">mh_seq_free</a>(&amp;mhs);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  dir = <a class="code hl_function" href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), <a class="code hl_enumvalue" href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a>);</div>
<div class="line"><span class="lineno">  192</span>  <span class="keywordflow">if</span> (dir)</div>
<div class="line"><span class="lineno">  193</span>  {</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">while</span> ((de = readdir(dir)))</div>
<div class="line"><span class="lineno">  195</span>    {</div>
<div class="line"><span class="lineno">  196</span>      <span class="keywordflow">if</span> (*de-&gt;d_name == <span class="charliteral">&#39;.&#39;</span>)</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  198</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mh_8c.html#a6223240d84e5ce2b19911dd83877cbed">mh_valid_message</a>(de-&gt;d_name))</div>
<div class="line"><span class="lineno">  199</span>        m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>++;</div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="line"><span class="lineno">  201</span>    closedir(dir);</div>
<div class="line"><span class="lineno">  202</span>  }</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  205</span>}</div>
<div class="ttc" id="afile_8c_html_a69da918c66c3f22815d6e4aed88b6122"><div class="ttname"><a href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a></div><div class="ttdeci">DIR * mutt_file_opendir(const char *path, enum MuttOpenDirMode mode)</div><div class="ttdoc">Open a directory.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00543">file.c:543</a></div></div>
<div class="ttc" id="afile_8h_html_a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60"><div class="ttname"><a href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a></div><div class="ttdeci">@ MUTT_OPENDIR_NONE</div><div class="ttdoc">Plain opendir()</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00063">file.h:63</a></div></div>
<div class="ttc" id="amh_8c_html_a6223240d84e5ce2b19911dd83877cbed"><div class="ttname"><a href="mh_8c.html#a6223240d84e5ce2b19911dd83877cbed">mh_valid_message</a></div><div class="ttdeci">static bool mh_valid_message(const char *s)</div><div class="ttdoc">Is this a valid MH message filename.</div><div class="ttdef"><b>Definition</b> <a href="mh_8c_source.html#l00101">mh.c:101</a></div></div>
<div class="ttc" id="amh_8c_html_ac355ba6e8c9b1ab7fa886e52ac6f5d4e"><div class="ttname"><a href="mh_8c.html#ac355ba6e8c9b1ab7fa886e52ac6f5d4e">mh_already_notified</a></div><div class="ttdeci">static int mh_already_notified(struct Mailbox *m, int msgno)</div><div class="ttdoc">Has the message changed.</div><div class="ttdef"><b>Definition</b> <a href="mh_8c_source.html#l00079">mh.c:79</a></div></div>
<div class="ttc" id="amxapi_8h_html_af414aea967025ea4ba10b86268488432"><div class="ttname"><a href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a></div><div class="ttdeci">MxStatus</div><div class="ttdoc">Return values from mbox_check(), mbox_check_stats(), mbox_sync(), and mbox_close()</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00059">mxapi.h:60</a></div></div>
<div class="ttc" id="asequence_8c_html_a82a7536102418feb9b5f4542cb30b9b2"><div class="ttname"><a href="sequence_8c.html#a82a7536102418feb9b5f4542cb30b9b2">mh_seq_check</a></div><div class="ttdeci">MhSeqFlags mh_seq_check(struct MhSequences *mhs, int i)</div><div class="ttdoc">Get the flags for a given sequence.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8c_source.html#l00079">sequence.c:79</a></div></div>
<div class="ttc" id="asequence_8c_html_a86fe1d2831cdac159da58fba06a69349"><div class="ttname"><a href="sequence_8c.html#a86fe1d2831cdac159da58fba06a69349">mh_seq_free</a></div><div class="ttdeci">void mh_seq_free(struct MhSequences *mhs)</div><div class="ttdoc">Free some sequences.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8c_source.html#l00068">sequence.c:68</a></div></div>
<div class="ttc" id="asequence_8c_html_ab4f1d72383a002cc88374dbceace7269"><div class="ttname"><a href="sequence_8c.html#ab4f1d72383a002cc88374dbceace7269">mh_seq_changed</a></div><div class="ttdeci">int mh_seq_changed(struct Mailbox *m)</div><div class="ttdoc">Has the mailbox changed.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8c_source.html#l00439">sequence.c:439</a></div></div>
<div class="ttc" id="asequence_8c_html_ad5089c5888bb5f8fba2348be50c943dc"><div class="ttname"><a href="sequence_8c.html#ad5089c5888bb5f8fba2348be50c943dc">mh_seq_read</a></div><div class="ttdeci">int mh_seq_read(struct MhSequences *mhs, const char *path)</div><div class="ttdoc">Read a set of MH sequences.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8c_source.html#l00378">sequence.c:378</a></div></div>
<div class="ttc" id="asequence_8h_html_a28ef3736b45bc532d96b2de611073047"><div class="ttname"><a href="sequence_8h.html#a28ef3736b45bc532d96b2de611073047">MH_SEQ_UNSEEN</a></div><div class="ttdeci">#define MH_SEQ_UNSEEN</div><div class="ttdoc">Email hasn&#39;t been read.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8h_source.html#l00033">sequence.h:33</a></div></div>
<div class="ttc" id="asequence_8h_html_acd4b02f6f6422afa6b014e5795c9cc0d"><div class="ttname"><a href="sequence_8h.html#acd4b02f6f6422afa6b014e5795c9cc0d">MH_SEQ_FLAGGED</a></div><div class="ttdeci">#define MH_SEQ_FLAGGED</div><div class="ttdoc">Email is flagged.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8h_source.html#l00035">sequence.h:35</a></div></div>
<div class="ttc" id="astructMhSequences_html"><div class="ttname"><a href="structMhSequences.html">MhSequences</a></div><div class="ttdoc">Set of MH sequence numbers.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8h_source.html#l00040">sequence.h:41</a></div></div>
<div class="ttc" id="astructMhSequences_html_a4f50dd478cc24d2af98b7d72d99f8f6f"><div class="ttname"><a href="structMhSequences.html#a4f50dd478cc24d2af98b7d72d99f8f6f">MhSequences::max</a></div><div class="ttdeci">int max</div><div class="ttdoc">Number of flags stored.</div><div class="ttdef"><b>Definition</b> <a href="sequence_8h_source.html#l00042">sequence.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats_gac8762d7e3dcc5f33d48603e0a083e600_cgraph.svg" width="515" height="462"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf0ba56fedbc28eeaa260e75dae131b3a" name="gaf0ba56fedbc28eeaa260e75dae131b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0ba56fedbc28eeaa260e75dae131b3a">&#9670;&#160;</a></span>nm_mbox_check_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> nm_mbox_check_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> statistics - Implements <a class="el" href="structMxOps.html#abfbc84e79f106de70ebed8e4dbccd1f6">MxOps::mbox_check_stats()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="notmuch_8c_source.html#l01812">1812</a> of file <a class="el" href="notmuch_8c_source.html">notmuch.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1813</span>{</div>
<div class="line"><span class="lineno"> 1814</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrlQuery.html">UrlQuery</a> *item = NULL;</div>
<div class="line"><span class="lineno"> 1815</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> *url = NULL;</div>
<div class="line"><span class="lineno"> 1816</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *db_filename = NULL;</div>
<div class="line"><span class="lineno"> 1817</span>  <span class="keywordtype">char</span> *db_query = NULL;</div>
<div class="line"><span class="lineno"> 1818</span>  notmuch_database_t *db = NULL;</div>
<div class="line"><span class="lineno"> 1819</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a> rc = <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432aa482eddd52e9811eaef42b91a7e38160">MX_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1820</span>  <span class="keyword">const</span> <span class="keywordtype">short</span> c_nm_db_limit = <a class="code hl_function" href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nm_db_limit&quot;</span>);</div>
<div class="line"><span class="lineno"> 1821</span>  <span class="keywordtype">int</span> limit = c_nm_db_limit;</div>
<div class="line"><span class="lineno"> 1822</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: count\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>  url = <a class="code hl_function" href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno"> 1825</span>  <span class="keywordflow">if</span> (!url)</div>
<div class="line"><span class="lineno"> 1826</span>  {</div>
<div class="line"><span class="lineno"> 1827</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;failed to parse notmuch url: %s&quot;</span>), <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno"> 1828</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1829</span>  }</div>
<div class="line"><span class="lineno"> 1830</span> </div>
<div class="line"><span class="lineno"> 1831</span>  <a class="code hl_define" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(item, &amp;url-&gt;<a class="code hl_variable" href="structUrl.html#a30ca5136a9649e6df583a48cbdee35d2">query_strings</a>, entries)</div>
<div class="line"><span class="lineno"> 1832</span>  {</div>
<div class="line"><span class="lineno"> 1833</span>    <span class="keywordflow">if</span> (item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">value</a> &amp;&amp; (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a5e84f8d3d31c6f77cd662a9db2bae336">name</a>, <span class="stringliteral">&quot;query&quot;</span>)))</div>
<div class="line"><span class="lineno"> 1834</span>    {</div>
<div class="line"><span class="lineno"> 1835</span>      db_query = item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">value</a>;</div>
<div class="line"><span class="lineno"> 1836</span>    }</div>
<div class="line"><span class="lineno"> 1837</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">value</a> &amp;&amp; (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a5e84f8d3d31c6f77cd662a9db2bae336">name</a>, <span class="stringliteral">&quot;limit&quot;</span>)))</div>
<div class="line"><span class="lineno"> 1838</span>    {</div>
<div class="line"><span class="lineno"> 1839</span>      <span class="comment">// Try to parse the limit</span></div>
<div class="line"><span class="lineno"> 1840</span>      <span class="keywordflow">if</span> (!mutt_str_atoi_full(item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">value</a>, &amp;limit))</div>
<div class="line"><span class="lineno"> 1841</span>      {</div>
<div class="line"><span class="lineno"> 1842</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;failed to parse limit: %s&quot;</span>), item-&gt;<a class="code hl_variable" href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">value</a>);</div>
<div class="line"><span class="lineno"> 1843</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1844</span>      }</div>
<div class="line"><span class="lineno"> 1845</span>    }</div>
<div class="line"><span class="lineno"> 1846</span>  }</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span>  <span class="keywordflow">if</span> (!db_query)</div>
<div class="line"><span class="lineno"> 1849</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1850</span> </div>
<div class="line"><span class="lineno"> 1851</span>  db_filename = url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>;</div>
<div class="line"><span class="lineno"> 1852</span>  <span class="keywordflow">if</span> (!db_filename)</div>
<div class="line"><span class="lineno"> 1853</span>    db_filename = <a class="code hl_function" href="notmuch_2db_8c.html#a819879f52559c6d1d4fc687a2ecea5b6">nm_db_get_filename</a>(m);</div>
<div class="line"><span class="lineno"> 1854</span> </div>
<div class="line"><span class="lineno"> 1855</span>  <span class="comment">/* don&#39;t be verbose about connection, as we&#39;re called from</span></div>
<div class="line"><span class="lineno"> 1856</span><span class="comment">   * sidebar/mailbox very often */</span></div>
<div class="line"><span class="lineno"> 1857</span>  db = <a class="code hl_function" href="notmuch_2db_8c.html#a320895a1eb538de207b6060e6a49d73e">nm_db_do_open</a>(db_filename, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1858</span>  <span class="keywordflow">if</span> (!db)</div>
<div class="line"><span class="lineno"> 1859</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1860</span> </div>
<div class="line"><span class="lineno"> 1861</span>  <span class="comment">/* all emails */</span></div>
<div class="line"><span class="lineno"> 1862</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = <a class="code hl_function" href="notmuch_8c.html#a4407eb83838cab3b1d14b9d22de269fc">count_query</a>(db, db_query, limit);</div>
<div class="line"><span class="lineno"> 1863</span>  <a class="code hl_function" href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a>(m, m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div>
<div class="line"><span class="lineno"> 1864</span> </div>
<div class="line"><span class="lineno"> 1865</span>  <span class="comment">// holder variable for extending query to unread/flagged</span></div>
<div class="line"><span class="lineno"> 1866</span>  <span class="keywordtype">char</span> *qstr = NULL;</div>
<div class="line"><span class="lineno"> 1867</span> </div>
<div class="line"><span class="lineno"> 1868</span>  <span class="comment">// unread messages</span></div>
<div class="line"><span class="lineno"> 1869</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_nm_unread_tag = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nm_unread_tag&quot;</span>);</div>
<div class="line"><span class="lineno"> 1870</span>  <a class="code hl_function" href="mutt_2string_8c.html#a4388c16988fac9a7596dee4d4af89595">mutt_str_asprintf</a>(&amp;qstr, <span class="stringliteral">&quot;( %s ) tag:%s&quot;</span>, db_query, c_nm_unread_tag);</div>
<div class="line"><span class="lineno"> 1871</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = <a class="code hl_function" href="notmuch_8c.html#a4407eb83838cab3b1d14b9d22de269fc">count_query</a>(db, qstr, limit);</div>
<div class="line"><span class="lineno"> 1872</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;qstr);</div>
<div class="line"><span class="lineno"> 1873</span> </div>
<div class="line"><span class="lineno"> 1874</span>  <span class="comment">// flagged messages</span></div>
<div class="line"><span class="lineno"> 1875</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_nm_flagged_tag = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nm_flagged_tag&quot;</span>);</div>
<div class="line"><span class="lineno"> 1876</span>  <a class="code hl_function" href="mutt_2string_8c.html#a4388c16988fac9a7596dee4d4af89595">mutt_str_asprintf</a>(&amp;qstr, <span class="stringliteral">&quot;( %s ) tag:%s&quot;</span>, db_query, c_nm_flagged_tag);</div>
<div class="line"><span class="lineno"> 1877</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a> = <a class="code hl_function" href="notmuch_8c.html#a4407eb83838cab3b1d14b9d22de269fc">count_query</a>(db, qstr, limit);</div>
<div class="line"><span class="lineno"> 1878</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;qstr);</div>
<div class="line"><span class="lineno"> 1879</span> </div>
<div class="line"><span class="lineno"> 1880</span>  rc = (m-&gt;<a class="code hl_variable" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a> &gt; 0) ? <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432af3d8ebc52b40a1f9f22b7b4366d0315b">MX_STATUS_NEW_MAIL</a> : <a class="code hl_enumvalue" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432acc30aaa1797601a158bcead39ef19a4b">MX_STATUS_OK</a>;</div>
<div class="line"><span class="lineno"> 1881</span>done:</div>
<div class="line"><span class="lineno"> 1882</span>  <span class="keywordflow">if</span> (db)</div>
<div class="line"><span class="lineno"> 1883</span>  {</div>
<div class="line"><span class="lineno"> 1884</span>    <a class="code hl_function" href="notmuch_2db_8c.html#ae4338ff57a702c18d4a5f47fd1c25230">nm_db_free</a>(db);</div>
<div class="line"><span class="lineno"> 1885</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: count close DB\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1886</span>  }</div>
<div class="line"><span class="lineno"> 1887</span>  <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: count done [rc=%d]\n&quot;</span>, rc);</div>
<div class="line"><span class="lineno"> 1890</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 1891</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00143">helpers.c:143</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00091">logging2.h:91</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a4388c16988fac9a7596dee4d4af89595"><div class="ttname"><a href="mutt_2string_8c.html#a4388c16988fac9a7596dee4d4af89595">mutt_str_asprintf</a></div><div class="ttdeci">int mutt_str_asprintf(char **strp, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00805">string.c:805</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00662">string.c:662</a></div></div>
<div class="ttc" id="amx_8c_html_a0572e1f7a00e528557923201a39c7de9"><div class="ttname"><a href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a></div><div class="ttdeci">void mx_alloc_memory(struct Mailbox *m, int req_size)</div><div class="ttdoc">Create storage for the emails.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01211">mx.c:1211</a></div></div>
<div class="ttc" id="anotmuch_2db_8c_html_a320895a1eb538de207b6060e6a49d73e"><div class="ttname"><a href="notmuch_2db_8c.html#a320895a1eb538de207b6060e6a49d73e">nm_db_do_open</a></div><div class="ttdeci">notmuch_database_t * nm_db_do_open(const char *filename, bool writable, bool verbose)</div><div class="ttdoc">Open a Notmuch database.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2db_8c_source.html#l00115">db.c:115</a></div></div>
<div class="ttc" id="anotmuch_2db_8c_html_a819879f52559c6d1d4fc687a2ecea5b6"><div class="ttname"><a href="notmuch_2db_8c.html#a819879f52559c6d1d4fc687a2ecea5b6">nm_db_get_filename</a></div><div class="ttdeci">const char * nm_db_get_filename(struct Mailbox *m)</div><div class="ttdoc">Get the filename of the Notmuch database.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2db_8c_source.html#l00058">db.c:58</a></div></div>
<div class="ttc" id="anotmuch_2db_8c_html_ae4338ff57a702c18d4a5f47fd1c25230"><div class="ttname"><a href="notmuch_2db_8c.html#ae4338ff57a702c18d4a5f47fd1c25230">nm_db_free</a></div><div class="ttdeci">void nm_db_free(notmuch_database_t *db)</div><div class="ttdoc">Decoupled way to close a Notmuch database.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2db_8c_source.html#l00250">db.c:250</a></div></div>
<div class="ttc" id="anotmuch_8c_html_a4407eb83838cab3b1d14b9d22de269fc"><div class="ttname"><a href="notmuch_8c.html#a4407eb83838cab3b1d14b9d22de269fc">count_query</a></div><div class="ttdeci">static unsigned int count_query(notmuch_database_t *db, const char *qstr, int limit)</div><div class="ttdoc">Count the results of a query.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l01460">notmuch.c:1460</a></div></div>
<div class="ttc" id="aqueue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00390">queue.h:390</a></div></div>
<div class="ttc" id="astructUrlQuery_html"><div class="ttname"><a href="structUrlQuery.html">UrlQuery</a></div><div class="ttdoc">Parsed Query String.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00057">url.h:58</a></div></div>
<div class="ttc" id="astructUrlQuery_html_a5e84f8d3d31c6f77cd662a9db2bae336"><div class="ttname"><a href="structUrlQuery.html#a5e84f8d3d31c6f77cd662a9db2bae336">UrlQuery::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Query name.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00059">url.h:59</a></div></div>
<div class="ttc" id="astructUrlQuery_html_a6e66e3d6d751fdadc6697177649a9dad"><div class="ttname"><a href="structUrlQuery.html#a6e66e3d6d751fdadc6697177649a9dad">UrlQuery::value</a></div><div class="ttdeci">char * value</div><div class="ttdoc">Query value.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00060">url.h:60</a></div></div>
<div class="ttc" id="astructUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00068">url.h:69</a></div></div>
<div class="ttc" id="astructUrl_html_a30ca5136a9649e6df583a48cbdee35d2"><div class="ttname"><a href="structUrl.html#a30ca5136a9649e6df583a48cbdee35d2">Url::query_strings</a></div><div class="ttdeci">struct UrlQueryList query_strings</div><div class="ttdoc">List of query strings.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00076">url.h:76</a></div></div>
<div class="ttc" id="astructUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="aurl_8c_html_a3030b91052fa1a5fee0ca7b1d4d94f93"><div class="ttname"><a href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a></div><div class="ttdeci">struct Url * url_parse(const char *src)</div><div class="ttdoc">Fill in Url.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00239">url.c:239</a></div></div>
<div class="ttc" id="aurl_8c_html_a7b05825b8bb8f87657713fe5bc6edfaa"><div class="ttname"><a href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a></div><div class="ttdeci">void url_free(struct Url **ptr)</div><div class="ttdoc">Free the contents of a URL.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00124">url.c:124</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__check__stats_gaf0ba56fedbc28eeaa260e75dae131b3a_cgraph.svg" width="552" height="616"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
