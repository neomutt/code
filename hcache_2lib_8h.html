<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: hcache/lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-09-05-2-g4bf191</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('hcache_2lib_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">lib.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header cache multiplexor.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="compress_2lib_8h_source.html">compress/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="store_2lib_8h_source.html">store/lib.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for lib.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h__incl.svg" width="443" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h__dep__incl.svg" width="1303" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="hcache_2lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHeaderCache.html">HeaderCache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header Cache.  <a href="structHeaderCache.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structHCacheEntry.html">HCacheEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for <a class="el" href="structEmail.html" title="The envelope/body of an email.">Email</a> retrieved from the header cache.  <a href="structHCacheEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9aaef64bb7b1970be7882ce2b51afbb1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a9aaef64bb7b1970be7882ce2b51afbb1">hcache_fetch_raw_obj</a>(hc,  key,  keylen,  dst)&#160;&#160;&#160;<a class="el" href="hcache_2hcache_8c.html#aa068289d3f49d30384735351739541f2">hcache_fetch_raw_obj_full</a>(hc, key, keylen, dst, sizeof(*dst))</td></tr>
<tr class="separator:a9aaef64bb7b1970be7882ce2b51afbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8a057dcdc29771b3f30457651fd523d5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a8a057dcdc29771b3f30457651fd523d5">hcache_namer_t</a>) (const char *path, struct <a class="el" href="structBuffer.html">Buffer</a> *dest)</td></tr>
<tr class="separator:a8a057dcdc29771b3f30457651fd523d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5691b8a075665d48c570eb105a472556"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556">hcache_open</a> (const char *path, const char *folder, <a class="el" href="hcache_2lib_8h.html#a8a057dcdc29771b3f30457651fd523d5">hcache_namer_t</a> namer, bool create)</td></tr>
<tr class="memdesc:a5691b8a075665d48c570eb105a472556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the connection to the header cache.  <br /></td></tr>
<tr class="separator:a5691b8a075665d48c570eb105a472556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791c8437997aca5d8747271ff4c75e98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> **ptr)</td></tr>
<tr class="memdesc:a791c8437997aca5d8747271ff4c75e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the connection to the header cache.  <br /></td></tr>
<tr class="separator:a791c8437997aca5d8747271ff4c75e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e0172956ca278dc113eefc10baef638"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a9e0172956ca278dc113eefc10baef638">hcache_store_email</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen, struct <a class="el" href="structEmail.html">Email</a> *e, uint32_t uidvalidity)</td></tr>
<tr class="memdesc:a9e0172956ca278dc113eefc10baef638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a Header along with a validity datum.  <br /></td></tr>
<tr class="separator:a9e0172956ca278dc113eefc10baef638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef10068ab1140db0955929b282525f6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structHCacheEntry.html">HCacheEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a8ef10068ab1140db0955929b282525f6">hcache_fetch_email</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen, uint32_t uidvalidity)</td></tr>
<tr class="memdesc:a8ef10068ab1140db0955929b282525f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch and validate a message's header from the cache.  <br /></td></tr>
<tr class="separator:a8ef10068ab1140db0955929b282525f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2aea3b2e8ba9dc758a06e0163dee14"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a9f2aea3b2e8ba9dc758a06e0163dee14">hcache_fetch_raw_str</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen)</td></tr>
<tr class="memdesc:a9f2aea3b2e8ba9dc758a06e0163dee14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch a string from the cache.  <br /></td></tr>
<tr class="separator:a9f2aea3b2e8ba9dc758a06e0163dee14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa068289d3f49d30384735351739541f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#aa068289d3f49d30384735351739541f2">hcache_fetch_raw_obj_full</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen, void *dst, size_t dstlen)</td></tr>
<tr class="memdesc:aa068289d3f49d30384735351739541f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch a message's header from the cache into a destination object.  <br /></td></tr>
<tr class="separator:aa068289d3f49d30384735351739541f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca0b66c75e59b1400da46b646e6bb9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#acca0b66c75e59b1400da46b646e6bb9c">hcache_store_raw</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen, void *data, size_t dlen)</td></tr>
<tr class="memdesc:acca0b66c75e59b1400da46b646e6bb9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a key / data pair.  <br /></td></tr>
<tr class="separator:acca0b66c75e59b1400da46b646e6bb9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e48b640205127c7a4bb987b8d0192d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#a66e48b640205127c7a4bb987b8d0192d">hcache_delete_email</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen)</td></tr>
<tr class="memdesc:a66e48b640205127c7a4bb987b8d0192d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a key / data pair.  <br /></td></tr>
<tr class="separator:a66e48b640205127c7a4bb987b8d0192d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaceee97c4d9607a5d2ce3569f2e17a01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hcache_2lib_8h.html#aaceee97c4d9607a5d2ce3569f2e17a01">hcache_delete_raw</a> (struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc, const char *key, size_t keylen)</td></tr>
<tr class="memdesc:aaceee97c4d9607a5d2ce3569f2e17a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a key / data pair.  <br /></td></tr>
<tr class="separator:aaceee97c4d9607a5d2ce3569f2e17a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header cache multiplexor. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
<li>Pietro Cerutti</li>
<li>Tino Reichardt</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="hcache_2lib_8h_source.html">lib.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9aaef64bb7b1970be7882ce2b51afbb1" name="a9aaef64bb7b1970be7882ce2b51afbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aaef64bb7b1970be7882ce2b51afbb1">&#9670;&#160;</a></span>hcache_fetch_raw_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hcache_fetch_raw_obj</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">hc, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">keylen, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dst&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="hcache_2hcache_8c.html#aa068289d3f49d30384735351739541f2">hcache_fetch_raw_obj_full</a>(hc, key, keylen, dst, sizeof(*dst))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hcache_2lib_8h_source.html#l00162">162</a> of file <a class="el" href="hcache_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8a057dcdc29771b3f30457651fd523d5" name="a8a057dcdc29771b3f30457651fd523d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a057dcdc29771b3f30457651fd523d5">&#9670;&#160;</a></span>hcache_namer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* hcache_namer_t) (const char *path, struct <a class="el" href="structBuffer.html">Buffer</a> *dest)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hcache_2lib_8h_source.html#l00113">113</a> of file <a class="el" href="hcache_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5691b8a075665d48c570eb105a472556" name="a5691b8a075665d48c570eb105a472556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5691b8a075665d48c570eb105a472556">&#9670;&#160;</a></span>hcache_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> * hcache_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hcache_2lib_8h.html#a8a057dcdc29771b3f30457651fd523d5">hcache_namer_t</a>&#160;</td>
          <td class="paramname"><em>namer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the connection to the header cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Location of the header cache (often as specified by the user) </td></tr>
    <tr><td class="paramname">folder</td><td>Name of the folder containing the messages </td></tr>
    <tr><td class="paramname">namer</td><td>Optional (might be NULL) client-specific function to form the final name of the hcache database file. </td></tr>
    <tr><td class="paramname">create</td><td>Create the file if it's not there? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>Success, struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> struct </td></tr>
    <tr><td class="paramname">NULL</td><td>Otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Open the connection to the header cache. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00471">471</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>{</div>
<div class="line"><span class="lineno">  474</span>  <span class="keywordflow">if</span> (!path || (path[0] == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="hcache_2hcache_8c.html#a1b15c2ded777ad141f333765bdf1827c">HcacheVer</a> == 0x0)</div>
<div class="line"><span class="lineno">  478</span>    <a class="code hl_variable" href="hcache_2hcache_8c.html#a1b15c2ded777ad141f333765bdf1827c">HcacheVer</a> = <a class="code hl_function" href="hcache_2hcache_8c.html#a92af5c18e373eace42e9f0bb948f723f">generate_hcachever</a>();</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHeaderCache.html">HeaderCache</a> *hc = <a class="code hl_function" href="hcache_2hcache_8c.html#a36d379f935f26887f371973d514b0a7e">hcache_new</a>();</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>  hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a54ad1dd524ef2400d7b363333801fa95">folder</a> = <a class="code hl_function" href="hcache_2hcache_8c.html#af04125825e118cd83296f4d9dae9cb05">get_foldername</a>(<a class="code hl_variable" href="structHeaderCache.html#a54ad1dd524ef2400d7b363333801fa95">folder</a>);</div>
<div class="line"><span class="lineno">  483</span>  hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a48bc8a680626d25eb1e2e10438e89271">crc</a> = <a class="code hl_variable" href="hcache_2hcache_8c.html#a1b15c2ded777ad141f333765bdf1827c">HcacheVer</a>;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_header_cache_backend = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;header_cache_backend&quot;</span>);</div>
<div class="line"><span class="lineno">  486</span>  hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a> = <a class="code hl_function" href="store_2lib_8h.html#adcfbb4e1d37c31224b8baaabb773cb8b">store_get_backend_ops</a>(c_header_cache_backend);</div>
<div class="line"><span class="lineno">  487</span>  <span class="keywordflow">if</span> (!hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>)</div>
<div class="line"><span class="lineno">  488</span>  {</div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_function" href="hcache_2hcache_8c.html#a2df705169649d1f8d9726fc9ecf41f57">hcache_free</a>(&amp;hc);</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  491</span>  }</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span><span class="preprocessor">#ifdef USE_HCACHE_COMPRESSION</span></div>
<div class="line"><span class="lineno">  494</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_header_cache_compress_method = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;header_cache_compress_method&quot;</span>);</div>
<div class="line"><span class="lineno">  495</span>  <span class="keywordflow">if</span> (c_header_cache_compress_method)</div>
<div class="line"><span class="lineno">  496</span>  {</div>
<div class="line"><span class="lineno">  497</span>    hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a> = <a class="code hl_function" href="compress_2compress_8c.html#abe298dc1a9bb12b6195a29361a9318f4">compress_get_ops</a>(c_header_cache_compress_method);</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>    <span class="keyword">const</span> <span class="keywordtype">short</span> c_header_cache_compress_level = <a class="code hl_function" href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;header_cache_compress_level&quot;</span>);</div>
<div class="line"><span class="lineno">  500</span>    hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a> = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#a1211f60e8a0b5a3601138eee37bd9a9e">open</a>(c_header_cache_compress_level);</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">if</span> (!hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a>)</div>
<div class="line"><span class="lineno">  502</span>    {</div>
<div class="line"><span class="lineno">  503</span>      <a class="code hl_function" href="hcache_2hcache_8c.html#a2df705169649d1f8d9726fc9ecf41f57">hcache_free</a>(&amp;hc);</div>
<div class="line"><span class="lineno">  504</span>      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  505</span>    }</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="comment">/* remember the buffer of database backend */</span></div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Header cache will use %s compression\n&quot;</span>,</div>
<div class="line"><span class="lineno">  509</span>               hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#a52489ce87a6b242c311a7a2c5e359aaf">name</a>);</div>
<div class="line"><span class="lineno">  510</span>  }</div>
<div class="line"><span class="lineno">  511</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *hcpath = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  514</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#ad480bed1a8153e7175a912f7b2ec6437">hcache_per_folder</a>(hc, hcpath, path, namer);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a> = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a793be54df22d7266703844479afb7af8">open</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(hcpath), create);</div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordflow">if</span> (!hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>)</div>
<div class="line"><span class="lineno">  518</span>  {</div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">/* remove a possibly incompatible version */</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">if</span> (unlink(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(hcpath)) == 0)</div>
<div class="line"><span class="lineno">  521</span>    {</div>
<div class="line"><span class="lineno">  522</span>      hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a> = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a793be54df22d7266703844479afb7af8">open</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(hcpath), create);</div>
<div class="line"><span class="lineno">  523</span>    }</div>
<div class="line"><span class="lineno">  524</span>  }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">if</span> (!hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>)</div>
<div class="line"><span class="lineno">  527</span>  {</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> (hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>)</div>
<div class="line"><span class="lineno">  529</span>    {</div>
<div class="line"><span class="lineno">  530</span>      hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#adba0c7a5be5b03f182bad1ef8513503f">close</a>(&amp;hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a>);</div>
<div class="line"><span class="lineno">  531</span>    }</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_function" href="hcache_2hcache_8c.html#a2df705169649d1f8d9726fc9ecf41f57">hcache_free</a>(&amp;hc);</div>
<div class="line"><span class="lineno">  533</span>  }</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;hcpath);</div>
<div class="line"><span class="lineno">  536</span>  <span class="keywordflow">return</span> hc;</div>
<div class="line"><span class="lineno">  537</span>}</div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="acompress_2compress_8c_html_abe298dc1a9bb12b6195a29361a9318f4"><div class="ttname"><a href="compress_2compress_8c.html#abe298dc1a9bb12b6195a29361a9318f4">compress_get_ops</a></div><div class="ttdeci">const struct ComprOps * compress_get_ops(const char *compr)</div><div class="ttdoc">Get the API functions for a compress backend.</div><div class="ttdef"><b>Definition:</b> <a href="compress_2compress_8c_source.html#l00078">compress.c:78</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00143">helpers.c:143</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00090">logging2.h:90</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a1b15c2ded777ad141f333765bdf1827c"><div class="ttname"><a href="hcache_2hcache_8c.html#a1b15c2ded777ad141f333765bdf1827c">HcacheVer</a></div><div class="ttdeci">static unsigned int HcacheVer</div><div class="ttdoc">Header Cache version.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00061">hcache.c:61</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a2df705169649d1f8d9726fc9ecf41f57"><div class="ttname"><a href="hcache_2hcache_8c.html#a2df705169649d1f8d9726fc9ecf41f57">hcache_free</a></div><div class="ttdeci">static void hcache_free(struct HeaderCache **ptr)</div><div class="ttdoc">Free a header cache.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00103">hcache.c:103</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a36d379f935f26887f371973d514b0a7e"><div class="ttname"><a href="hcache_2hcache_8c.html#a36d379f935f26887f371973d514b0a7e">hcache_new</a></div><div class="ttdeci">static struct HeaderCache * hcache_new(void)</div><div class="ttdoc">Create a new header cache.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00118">hcache.c:118</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a92af5c18e373eace42e9f0bb948f723f"><div class="ttname"><a href="hcache_2hcache_8c.html#a92af5c18e373eace42e9f0bb948f723f">generate_hcachever</a></div><div class="ttdeci">static unsigned int generate_hcachever(void)</div><div class="ttdoc">Calculate hcache version from dynamic configuration.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00432">hcache.c:432</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_ad480bed1a8153e7175a912f7b2ec6437"><div class="ttname"><a href="hcache_2hcache_8c.html#ad480bed1a8153e7175a912f7b2ec6437">hcache_per_folder</a></div><div class="ttdeci">static void hcache_per_folder(struct HeaderCache *hc, struct Buffer *hcpath, const char *path, hcache_namer_t namer)</div><div class="ttdoc">Generate the hcache pathname.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00356">hcache.c:356</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_af04125825e118cd83296f4d9dae9cb05"><div class="ttname"><a href="hcache_2hcache_8c.html#af04125825e118cd83296f4d9dae9cb05">get_foldername</a></div><div class="ttdeci">static char * get_foldername(const char *folder)</div><div class="ttdoc">Where should the cache be stored?</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00409">hcache.c:409</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a></div><div class="ttdeci">@ LL_DEBUG3</div><div class="ttdoc">Log at debug level 3.</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00046">logging2.h:46</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astore_2lib_8h_html_adcfbb4e1d37c31224b8baaabb773cb8b"><div class="ttname"><a href="store_2lib_8h.html#adcfbb4e1d37c31224b8baaabb773cb8b">store_get_backend_ops</a></div><div class="ttdeci">const struct StoreOps * store_get_backend_ops(const char *str)</div><div class="ttdoc">Get the API functions for an store backend.</div><div class="ttdef"><b>Definition:</b> <a href="store_8c_source.html#l00104">store.c:104</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructComprOps_html_a1211f60e8a0b5a3601138eee37bd9a9e"><div class="ttname"><a href="structComprOps.html#a1211f60e8a0b5a3601138eee37bd9a9e">ComprOps::open</a></div><div class="ttdeci">ComprHandle *(* open)(short level)</div><div class="ttdef"><b>Definition:</b> <a href="compress_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="astructComprOps_html_a52489ce87a6b242c311a7a2c5e359aaf"><div class="ttname"><a href="structComprOps.html#a52489ce87a6b242c311a7a2c5e359aaf">ComprOps::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Compression name.</div><div class="ttdef"><b>Definition:</b> <a href="compress_2lib_8h_source.html#l00065">lib.h:65</a></div></div>
<div class="ttc" id="astructComprOps_html_adba0c7a5be5b03f182bad1ef8513503f"><div class="ttname"><a href="structComprOps.html#adba0c7a5be5b03f182bad1ef8513503f">ComprOps::close</a></div><div class="ttdeci">void(* close)(ComprHandle **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="compress_2lib_8h_source.html#l00123">lib.h:123</a></div></div>
<div class="ttc" id="astructHeaderCache_html"><div class="ttname"><a href="structHeaderCache.html">HeaderCache</a></div><div class="ttdoc">Header Cache.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00085">lib.h:86</a></div></div>
<div class="ttc" id="astructHeaderCache_html_a11a84f4577509d7a782b8f695886a1c0"><div class="ttname"><a href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">HeaderCache::compr_handle</a></div><div class="ttdeci">ComprHandle * compr_handle</div><div class="ttdoc">Compression handle.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00092">lib.h:92</a></div></div>
<div class="ttc" id="astructHeaderCache_html_a48bc8a680626d25eb1e2e10438e89271"><div class="ttname"><a href="structHeaderCache.html#a48bc8a680626d25eb1e2e10438e89271">HeaderCache::crc</a></div><div class="ttdeci">unsigned int crc</div><div class="ttdoc">CRC of the cache entry.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="astructHeaderCache_html_a54ad1dd524ef2400d7b363333801fa95"><div class="ttname"><a href="structHeaderCache.html#a54ad1dd524ef2400d7b363333801fa95">HeaderCache::folder</a></div><div class="ttdeci">char * folder</div><div class="ttdoc">Folder name.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="astructHeaderCache_html_a70c1a9921a59f63eb065e43768e9e9b6"><div class="ttname"><a href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">HeaderCache::store_ops</a></div><div class="ttdeci">const struct StoreOps * store_ops</div><div class="ttdoc">Store backend.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00089">lib.h:89</a></div></div>
<div class="ttc" id="astructHeaderCache_html_aa3dbee309b4040e10348d089e0cfe9b8"><div class="ttname"><a href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">HeaderCache::store_handle</a></div><div class="ttdeci">StoreHandle * store_handle</div><div class="ttdoc">Store handle.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00090">lib.h:90</a></div></div>
<div class="ttc" id="astructHeaderCache_html_aa5791d506eed6ed34656d6e5eadd6d0e"><div class="ttname"><a href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">HeaderCache::compr_ops</a></div><div class="ttdeci">const struct ComprOps * compr_ops</div><div class="ttdoc">Compression backend.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00091">lib.h:91</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
<div class="ttc" id="astructStoreOps_html_a793be54df22d7266703844479afb7af8"><div class="ttname"><a href="structStoreOps.html#a793be54df22d7266703844479afb7af8">StoreOps::open</a></div><div class="ttdeci">StoreHandle *(* open)(const char *path, bool create)</div><div class="ttdef"><b>Definition:</b> <a href="store_2lib_8h_source.html#l00086">lib.h:86</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a5691b8a075665d48c570eb105a472556_cgraph.svg" width="503" height="578"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a5691b8a075665d48c570eb105a472556_icgraph.svg" width="319" height="382"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a791c8437997aca5d8747271ff4c75e98" name="a791c8437997aca5d8747271ff4c75e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a791c8437997aca5d8747271ff4c75e98">&#9670;&#160;</a></span>hcache_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hcache_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> **&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the connection to the header cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556" title="Open the connection to the header cache.">hcache_open()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The pointer will be set to NULL</dd></dl>
<p>Close the connection to the header cache. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00542">542</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  543</span>{</div>
<div class="line"><span class="lineno">  544</span>  <span class="keywordflow">if</span> (!ptr || !*ptr)</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHeaderCache.html">HeaderCache</a> *hc = *ptr;</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span><span class="preprocessor">#ifdef USE_HCACHE_COMPRESSION</span></div>
<div class="line"><span class="lineno">  550</span>  <span class="keywordflow">if</span> (hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>)</div>
<div class="line"><span class="lineno">  551</span>    hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#adba0c7a5be5b03f182bad1ef8513503f">close</a>(&amp;hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a>);</div>
<div class="line"><span class="lineno">  552</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>  hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a1fe12316bda9cb585a91e6c455796513">close</a>(&amp;hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#a2df705169649d1f8d9726fc9ecf41f57">hcache_free</a>(ptr);</div>
<div class="line"><span class="lineno">  557</span>}</div>
<div class="ttc" id="astructStoreOps_html_a1fe12316bda9cb585a91e6c455796513"><div class="ttname"><a href="structStoreOps.html#a1fe12316bda9cb585a91e6c455796513">StoreOps::close</a></div><div class="ttdeci">void(* close)(StoreHandle **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="store_2lib_8h_source.html#l00147">lib.h:147</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a791c8437997aca5d8747271ff4c75e98_cgraph.svg" width="259" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a791c8437997aca5d8747271ff4c75e98_icgraph.svg" width="502" height="683"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9e0172956ca278dc113eefc10baef638" name="a9e0172956ca278dc113eefc10baef638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0172956ca278dc113eefc10baef638">&#9670;&#160;</a></span>hcache_store_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hcache_store_email </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uidvalidity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a Header along with a validity datum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556" title="Open the connection to the header cache.">hcache_open()</a> </td></tr>
    <tr><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramname">keylen</td><td>Length of the key string </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email.">Email</a> to store </td></tr>
    <tr><td class="paramname">uidvalidity</td><td>IMAP-specific UIDVALIDITY value, or 0 to use the current time </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">num</td><td>Generic or backend-specific error code otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Store a Header along with a validity datum. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00670">670</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  672</span>{</div>
<div class="line"><span class="lineno">  673</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  <span class="keywordtype">int</span> dlen = 0;</div>
<div class="line"><span class="lineno">  677</span>  <span class="keywordtype">char</span> *data = <a class="code hl_function" href="hcache_2hcache_8c.html#a83fb46f01645076c584af0530d4cbc54">dump_email</a>(hc, e, &amp;dlen, uidvalidity);</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span><span class="preprocessor">#ifdef USE_HCACHE_COMPRESSION</span></div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">if</span> (hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>)</div>
<div class="line"><span class="lineno">  681</span>  {</div>
<div class="line"><span class="lineno">  682</span>    <span class="comment">/* We don&#39;t compress uidvalidity and the crc, so we can check them before</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment">     * decompressing on fetch().  */</span></div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordtype">size_t</span> hlen = <a class="code hl_function" href="hcache_2hcache_8c.html#ab0e95e8a30f666418f3f8205cecc0582">header_size</a>();</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="comment">/* data / dlen gets ptr to compressed data here */</span></div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordtype">size_t</span> clen = dlen;</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordtype">void</span> *cdata = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#abf598bd81ed7c964c32c09a03b40099d">compress</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a>, data + hlen, dlen - hlen, &amp;clen);</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">if</span> (!cdata)</div>
<div class="line"><span class="lineno">  690</span>    {</div>
<div class="line"><span class="lineno">  691</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;data);</div>
<div class="line"><span class="lineno">  692</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  693</span>    }</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordtype">char</span> *whole = <a class="code hl_define" href="memory_8h.html#af997cb3719dc7abbeabae655d0ee1b9e">MUTT_MEM_MALLOC</a>(hlen + clen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  696</span>    memcpy(whole, data, hlen);</div>
<div class="line"><span class="lineno">  697</span>    memcpy(whole + hlen, cdata, clen);</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;data);</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    data = whole;</div>
<div class="line"><span class="lineno">  702</span>    dlen = hlen + clen;</div>
<div class="line"><span class="lineno">  703</span>  }</div>
<div class="line"><span class="lineno">  704</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  707</span>  <span class="keywordtype">int</span> rc = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a2e8409df86a1c1b7c588f91e0b593736">store</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, data, dlen);</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;data);</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  712</span>}</div>
<div class="ttc" id="ahcache_2hcache_8c_html_a83fb46f01645076c584af0530d4cbc54"><div class="ttname"><a href="hcache_2hcache_8c.html#a83fb46f01645076c584af0530d4cbc54">dump_email</a></div><div class="ttdeci">static void * dump_email(struct HeaderCache *hc, const struct Email *e, int *off, uint32_t uidvalidity)</div><div class="ttdoc">Serialise an Email object.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00227">hcache.c:227</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_aaf746a46ab7ef9fa63775fde7dacd885"><div class="ttname"><a href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a></div><div class="ttdeci">static struct RealKey * realkey(struct HeaderCache *hc, const char *key, size_t keylen, bool compress)</div><div class="ttdoc">Compute the real key used in the backend, taking into account the compression method.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00080">hcache.c:80</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_ab0e95e8a30f666418f3f8205cecc0582"><div class="ttname"><a href="hcache_2hcache_8c.html#ab0e95e8a30f666418f3f8205cecc0582">header_size</a></div><div class="ttdeci">static size_t header_size(void)</div><div class="ttdoc">Compute the size of the header with uuid validity and crc.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00127">hcache.c:127</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00062">memory.h:62</a></div></div>
<div class="ttc" id="amemory_8h_html_af997cb3719dc7abbeabae655d0ee1b9e"><div class="ttname"><a href="memory_8h.html#af997cb3719dc7abbeabae655d0ee1b9e">MUTT_MEM_MALLOC</a></div><div class="ttdeci">#define MUTT_MEM_MALLOC(n, type)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00048">memory.h:48</a></div></div>
<div class="ttc" id="astructComprOps_html_abf598bd81ed7c964c32c09a03b40099d"><div class="ttname"><a href="structComprOps.html#abf598bd81ed7c964c32c09a03b40099d">ComprOps::compress</a></div><div class="ttdeci">void *(* compress)(ComprHandle *handle, const char *data, size_t dlen, size_t *clen)</div><div class="ttdef"><b>Definition:</b> <a href="compress_2lib_8h_source.html#l00095">lib.h:95</a></div></div>
<div class="ttc" id="astructRealKey_html"><div class="ttname"><a href="structRealKey.html">RealKey</a></div><div class="ttdoc">Hcache key name (including compression method)</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00066">hcache.c:67</a></div></div>
<div class="ttc" id="astructRealKey_html_a5a1371e4574b9d487326d1c4b5ae0564"><div class="ttname"><a href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">RealKey::key</a></div><div class="ttdeci">char key[1024]</div><div class="ttdoc">Key name.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00068">hcache.c:68</a></div></div>
<div class="ttc" id="astructRealKey_html_a70436ad4e58f5c76ca838e4db0b54e49"><div class="ttname"><a href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">RealKey::keylen</a></div><div class="ttdeci">size_t keylen</div><div class="ttdoc">Length of key.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00069">hcache.c:69</a></div></div>
<div class="ttc" id="astructStoreOps_html_a2e8409df86a1c1b7c588f91e0b593736"><div class="ttname"><a href="structStoreOps.html#a2e8409df86a1c1b7c588f91e0b593736">StoreOps::store</a></div><div class="ttdeci">int(* store)(StoreHandle *store, const char *key, size_t klen, void *value, size_t vlen)</div><div class="ttdef"><b>Definition:</b> <a href="store_2lib_8h_source.html#l00125">lib.h:125</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a9e0172956ca278dc113eefc10baef638_cgraph.svg" width="443" height="138"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a9e0172956ca278dc113eefc10baef638_icgraph.svg" width="392" height="530"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8ef10068ab1140db0955929b282525f6" name="a8ef10068ab1140db0955929b282525f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef10068ab1140db0955929b282525f6">&#9670;&#160;</a></span>hcache_fetch_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structHCacheEntry.html">HCacheEntry</a> hcache_fetch_email </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uidvalidity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch and validate a message's header from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556" title="Open the connection to the header cache.">hcache_open()</a> </td></tr>
    <tr><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
    <tr><td class="paramname">uidvalidity</td><td>Only restore if it matches the stored uidvalidity </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">obj</td><td><a class="el" href="structHCacheEntry.html" title="Wrapper for Email retrieved from the header cache.">HCacheEntry</a> containing an <a class="el" href="structEmail.html" title="The envelope/body of an email.">Email</a>, empty on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function performs a check on the validity of the data found by comparing it with the crc value of the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure.</dd></dl>
<p>Fetch and validate a message's header from the cache. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00562">562</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  564</span>{</div>
<div class="line"><span class="lineno">  565</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHCacheEntry.html">HCacheEntry</a> hce = { 0 };</div>
<div class="line"><span class="lineno">  566</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">return</span> hce;</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordtype">size_t</span> dlen = 0;</div>
<div class="line"><span class="lineno">  570</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordtype">void</span> *data = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a7da2b2e67405eef3626561410faf5e48">fetch</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, &amp;dlen);</div>
<div class="line"><span class="lineno">  572</span>  <span class="keywordtype">void</span> *to_free = data;</div>
<div class="line"><span class="lineno">  573</span>  <span class="keywordflow">if</span> (!data)</div>
<div class="line"><span class="lineno">  574</span>  {</div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">goto</span> end;</div>
<div class="line"><span class="lineno">  576</span>  }</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>  <span class="comment">/* restore uidvalidity and crc */</span></div>
<div class="line"><span class="lineno">  579</span>  <span class="keywordtype">size_t</span> hlen = <a class="code hl_function" href="hcache_2hcache_8c.html#ab0e95e8a30f666418f3f8205cecc0582">header_size</a>();</div>
<div class="line"><span class="lineno">  580</span>  <span class="keywordflow">if</span> (hlen &gt; dlen)</div>
<div class="line"><span class="lineno">  581</span>  {</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">goto</span> end;</div>
<div class="line"><span class="lineno">  583</span>  }</div>
<div class="line"><span class="lineno">  584</span>  <span class="keywordtype">int</span> off = 0;</div>
<div class="line"><span class="lineno">  585</span>  <a class="code hl_function" href="serialize_8c.html#ae980b8c638841c27a002c0839685ed56">serial_restore_uint32_t</a>(&amp;hce.<a class="code hl_variable" href="structHCacheEntry.html#a3fe94462fcd58503d7b0fa880c79ca22">uidvalidity</a>, data, &amp;off);</div>
<div class="line"><span class="lineno">  586</span>  <a class="code hl_function" href="serialize_8c.html#ae337dfc66e217ae0253a77eef4271f02">serial_restore_int</a>(&amp;hce.<a class="code hl_variable" href="structHCacheEntry.html#aba0f4b844f4d901ae42bbee66a35b601">crc</a>, data, &amp;off);</div>
<div class="line"><span class="lineno">  587</span>  <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>((<span class="keywordtype">size_t</span>) off == hlen);</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordflow">if</span> ((hce.<a class="code hl_variable" href="structHCacheEntry.html#aba0f4b844f4d901ae42bbee66a35b601">crc</a> != hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a48bc8a680626d25eb1e2e10438e89271">crc</a>) || ((uidvalidity != 0) &amp;&amp; (uidvalidity != hce.<a class="code hl_variable" href="structHCacheEntry.html#a3fe94462fcd58503d7b0fa880c79ca22">uidvalidity</a>)))</div>
<div class="line"><span class="lineno">  589</span>  {</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">goto</span> end;</div>
<div class="line"><span class="lineno">  591</span>  }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span><span class="preprocessor">#ifdef USE_HCACHE_COMPRESSION</span></div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">if</span> (hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>)</div>
<div class="line"><span class="lineno">  595</span>  {</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordtype">void</span> *dblob = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa5791d506eed6ed34656d6e5eadd6d0e">compr_ops</a>-&gt;<a class="code hl_variable" href="structComprOps.html#aa81c7f0b7164bdc47fafad9d191f0a8e">decompress</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a11a84f4577509d7a782b8f695886a1c0">compr_handle</a>,</div>
<div class="line"><span class="lineno">  597</span>                                            (<span class="keywordtype">char</span> *) data + hlen, dlen - hlen);</div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">if</span> (!dblob)</div>
<div class="line"><span class="lineno">  599</span>    {</div>
<div class="line"><span class="lineno">  600</span>      <span class="keywordflow">goto</span> end;</div>
<div class="line"><span class="lineno">  601</span>    }</div>
<div class="line"><span class="lineno">  602</span>    data = (<span class="keywordtype">char</span> *) dblob - hlen; <span class="comment">/* restore skips uidvalidity and crc */</span></div>
<div class="line"><span class="lineno">  603</span>  }</div>
<div class="line"><span class="lineno">  604</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>  hce.<a class="code hl_variable" href="structHCacheEntry.html#a5348d7756835f94b4173db6afc4849eb">email</a> = <a class="code hl_function" href="hcache_2hcache_8c.html#a27b0e509e8f510ec02059b968ecfe86d">restore_email</a>(data);</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>end:</div>
<div class="line"><span class="lineno">  609</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#a82a990727c9f0e254d510805919890c1">free_raw</a>(hc, &amp;to_free);</div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordflow">return</span> hce;</div>
<div class="line"><span class="lineno">  611</span>}</div>
<div class="ttc" id="ahcache_2hcache_8c_html_a27b0e509e8f510ec02059b968ecfe86d"><div class="ttname"><a href="hcache_2hcache_8c.html#a27b0e509e8f510ec02059b968ecfe86d">restore_email</a></div><div class="ttdeci">static struct Email * restore_email(const unsigned char *d)</div><div class="ttdoc">Restore an Email from data retrieved from the cache.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00267">hcache.c:267</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a82a990727c9f0e254d510805919890c1"><div class="ttname"><a href="hcache_2hcache_8c.html#a82a990727c9f0e254d510805919890c1">free_raw</a></div><div class="ttdeci">static void free_raw(struct HeaderCache *hc, void **data)</div><div class="ttdoc">Multiplexor for StoreOps::free.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2hcache_8c_source.html#l00423">hcache.c:423</a></div></div>
<div class="ttc" id="aserialize_8c_html_ae337dfc66e217ae0253a77eef4271f02"><div class="ttname"><a href="serialize_8c.html#ae337dfc66e217ae0253a77eef4271f02">serial_restore_int</a></div><div class="ttdeci">void serial_restore_int(unsigned int *i, const unsigned char *d, int *off)</div><div class="ttdoc">Unpack an integer from a binary blob.</div><div class="ttdef"><b>Definition:</b> <a href="serialize_8c_source.html#l00114">serialize.c:114</a></div></div>
<div class="ttc" id="aserialize_8c_html_ae980b8c638841c27a002c0839685ed56"><div class="ttname"><a href="serialize_8c.html#ae980b8c638841c27a002c0839685ed56">serial_restore_uint32_t</a></div><div class="ttdeci">void serial_restore_uint32_t(uint32_t *s, const unsigned char *d, int *off)</div><div class="ttdoc">Unpack an uint32_t from a binary blob.</div><div class="ttdef"><b>Definition:</b> <a href="serialize_8c_source.html#l00126">serialize.c:126</a></div></div>
<div class="ttc" id="asignal2_8h_html_a903f9b298be75defd8a3043ebf62bd99"><div class="ttname"><a href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a></div><div class="ttdeci">#define ASSERT(COND)</div><div class="ttdef"><b>Definition:</b> <a href="signal2_8h_source.html#l00060">signal2.h:60</a></div></div>
<div class="ttc" id="astructComprOps_html_aa81c7f0b7164bdc47fafad9d191f0a8e"><div class="ttname"><a href="structComprOps.html#aa81c7f0b7164bdc47fafad9d191f0a8e">ComprOps::decompress</a></div><div class="ttdeci">void *(* decompress)(ComprHandle *handle, const char *cbuf, size_t clen)</div><div class="ttdef"><b>Definition:</b> <a href="compress_2lib_8h_source.html#l00111">lib.h:111</a></div></div>
<div class="ttc" id="astructHCacheEntry_html"><div class="ttname"><a href="structHCacheEntry.html">HCacheEntry</a></div><div class="ttdoc">Wrapper for Email retrieved from the header cache.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00098">lib.h:99</a></div></div>
<div class="ttc" id="astructHCacheEntry_html_a3fe94462fcd58503d7b0fa880c79ca22"><div class="ttname"><a href="structHCacheEntry.html#a3fe94462fcd58503d7b0fa880c79ca22">HCacheEntry::uidvalidity</a></div><div class="ttdeci">uint32_t uidvalidity</div><div class="ttdoc">IMAP-specific UIDVALIDITY.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00100">lib.h:100</a></div></div>
<div class="ttc" id="astructHCacheEntry_html_a5348d7756835f94b4173db6afc4849eb"><div class="ttname"><a href="structHCacheEntry.html#a5348d7756835f94b4173db6afc4849eb">HCacheEntry::email</a></div><div class="ttdeci">struct Email * email</div><div class="ttdoc">Retrieved email.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00102">lib.h:102</a></div></div>
<div class="ttc" id="astructHCacheEntry_html_aba0f4b844f4d901ae42bbee66a35b601"><div class="ttname"><a href="structHCacheEntry.html#aba0f4b844f4d901ae42bbee66a35b601">HCacheEntry::crc</a></div><div class="ttdeci">unsigned int crc</div><div class="ttdoc">CRC of Email/Body/etc structs.</div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00101">lib.h:101</a></div></div>
<div class="ttc" id="astructStoreOps_html_a7da2b2e67405eef3626561410faf5e48"><div class="ttname"><a href="structStoreOps.html#a7da2b2e67405eef3626561410faf5e48">StoreOps::fetch</a></div><div class="ttdeci">void *(* fetch)(StoreHandle *store, const char *key, size_t klen, size_t *vlen)</div><div class="ttdef"><b>Definition:</b> <a href="store_2lib_8h_source.html#l00100">lib.h:100</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a8ef10068ab1140db0955929b282525f6_cgraph.svg" width="519" height="266"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a8ef10068ab1140db0955929b282525f6_icgraph.svg" width="704" height="387"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9f2aea3b2e8ba9dc758a06e0163dee14" name="a9f2aea3b2e8ba9dc758a06e0163dee14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f2aea3b2e8ba9dc758a06e0163dee14">&#9670;&#160;</a></span>hcache_fetch_raw_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * hcache_fetch_raw_str </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch a string from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2hcache_8c.html#a5691b8a075665d48c570eb105a472556" title="Multiplexor for StoreOps::open.">hcache_open()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>Success, the data if found </td></tr>
    <tr><td class="paramname">NULL</td><td>Otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00652">652</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  653</span>{</div>
<div class="line"><span class="lineno">  654</span>  <span class="keywordtype">char</span> *res = NULL;</div>
<div class="line"><span class="lineno">  655</span>  <span class="keywordtype">size_t</span> dlen = 0;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  658</span>  <span class="keywordtype">void</span> *data = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a7da2b2e67405eef3626561410faf5e48">fetch</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, &amp;dlen);</div>
<div class="line"><span class="lineno">  659</span>  <span class="keywordflow">if</span> (data)</div>
<div class="line"><span class="lineno">  660</span>  {</div>
<div class="line"><span class="lineno">  661</span>    res = <a class="code hl_function" href="mutt_2string_8c.html#a116d1d2391bc57f2ba3a9d9cfb15db76">mutt_strn_dup</a>(data, dlen);</div>
<div class="line"><span class="lineno">  662</span>    <a class="code hl_function" href="hcache_2hcache_8c.html#a82a990727c9f0e254d510805919890c1">free_raw</a>(hc, &amp;data);</div>
<div class="line"><span class="lineno">  663</span>  }</div>
<div class="line"><span class="lineno">  664</span>  <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  665</span>}</div>
<div class="ttc" id="amutt_2string_8c_html_a116d1d2391bc57f2ba3a9d9cfb15db76"><div class="ttname"><a href="mutt_2string_8c.html#a116d1d2391bc57f2ba3a9d9cfb15db76">mutt_strn_dup</a></div><div class="ttdeci">char * mutt_strn_dup(const char *begin, size_t len)</div><div class="ttdoc">Duplicate a sub-string.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00381">string.c:381</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a9f2aea3b2e8ba9dc758a06e0163dee14_cgraph.svg" width="327" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a9f2aea3b2e8ba9dc758a06e0163dee14_icgraph.svg" width="367" height="151"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa068289d3f49d30384735351739541f2" name="aa068289d3f49d30384735351739541f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa068289d3f49d30384735351739541f2">&#9670;&#160;</a></span>hcache_fetch_raw_obj_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hcache_fetch_raw_obj_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dstlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch a message's header from the cache into a destination object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2hcache_8c.html#a5691b8a075665d48c570eb105a472556" title="Multiplexor for StoreOps::open.">hcache_open()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>Pointer to the destination object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstlen</td><td>Size of the destination object </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success, the data was found and the length matches </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00623">623</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  625</span>{</div>
<div class="line"><span class="lineno">  626</span>  <span class="keywordtype">bool</span> rc = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  627</span>  <span class="keywordtype">size_t</span> srclen = 0;</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  630</span>  <span class="keywordtype">void</span> *src = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a7da2b2e67405eef3626561410faf5e48">fetch</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, &amp;srclen);</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>  <span class="keywordflow">if</span> (src &amp;&amp; (srclen == dstlen))</div>
<div class="line"><span class="lineno">  633</span>  {</div>
<div class="line"><span class="lineno">  634</span>    memcpy(dst, src, dstlen);</div>
<div class="line"><span class="lineno">  635</span>  }</div>
<div class="line"><span class="lineno">  636</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  637</span>  {</div>
<div class="line"><span class="lineno">  638</span>    rc = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  639</span>  }</div>
<div class="line"><span class="lineno">  640</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#a82a990727c9f0e254d510805919890c1">free_raw</a>(hc, &amp;src);</div>
<div class="line"><span class="lineno">  641</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  642</span>}</div>
</div><!-- fragment --><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_aa068289d3f49d30384735351739541f2_cgraph.svg" width="316" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="acca0b66c75e59b1400da46b646e6bb9c" name="acca0b66c75e59b1400da46b646e6bb9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca0b66c75e59b1400da46b646e6bb9c">&#9670;&#160;</a></span>hcache_store_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hcache_store_raw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a key / data pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2hcache_8c.html#a5691b8a075665d48c570eb105a472556" title="Multiplexor for StoreOps::open.">hcache_open()</a> </td></tr>
    <tr><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
    <tr><td class="paramname">data</td><td>Payload to associate with key </td></tr>
    <tr><td class="paramname">dlen</td><td>Length of the buffer pointed to by the <em>data</em> parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">num</td><td>Generic or backend-specific error code otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00724">724</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  726</span>{</div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  728</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  731</span>  <span class="keywordtype">int</span> rc = hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a2e8409df86a1c1b7c588f91e0b593736">store</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, data, dlen);</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  734</span>}</div>
</div><!-- fragment --><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_acca0b66c75e59b1400da46b646e6bb9c_cgraph.svg" width="256" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_acca0b66c75e59b1400da46b646e6bb9c_icgraph.svg" width="544" height="152"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a66e48b640205127c7a4bb987b8d0192d" name="a66e48b640205127c7a4bb987b8d0192d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e48b640205127c7a4bb987b8d0192d">&#9670;&#160;</a></span>hcache_delete_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hcache_delete_email </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a key / data pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556" title="Open the connection to the header cache.">hcache_open()</a> </td></tr>
    <tr><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">num</td><td>Generic or backend-specific error code otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Delete a key / data pair. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00739">739</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  740</span>{</div>
<div class="line"><span class="lineno">  741</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>  <span class="keywordflow">return</span> hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a3c7aa10fb16fc281a969a123136beff7">delete_record</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>);</div>
<div class="line"><span class="lineno">  747</span>}</div>
<div class="ttc" id="astructStoreOps_html_a3c7aa10fb16fc281a969a123136beff7"><div class="ttname"><a href="structStoreOps.html#a3c7aa10fb16fc281a969a123136beff7">StoreOps::delete_record</a></div><div class="ttdeci">int(* delete_record)(StoreHandle *store, const char *key, size_t klen)</div><div class="ttdef"><b>Definition:</b> <a href="store_2lib_8h_source.html#l00138">lib.h:138</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a66e48b640205127c7a4bb987b8d0192d_cgraph.svg" width="276" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_a66e48b640205127c7a4bb987b8d0192d_icgraph.svg" width="400" height="283"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aaceee97c4d9607a5d2ce3569f2e17a01" name="aaceee97c4d9607a5d2ce3569f2e17a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaceee97c4d9607a5d2ce3569f2e17a01">&#9670;&#160;</a></span>hcache_delete_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hcache_delete_raw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keylen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a key / data pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hc</td><td>Pointer to the struct <a class="el" href="structHeaderCache.html" title="Header Cache.">HeaderCache</a> structure got by <a class="el" href="hcache_2lib_8h.html#a5691b8a075665d48c570eb105a472556" title="Open the connection to the header cache.">hcache_open()</a> </td></tr>
    <tr><td class="paramname">key</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> identification string </td></tr>
    <tr><td class="paramname">keylen</td><td>Length of the string pointed to by key </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">num</td><td>Generic or backend-specific error code otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Delete a key / data pair. </p>

<p class="definition">Definition at line <a class="el" href="hcache_2hcache_8c_source.html#l00752">752</a> of file <a class="el" href="hcache_2hcache_8c_source.html">hcache.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  753</span>{</div>
<div class="line"><span class="lineno">  754</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structRealKey.html">RealKey</a> *rk = <a class="code hl_function" href="hcache_2hcache_8c.html#aaf746a46ab7ef9fa63775fde7dacd885">realkey</a>(hc, <a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, <a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordflow">return</span> hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#a70c1a9921a59f63eb065e43768e9e9b6">store_ops</a>-&gt;<a class="code hl_variable" href="structStoreOps.html#a3c7aa10fb16fc281a969a123136beff7">delete_record</a>(hc-&gt;<a class="code hl_variable" href="structHeaderCache.html#aa3dbee309b4040e10348d089e0cfe9b8">store_handle</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a5a1371e4574b9d487326d1c4b5ae0564">key</a>, rk-&gt;<a class="code hl_variable" href="structRealKey.html#a70436ad4e58f5c76ca838e4db0b54e49">keylen</a>);</div>
<div class="line"><span class="lineno">  760</span>}</div>
</div><!-- fragment --><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_aaceee97c4d9607a5d2ce3569f2e17a01_cgraph.svg" width="264" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="hcache_2lib_8h_aaceee97c4d9607a5d2ce3569f2e17a01_icgraph.svg" width="747" height="116"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
