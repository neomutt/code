<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: nntp/lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-236-g400a5f</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('nntp_2lib_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">lib.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Usenet network mailbox type; talk to an NNTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="core_2lib_8h_source.html">core/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="expando_2lib_8h_source.html">expando/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="expando__browser_8h_source.html">expando_browser.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for lib.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h__incl.svg" width="498" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h__dep__incl.svg" width="2186" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="nntp_2lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNntpAcache.html">NntpAcache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP article cache.  <a href="structNntpAcache.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNewsrcEntry.html">NewsrcEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in a .newsrc (subscribed newsgroups)  <a href="structNewsrcEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afbe93ce95fbbf1758c93d4b123fc2246" id="r_afbe93ce95fbbf1758c93d4b123fc2246"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a>&#160;&#160;&#160;long</td></tr>
<tr class="separator:afbe93ce95fbbf1758c93d4b123fc2246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3ef937cceedd7b24520f69c5191d68" id="r_a9d3ef937cceedd7b24520f69c5191d68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>&#160;&#160;&#160;&quot;%ld&quot;</td></tr>
<tr class="separator:a9d3ef937cceedd7b24520f69c5191d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efe6072fe3f0f219d90675e1aa55f40" id="r_a1efe6072fe3f0f219d90675e1aa55f40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a1efe6072fe3f0f219d90675e1aa55f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae9ee1cc132aa482531fdc2463200e492" id="r_ae9ee1cc132aa482531fdc2463200e492"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9ee1cc132aa482531fdc2463200e492">nntp_select_server</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *server, bool leave_lock)</td></tr>
<tr class="memdesc:ae9ee1cc132aa482531fdc2463200e492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a connection to an NNTP server.  <br /></td></tr>
<tr class="separator:ae9ee1cc132aa482531fdc2463200e492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8116259f1259f7d6a96240cff0e9fa9e" id="r_a8116259f1259f7d6a96240cff0e9fa9e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8116259f1259f7d6a96240cff0e9fa9e">mutt_newsgroup_subscribe</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:a8116259f1259f7d6a96240cff0e9fa9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe newsgroup.  <br /></td></tr>
<tr class="separator:a8116259f1259f7d6a96240cff0e9fa9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a9bc2676ed73179b698122081f3abe" id="r_af7a9bc2676ed73179b698122081f3abe"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a9bc2676ed73179b698122081f3abe">mutt_newsgroup_unsubscribe</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:af7a9bc2676ed73179b698122081f3abe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe newsgroup.  <br /></td></tr>
<tr class="separator:af7a9bc2676ed73179b698122081f3abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6706491e2d469cd6d2b48fc816e28517" id="r_a6706491e2d469cd6d2b48fc816e28517"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6706491e2d469cd6d2b48fc816e28517">mutt_newsgroup_catchup</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:a6706491e2d469cd6d2b48fc816e28517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Catchup newsgroup.  <br /></td></tr>
<tr class="separator:a6706491e2d469cd6d2b48fc816e28517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27ee89ff347b03db409f087a69e20e3" id="r_aa27ee89ff347b03db409f087a69e20e3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa27ee89ff347b03db409f087a69e20e3">mutt_newsgroup_uncatchup</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:aa27ee89ff347b03db409f087a69e20e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uncatchup newsgroup.  <br /></td></tr>
<tr class="separator:aa27ee89ff347b03db409f087a69e20e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1782c5df61421b1951f9672b5d78d952" id="r_a1782c5df61421b1951f9672b5d78d952"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, bool mark_new)</td></tr>
<tr class="memdesc:a1782c5df61421b1951f9672b5d78d952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch list of all newsgroups from server.  <br /></td></tr>
<tr class="separator:a1782c5df61421b1951f9672b5d78d952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae05e2f17614ff64c3429ac40ec5119" id="r_a6ae05e2f17614ff64c3429ac40ec5119"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a6ae05e2f17614ff64c3429ac40ec5119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update .newsrc file.  <br /></td></tr>
<tr class="separator:a6ae05e2f17614ff64c3429ac40ec5119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cec5b84b23b34587cae72db07ad2d04" id="r_a4cec5b84b23b34587cae72db07ad2d04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cec5b84b23b34587cae72db07ad2d04">nntp_post</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msg)</td></tr>
<tr class="memdesc:a4cec5b84b23b34587cae72db07ad2d04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post article.  <br /></td></tr>
<tr class="separator:a4cec5b84b23b34587cae72db07ad2d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e31da3560e7296a47d444775b42b8f3" id="r_a0e31da3560e7296a47d444775b42b8f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e31da3560e7296a47d444775b42b8f3">nntp_check_msgid</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msgid)</td></tr>
<tr class="memdesc:a0e31da3560e7296a47d444775b42b8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch article by Message-ID.  <br /></td></tr>
<tr class="separator:a0e31da3560e7296a47d444775b42b8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17459a2b096832129b7878bfea7300c9" id="r_a17459a2b096832129b7878bfea7300c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17459a2b096832129b7878bfea7300c9">nntp_check_children</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msgid)</td></tr>
<tr class="memdesc:a17459a2b096832129b7878bfea7300c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch children of article with the Message-ID.  <br /></td></tr>
<tr class="separator:a17459a2b096832129b7878bfea7300c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57bd184c51b8701e9613761a629ca485" id="r_a57bd184c51b8701e9613761a629ca485"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a57bd184c51b8701e9613761a629ca485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse .newsrc file.  <br /></td></tr>
<tr class="separator:a57bd184c51b8701e9613761a629ca485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fdec9977db62a95daa5af59d280673" id="r_a64fdec9977db62a95daa5af59d280673"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a64fdec9977db62a95daa5af59d280673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock and close .newsrc file.  <br /></td></tr>
<tr class="separator:a64fdec9977db62a95daa5af59d280673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6b4cf3e2a57697ddf28fb7b616cb46" id="r_a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d6b4cf3e2a57697ddf28fb7b616cb46">nntp_mailbox</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, char *buf, size_t buflen)</td></tr>
<tr class="memdesc:a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get first newsgroup with new messages.  <br /></td></tr>
<tr class="separator:a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad55ac6624a236283f0521ebdee460eb" id="r_aad55ac6624a236283f0521ebdee460eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad55ac6624a236283f0521ebdee460eb">nntp_expand_path</a> (char *buf, size_t buflen, struct <a class="el" href="structConnAccount.html">ConnAccount</a> *acct)</td></tr>
<tr class="memdesc:aad55ac6624a236283f0521ebdee460eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make fully qualified url from newsgroup name.  <br /></td></tr>
<tr class="separator:aad55ac6624a236283f0521ebdee460eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e57436b35d68983c6fe44815f3ad505" id="r_a0e57436b35d68983c6fe44815f3ad505"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a0e57436b35d68983c6fe44815f3ad505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the NNTP cache.  <br /></td></tr>
<tr class="separator:a0e57436b35d68983c6fe44815f3ad505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17502e8a1d89586a90f1be161546bd09" id="r_ga17502e8a1d89586a90f1be161546bd09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sort__email__api.html#ga17502e8a1d89586a90f1be161546bd09">nntp_sort_unsorted</a> (const struct <a class="el" href="structEmail.html">Email</a> *a, const struct <a class="el" href="structEmail.html">Email</a> *b, bool reverse)</td></tr>
<tr class="memdesc:ga17502e8a1d89586a90f1be161546bd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the 'unsorted' order of emails - Implements <a class="el" href="email_2sort_8h.html#a27b6c4b06cd7f0e4bb4ec39cddfdbb94">sort_email_t</a> -.  <br /></td></tr>
<tr class="separator:ga17502e8a1d89586a90f1be161546bd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0af5851670960cce257a6e5f9f9805ff" id="r_ga0af5851670960cce257a6e5f9f9805ff"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921d">MailboxType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__path__probe.html#ga0af5851670960cce257a6e5f9f9805ff">nntp_path_probe</a> (const char *path, const struct stat *st)</td></tr>
<tr class="memdesc:ga0af5851670960cce257a6e5f9f9805ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this an NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>?  <br /></td></tr>
<tr class="separator:ga0af5851670960cce257a6e5f9f9805ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308b3b2673b7f280d9dc16b42da7d1b6" id="r_a308b3b2673b7f280d9dc16b42da7d1b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a308b3b2673b7f280d9dc16b42da7d1b6">nntp_complete</a> (struct <a class="el" href="structBuffer.html">Buffer</a> *buf)</td></tr>
<tr class="memdesc:a308b3b2673b7f280d9dc16b42da7d1b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto-complete NNTP newsgroups.  <br /></td></tr>
<tr class="separator:a308b3b2673b7f280d9dc16b42da7d1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae58e3a5dcd99b6bbd0354b133fc220ce" id="r_ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></td></tr>
<tr class="memdesc:ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current NNTP news server.  <br /></td></tr>
<tr class="separator:ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24562d83c3ae18d95f817c611452ac87" id="r_ga24562d83c3ae18d95f817c611452ac87"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structMxOps.html">MxOps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__api.html#ga24562d83c3ae18d95f817c611452ac87">MxNntpOps</a></td></tr>
<tr class="memdesc:ga24562d83c3ae18d95f817c611452ac87"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html">MxOps</a> -.  <br /></td></tr>
<tr class="separator:ga24562d83c3ae18d95f817c611452ac87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb81cc70350b6de0506358f4c657778" id="r_aceb81cc70350b6de0506358f4c657778"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structExpandoRenderCallback.html">ExpandoRenderCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aceb81cc70350b6de0506358f4c657778">NntpRenderCallbacks</a> []</td></tr>
<tr class="memdesc:aceb81cc70350b6de0506358f4c657778"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks for Newsrc Expandos.  <br /></td></tr>
<tr class="separator:aceb81cc70350b6de0506358f4c657778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Usenet network mailbox type; talk to an NNTP server. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
<li>Tóth János</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afbe93ce95fbbf1758c93d4b123fc2246" name="afbe93ce95fbbf1758c93d4b123fc2246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe93ce95fbbf1758c93d4b123fc2246">&#9670;&#160;</a></span>anum_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define anum_t&#160;&#160;&#160;long</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00063">63</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<a id="a9d3ef937cceedd7b24520f69c5191d68" name="a9d3ef937cceedd7b24520f69c5191d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3ef937cceedd7b24520f69c5191d68">&#9670;&#160;</a></span>ANUM_FMT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANUM_FMT&#160;&#160;&#160;&quot;%ld&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00064">64</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<a id="a1efe6072fe3f0f219d90675e1aa55f40" name="a1efe6072fe3f0f219d90675e1aa55f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1efe6072fe3f0f219d90675e1aa55f40">&#9670;&#160;</a></span>NNTP_ACACHE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_ACACHE_LEN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00085">85</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae9ee1cc132aa482531fdc2463200e492" name="ae9ee1cc132aa482531fdc2463200e492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ee1cc132aa482531fdc2463200e492">&#9670;&#160;</a></span>nntp_select_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> * nntp_select_server </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>server</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>leave_lock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a connection to an NNTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">server</td><td>Server URL </td></tr>
    <tr><td class="paramname">leave_lock</td><td>Leave the server locked? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP server </td></tr>
    <tr><td class="paramname">NULL</td><td>Error</td></tr>
  </table>
  </dd>
</dl>
<p>Automatically loads a newsrc into memory, if necessary. Checks the size/mtime of a newsrc file, if it doesn't match, load again. Hmm, if a system has broken mtimes, this might mean the file is reloaded every time, which we'd have to fix.</p>
<dl class="section see"><dt>See also</dt><dd>$newsrc </dd></dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00944">944</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  945</span>{</div>
<div class="line"><span class="lineno">  946</span>  <span class="keywordtype">char</span> file[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  947</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno">  948</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structConnAccount.html">ConnAccount</a> cac = { { 0 } };</div>
<div class="line"><span class="lineno">  949</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = NULL;</div>
<div class="line"><span class="lineno">  950</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structConnection.html">Connection</a> *conn = NULL;</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>  <span class="keywordflow">if</span> (!server || (*server == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno">  953</span>  {</div>
<div class="line"><span class="lineno">  954</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;No news server defined&quot;</span>));</div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  956</span>  }</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>  <span class="comment">/* create account from news server url */</span></div>
<div class="line"><span class="lineno">  959</span>  cac.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> = 0;</div>
<div class="line"><span class="lineno">  960</span>  cac.<a class="code hl_variable" href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">port</a> = <a class="code hl_define" href="nntp_2private_8h.html#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a>;</div>
<div class="line"><span class="lineno">  961</span>  cac.<a class="code hl_variable" href="structConnAccount.html#aefc6c0b647de43e60472000102a0e208">type</a> = <a class="code hl_enumvalue" href="mutt__account_8h.html#a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3">MUTT_ACCT_TYPE_NNTP</a>;</div>
<div class="line"><span class="lineno">  962</span>  cac.<a class="code hl_variable" href="structConnAccount.html#a86102cb75ff512603a5559d4908b1ba4">service</a> = <span class="stringliteral">&quot;nntp&quot;</span>;</div>
<div class="line"><span class="lineno">  963</span>  cac.<a class="code hl_variable" href="structConnAccount.html#ae69871442c1135a06b359011104f630b">get_field</a> = <a class="code hl_function" href="group__conn__account__get__field.html#ga81411f29dda39c2e2276e7dc6985ea77">nntp_get_field</a>;</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>  snprintf(file, <span class="keyword">sizeof</span>(file), <span class="stringliteral">&quot;%s%s&quot;</span>, strstr(server, <span class="stringliteral">&quot;://&quot;</span>) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;news://&quot;</span>, server);</div>
<div class="line"><span class="lineno">  966</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> *url = <a class="code hl_function" href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a>(file);</div>
<div class="line"><span class="lineno">  967</span>  <span class="keywordflow">if</span> (!url || (url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> &amp;&amp; *url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>) ||</div>
<div class="line"><span class="lineno">  968</span>      !((url-&gt;<a class="code hl_variable" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code hl_enumvalue" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a>) || (url-&gt;<a class="code hl_variable" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code hl_enumvalue" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)) || !url-&gt;<a class="code hl_variable" href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">host</a> ||</div>
<div class="line"><span class="lineno">  969</span>      (<a class="code hl_function" href="mutt__account_8c.html#abc47c557e0f361296ee93c89024f5c35">account_from_url</a>(&amp;cac, url) &lt; 0))</div>
<div class="line"><span class="lineno">  970</span>  {</div>
<div class="line"><span class="lineno">  971</span>    <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno">  972</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid news server specification&quot;</span>), server);</div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  974</span>  }</div>
<div class="line"><span class="lineno">  975</span>  <span class="keywordflow">if</span> (url-&gt;<a class="code hl_variable" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code hl_enumvalue" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)</div>
<div class="line"><span class="lineno">  976</span>  {</div>
<div class="line"><span class="lineno">  977</span>    cac.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code hl_define" href="connaccount_8h.html#a4a13697bc3f261ea3949d4dbe3869863">MUTT_ACCT_SSL</a>;</div>
<div class="line"><span class="lineno">  978</span>    cac.<a class="code hl_variable" href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">port</a> = <a class="code hl_define" href="nntp_2private_8h.html#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a>;</div>
<div class="line"><span class="lineno">  979</span>  }</div>
<div class="line"><span class="lineno">  980</span>  <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>  <span class="comment">// If nntp_user and nntp_pass are specified in the config, use them to find the connection</span></div>
<div class="line"><span class="lineno">  983</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structUrl.html#a18db9f379a95b00dc4f4ae7e4ac8698b">user</a> = NULL;</div>
<div class="line"><span class="lineno">  984</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structUrl.html#ac65d0bd34ac810ddf4a9a1a348151e67">pass</a> = NULL;</div>
<div class="line"><span class="lineno">  985</span>  <span class="keywordflow">if</span> ((<a class="code hl_variable" href="structUrl.html#a18db9f379a95b00dc4f4ae7e4ac8698b">user</a> = cac.<a class="code hl_variable" href="structConnAccount.html#ae69871442c1135a06b359011104f630b">get_field</a>(<a class="code hl_enumvalue" href="connaccount_8h.html#a25419e97b0149cb541a4f3906ce852fba88e08ced0262113ed414eb31dac201f1">MUTT_CA_USER</a>, NULL)))</div>
<div class="line"><span class="lineno">  986</span>  {</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(cac.<a class="code hl_variable" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>, <a class="code hl_variable" href="structUrl.html#a18db9f379a95b00dc4f4ae7e4ac8698b">user</a>, <span class="keyword">sizeof</span>(cac.<a class="code hl_variable" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>));</div>
<div class="line"><span class="lineno">  988</span>    cac.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code hl_define" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>;</div>
<div class="line"><span class="lineno">  989</span>  }</div>
<div class="line"><span class="lineno">  990</span>  <span class="keywordflow">if</span> ((<a class="code hl_variable" href="structUrl.html#ac65d0bd34ac810ddf4a9a1a348151e67">pass</a> = cac.<a class="code hl_variable" href="structConnAccount.html#ae69871442c1135a06b359011104f630b">get_field</a>(<a class="code hl_enumvalue" href="connaccount_8h.html#a25419e97b0149cb541a4f3906ce852fbae477f9be6711da6e0abb96409c566798">MUTT_CA_PASS</a>, NULL)))</div>
<div class="line"><span class="lineno">  991</span>  {</div>
<div class="line"><span class="lineno">  992</span>    <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(cac.<a class="code hl_variable" href="structConnAccount.html#a842f1bf5afe0830ae96d80bdacead037">pass</a>, <a class="code hl_variable" href="structUrl.html#ac65d0bd34ac810ddf4a9a1a348151e67">pass</a>, <span class="keyword">sizeof</span>(cac.<a class="code hl_variable" href="structConnAccount.html#a842f1bf5afe0830ae96d80bdacead037">pass</a>));</div>
<div class="line"><span class="lineno">  993</span>    cac.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code hl_define" href="connaccount_8h.html#a9c5c05c3447f2884a5bbf1ab219e3f37">MUTT_ACCT_PASS</a>;</div>
<div class="line"><span class="lineno">  994</span>  }</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>  <span class="comment">/* find connection by account */</span></div>
<div class="line"><span class="lineno">  997</span>  conn = <a class="code hl_function" href="mutt__socket_8c.html#ab79e92d0c88e3061f590cb1874b8b59d">mutt_conn_find</a>(&amp;cac);</div>
<div class="line"><span class="lineno">  998</span>  <span class="keywordflow">if</span> (!conn)</div>
<div class="line"><span class="lineno">  999</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1000</span>  <span class="keywordflow">if</span> (!(conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code hl_define" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>) &amp;&amp; cac.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code hl_define" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>)</div>
<div class="line"><span class="lineno"> 1001</span>  {</div>
<div class="line"><span class="lineno"> 1002</span>    conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code hl_define" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>;</div>
<div class="line"><span class="lineno"> 1003</span>    conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1004</span>  }</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>  <span class="comment">/* new news server */</span></div>
<div class="line"><span class="lineno"> 1007</span>  adata = <a class="code hl_function" href="nntp_2adata_8c.html#ad68d7c631f8efc0cf6d986ee23820399">nntp_adata_new</a>(conn);</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>  rc = <a class="code hl_function" href="nntp_8c.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a>(adata);</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span>  <span class="comment">/* try to create cache directory and enable caching */</span></div>
<div class="line"><span class="lineno"> 1012</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1013</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_cache_dir = <a class="code hl_function" href="config_2helpers_8c.html#a9f184e61342916799259930333f4205f">cs_subset_path</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_cache_dir&quot;</span>);</div>
<div class="line"><span class="lineno"> 1014</span>  <span class="keywordflow">if</span> ((rc &gt;= 0) &amp;&amp; c_news_cache_dir)</div>
<div class="line"><span class="lineno"> 1015</span>  {</div>
<div class="line"><span class="lineno"> 1016</span>    <a class="code hl_function" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file, <span class="keyword">sizeof</span>(file), &amp;conn-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, NULL);</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="file_8c.html#a42b89c4ae9ca386c22de502b37cdf45e">mutt_file_mkdir</a>(file, S_IRWXU) &lt; 0)</div>
<div class="line"><span class="lineno"> 1018</span>    {</div>
<div class="line"><span class="lineno"> 1019</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t create %s: %s&quot;</span>), file, strerror(errno));</div>
<div class="line"><span class="lineno"> 1020</span>    }</div>
<div class="line"><span class="lineno"> 1021</span>    adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1022</span>  }</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>  <span class="comment">/* load .newsrc */</span></div>
<div class="line"><span class="lineno"> 1025</span>  <span class="keywordflow">if</span> (rc &gt;= 0)</div>
<div class="line"><span class="lineno"> 1026</span>  {</div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structExpando.html">Expando</a> *c_newsrc = <a class="code hl_function" href="config_2helpers_8h.html#afadba3dd7a0ec53c70d047005b2efcef">cs_subset_expando</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;newsrc&quot;</span>);</div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *buf = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1029</span>    <a class="code hl_function" href="expando_2filter_8c.html#aca5d8e52ad7cb152322d011300631bc1">expando_filter</a>(c_newsrc, <a class="code hl_variable" href="expando__newsrc_8c.html#aceb81cc70350b6de0506358f4c657778">NntpRenderCallbacks</a>, adata, <a class="code hl_define" href="render_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a>,</div>
<div class="line"><span class="lineno"> 1030</span>                   buf-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>, buf);</div>
<div class="line"><span class="lineno"> 1031</span>    <a class="code hl_function" href="muttlib_8c.html#ab8f797f0a3b645c549e1503369a9832b">expand_path</a>(buf, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1032</span>    adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(buf);</div>
<div class="line"><span class="lineno"> 1033</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;buf);</div>
<div class="line"><span class="lineno"> 1034</span>    rc = <a class="code hl_function" href="newsrc_8c.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a>(adata);</div>
<div class="line"><span class="lineno"> 1035</span>  }</div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordflow">if</span> (rc &gt;= 0)</div>
<div class="line"><span class="lineno"> 1037</span>  {</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="comment">/* try to load list of newsgroups from cache */</span></div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> &amp;&amp; (<a class="code hl_function" href="newsrc_8c.html#a8a0f0a9d60138637dde00cb0732c6b9e">active_get_cache</a>(adata) == 0))</div>
<div class="line"><span class="lineno"> 1040</span>    {</div>
<div class="line"><span class="lineno"> 1041</span>      rc = <a class="code hl_function" href="nntp_8c.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a>(m, adata);</div>
<div class="line"><span class="lineno"> 1042</span>    }</div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1044</span>    {</div>
<div class="line"><span class="lineno"> 1045</span>      <span class="comment">/* load list of newsgroups from server */</span></div>
<div class="line"><span class="lineno"> 1046</span>      rc = <a class="code hl_function" href="#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a>(adata, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1047</span>    }</div>
<div class="line"><span class="lineno"> 1048</span>  }</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>  <span class="keywordflow">if</span> (rc &gt;= 0)</div>
<div class="line"><span class="lineno"> 1051</span>    <a class="code hl_function" href="newsrc_8c.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a>(adata);</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno"> 1054</span>  <span class="comment">/* check cache files */</span></div>
<div class="line"><span class="lineno"> 1055</span>  <span class="keywordflow">if</span> ((rc &gt;= 0) &amp;&amp; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div>
<div class="line"><span class="lineno"> 1056</span>  {</div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keyword">struct </span>dirent *de = NULL;</div>
<div class="line"><span class="lineno"> 1058</span>    DIR *dir = <a class="code hl_function" href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a>(file, <a class="code hl_enumvalue" href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a>);</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">if</span> (dir)</div>
<div class="line"><span class="lineno"> 1061</span>    {</div>
<div class="line"><span class="lineno"> 1062</span>      <span class="keywordflow">while</span> ((de = readdir(dir)))</div>
<div class="line"><span class="lineno"> 1063</span>      {</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structHeaderCache.html">HeaderCache</a> *hc = NULL;</div>
<div class="line"><span class="lineno"> 1065</span>        <span class="keywordtype">char</span> *group = de-&gt;d_name;</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>        <span class="keywordtype">char</span> *p = group + strlen(group) - 7;</div>
<div class="line"><span class="lineno"> 1068</span>        <span class="keywordflow">if</span> ((strlen(group) &lt; 8) || !<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(p, <span class="stringliteral">&quot;.hcache&quot;</span>))</div>
<div class="line"><span class="lineno"> 1069</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1070</span>        *p = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1072</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1073</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>        hc = <a class="code hl_function" href="newsrc_8c.html#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno"> 1076</span>        <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno"> 1077</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>        <span class="comment">/* fetch previous values of first and last */</span></div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keywordtype">char</span> *hdata = <a class="code hl_function" href="hcache_2hcache_8c.html#a9f2aea3b2e8ba9dc758a06e0163dee14">hcache_fetch_raw_str</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5);</div>
<div class="line"><span class="lineno"> 1081</span>        <span class="keywordflow">if</span> (hdata)</div>
<div class="line"><span class="lineno"> 1082</span>        {</div>
<div class="line"><span class="lineno"> 1083</span>          <a class="code hl_define" href="#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = 0, last = 0;</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>          <span class="keywordflow">if</span> (sscanf(hdata, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;first, &amp;last) == 2)</div>
<div class="line"><span class="lineno"> 1086</span>          {</div>
<div class="line"><span class="lineno"> 1087</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted)</div>
<div class="line"><span class="lineno"> 1088</span>            {</div>
<div class="line"><span class="lineno"> 1089</span>              <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message = first;</div>
<div class="line"><span class="lineno"> 1090</span>              <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message = last;</div>
<div class="line"><span class="lineno"> 1091</span>            }</div>
<div class="line"><span class="lineno"> 1092</span>            <span class="keywordflow">if</span> ((last &gt;= <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message) &amp;&amp; (last &lt;= mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>))</div>
<div class="line"><span class="lineno"> 1093</span>            {</div>
<div class="line"><span class="lineno"> 1094</span>              <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_cached = last;</div>
<div class="line"><span class="lineno"> 1095</span>              <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s last_cached=&quot;</span> <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot;\n&quot;</span>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, last);</div>
<div class="line"><span class="lineno"> 1096</span>            }</div>
<div class="line"><span class="lineno"> 1097</span>          }</div>
<div class="line"><span class="lineno"> 1098</span>          <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hdata);</div>
<div class="line"><span class="lineno"> 1099</span>        }</div>
<div class="line"><span class="lineno"> 1100</span>        <a class="code hl_function" href="hcache_2hcache_8c.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a>(&amp;hc);</div>
<div class="line"><span class="lineno"> 1101</span>      }</div>
<div class="line"><span class="lineno"> 1102</span>      closedir(dir);</div>
<div class="line"><span class="lineno"> 1103</span>    }</div>
<div class="line"><span class="lineno"> 1104</span>  }</div>
<div class="line"><span class="lineno"> 1105</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>  <span class="keywordflow">if</span> ((rc &lt; 0) || !leave_lock)</div>
<div class="line"><span class="lineno"> 1108</span>    <a class="code hl_function" href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>  <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 1111</span>  {</div>
<div class="line"><span class="lineno"> 1112</span>    <a class="code hl_function" href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>);</div>
<div class="line"><span class="lineno"> 1113</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>);</div>
<div class="line"><span class="lineno"> 1114</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno"> 1115</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a31956518f4a223c885421a1315b79330">authenticators</a>);</div>
<div class="line"><span class="lineno"> 1116</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 1117</span>    <a class="code hl_function" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div>
<div class="line"><span class="lineno"> 1118</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;conn);</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1120</span>  }</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div>
<div class="line"><span class="lineno"> 1123</span>}</div>
<div class="ttc" id="abuffer_8c_html_ad76477cc0c660bc50162393e997233eb"><div class="ttname"><a href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a></div><div class="ttdeci">char * buf_strdup(const struct Buffer *buf)</div><div class="ttdoc">Copy a Buffer&#39;s string.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00571">buffer.c:571</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a9f184e61342916799259930333f4205f"><div class="ttname"><a href="config_2helpers_8c.html#a9f184e61342916799259930333f4205f">cs_subset_path</a></div><div class="ttdeci">const char * cs_subset_path(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a path config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00168">helpers.c:168</a></div></div>
<div class="ttc" id="aconfig_2helpers_8h_html_afadba3dd7a0ec53c70d047005b2efcef"><div class="ttname"><a href="config_2helpers_8h.html#afadba3dd7a0ec53c70d047005b2efcef">cs_subset_expando</a></div><div class="ttdeci">const struct Expando * cs_subset_expando(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get an Expando config item by name.</div><div class="ttdef"><b>Definition</b> <a href="expando_2config__type_8c_source.html#l00360">config_type.c:360</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a25419e97b0149cb541a4f3906ce852fba88e08ced0262113ed414eb31dac201f1"><div class="ttname"><a href="connaccount_8h.html#a25419e97b0149cb541a4f3906ce852fba88e08ced0262113ed414eb31dac201f1">MUTT_CA_USER</a></div><div class="ttdeci">@ MUTT_CA_USER</div><div class="ttdoc">User name.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00036">connaccount.h:36</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a25419e97b0149cb541a4f3906ce852fbae477f9be6711da6e0abb96409c566798"><div class="ttname"><a href="connaccount_8h.html#a25419e97b0149cb541a4f3906ce852fbae477f9be6711da6e0abb96409c566798">MUTT_CA_PASS</a></div><div class="ttdeci">@ MUTT_CA_PASS</div><div class="ttdoc">Password.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00037">connaccount.h:37</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a4a13697bc3f261ea3949d4dbe3869863"><div class="ttname"><a href="connaccount_8h.html#a4a13697bc3f261ea3949d4dbe3869863">MUTT_ACCT_SSL</a></div><div class="ttdeci">#define MUTT_ACCT_SSL</div><div class="ttdoc">Account uses SSL/TLS.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00047">connaccount.h:47</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a9c5c05c3447f2884a5bbf1ab219e3f37"><div class="ttname"><a href="connaccount_8h.html#a9c5c05c3447f2884a5bbf1ab219e3f37">MUTT_ACCT_PASS</a></div><div class="ttdeci">#define MUTT_ACCT_PASS</div><div class="ttdoc">Password field has been set.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00046">connaccount.h:46</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_ab496cae7636af7b356aad973a4a2e675"><div class="ttname"><a href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a></div><div class="ttdeci">#define MUTT_ACCT_USER</div><div class="ttdoc">User field has been set.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00044">connaccount.h:44</a></div></div>
<div class="ttc" id="aexpando_2filter_8c_html_aca5d8e52ad7cb152322d011300631bc1"><div class="ttname"><a href="expando_2filter_8c.html#aca5d8e52ad7cb152322d011300631bc1">expando_filter</a></div><div class="ttdeci">int expando_filter(const struct Expando *exp, const struct ExpandoRenderCallback *erc, void *data, MuttFormatFlags flags, int max_cols, char **env_list, struct Buffer *buf)</div><div class="ttdoc">Render an Expando and run the result through a filter.</div><div class="ttdef"><b>Definition</b> <a href="expando_2filter_8c_source.html#l00138">filter.c:138</a></div></div>
<div class="ttc" id="aexpando__newsrc_8c_html_aceb81cc70350b6de0506358f4c657778"><div class="ttname"><a href="expando__newsrc_8c.html#aceb81cc70350b6de0506358f4c657778">NntpRenderCallbacks</a></div><div class="ttdeci">const struct ExpandoRenderCallback NntpRenderCallbacks[]</div><div class="ttdoc">Callbacks for Newsrc Expandos.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00161">expando_newsrc.c:161</a></div></div>
<div class="ttc" id="afile_8c_html_a42b89c4ae9ca386c22de502b37cdf45e"><div class="ttname"><a href="file_8c.html#a42b89c4ae9ca386c22de502b37cdf45e">mutt_file_mkdir</a></div><div class="ttdeci">int mutt_file_mkdir(const char *path, mode_t mode)</div><div class="ttdoc">Recursively create directories.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00848">file.c:848</a></div></div>
<div class="ttc" id="afile_8c_html_a69da918c66c3f22815d6e4aed88b6122"><div class="ttname"><a href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a></div><div class="ttdeci">DIR * mutt_file_opendir(const char *path, enum MuttOpenDirMode mode)</div><div class="ttdoc">Open a directory.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00539">file.c:539</a></div></div>
<div class="ttc" id="afile_8h_html_a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60"><div class="ttname"><a href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a></div><div class="ttdeci">@ MUTT_OPENDIR_NONE</div><div class="ttdoc">Plain opendir()</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00063">file.h:63</a></div></div>
<div class="ttc" id="agroup__conn__account__get__field_html_ga81411f29dda39c2e2276e7dc6985ea77"><div class="ttname"><a href="group__conn__account__get__field.html#ga81411f29dda39c2e2276e7dc6985ea77">nntp_get_field</a></div><div class="ttdeci">static const char * nntp_get_field(enum ConnAccountField field, void *gf_data)</div><div class="ttdoc">Get connection login credentials - Implements ConnAccount::get_field() -.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00913">newsrc.c:913</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00091">logging2.h:91</a></div></div>
<div class="ttc" id="ahash_8c_html_a21cfc2c56db496fc57d3d85a71c03215"><div class="ttname"><a href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00364">hash.c:364</a></div></div>
<div class="ttc" id="ahash_8c_html_afa22b7f78bbf1b59a4a2bd4bdd20948b"><div class="ttname"><a href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a></div><div class="ttdeci">void mutt_hash_free(struct HashTable **ptr)</div><div class="ttdoc">Free a hash table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00459">hash.c:459</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a791c8437997aca5d8747271ff4c75e98"><div class="ttname"><a href="hcache_2hcache_8c.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a></div><div class="ttdeci">void hcache_close(struct HeaderCache **ptr)</div><div class="ttdoc">Multiplexor for StoreOps::close.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00544">hcache.c:544</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a9f2aea3b2e8ba9dc758a06e0163dee14"><div class="ttname"><a href="hcache_2hcache_8c.html#a9f2aea3b2e8ba9dc758a06e0163dee14">hcache_fetch_raw_str</a></div><div class="ttdeci">char * hcache_fetch_raw_str(struct HeaderCache *hc, const char *key, size_t keylen)</div><div class="ttdoc">Fetch a string from the cache.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00654">hcache.c:654</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdeci">@ LL_DEBUG2</div><div class="ttdoc">Log at debug level 2.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00046">logging2.h:46</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdoc">Free memory and set the pointer to NULL.</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00068">memory.h:68</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00662">string.c:662</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00583">string.c:583</a></div></div>
<div class="ttc" id="amutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00048">mutt.h:48</a></div></div>
<div class="ttc" id="amutt__account_8c_html_abc47c557e0f361296ee93c89024f5c35"><div class="ttname"><a href="mutt__account_8c.html#abc47c557e0f361296ee93c89024f5c35">account_from_url</a></div><div class="ttdeci">int account_from_url(struct ConnAccount *cac, const struct Url *url)</div><div class="ttdoc">Fill ConnAccount with information from url.</div><div class="ttdef"><b>Definition</b> <a href="mutt__account_8c_source.html#l00044">mutt_account.c:44</a></div></div>
<div class="ttc" id="amutt__account_8h_html_a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3"><div class="ttname"><a href="mutt__account_8h.html#a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3">MUTT_ACCT_TYPE_NNTP</a></div><div class="ttdeci">@ MUTT_ACCT_TYPE_NNTP</div><div class="ttdoc">Nntp (Usenet) Account.</div><div class="ttdef"><b>Definition</b> <a href="mutt__account_8h_source.html#l00039">mutt_account.h:39</a></div></div>
<div class="ttc" id="amutt__socket_8c_html_ab79e92d0c88e3061f590cb1874b8b59d"><div class="ttname"><a href="mutt__socket_8c.html#ab79e92d0c88e3061f590cb1874b8b59d">mutt_conn_find</a></div><div class="ttdeci">struct Connection * mutt_conn_find(const struct ConnAccount *cac)</div><div class="ttdoc">Find a connection from a list.</div><div class="ttdef"><b>Definition</b> <a href="mutt__socket_8c_source.html#l00088">mutt_socket.c:88</a></div></div>
<div class="ttc" id="amuttlib_8c_html_ab8f797f0a3b645c549e1503369a9832b"><div class="ttname"><a href="muttlib_8c.html#ab8f797f0a3b645c549e1503369a9832b">expand_path</a></div><div class="ttdeci">void expand_path(struct Buffer *buf, bool regex)</div><div class="ttdoc">Create the canonical path.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l00121">muttlib.c:121</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a00132ef57a28e8ec428b6fa298ea63d4"><div class="ttname"><a href="newsrc_8c.html#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a></div><div class="ttdeci">struct HeaderCache * nntp_hcache_open(struct NntpMboxData *mdata)</div><div class="ttdoc">Open newsgroup hcache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00706">newsrc.c:706</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a0e57436b35d68983c6fe44815f3ad505"><div class="ttname"><a href="newsrc_8c.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a></div><div class="ttdeci">void nntp_clear_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Clear the NNTP cache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00840">newsrc.c:840</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a57bd184c51b8701e9613761a629ca485"><div class="ttname"><a href="newsrc_8c.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a></div><div class="ttdeci">int nntp_newsrc_parse(struct NntpAccountData *adata)</div><div class="ttdoc">Parse .newsrc file.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00163">newsrc.c:163</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a64fdec9977db62a95daa5af59d280673"><div class="ttname"><a href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a></div><div class="ttdeci">void nntp_newsrc_close(struct NntpAccountData *adata)</div><div class="ttdoc">Unlock and close .newsrc file.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00119">newsrc.c:119</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a8a0f0a9d60138637dde00cb0732c6b9e"><div class="ttname"><a href="newsrc_8c.html#a8a0f0a9d60138637dde00cb0732c6b9e">active_get_cache</a></div><div class="ttdeci">static int active_get_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Load list of all newsgroups from cache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00612">newsrc.c:612</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00523">newsrc.c:523</a></div></div>
<div class="ttc" id="anntp_2adata_8c_html_ad68d7c631f8efc0cf6d986ee23820399"><div class="ttname"><a href="nntp_2adata_8c.html#ad68d7c631f8efc0cf6d986ee23820399">nntp_adata_new</a></div><div class="ttdeci">struct NntpAccountData * nntp_adata_new(struct Connection *conn)</div><div class="ttdoc">Allocate and initialise a new NntpAccountData structure.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8c_source.html#l00065">adata.c:65</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a1782c5df61421b1951f9672b5d78d952"><div class="ttname"><a href="#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a></div><div class="ttdeci">int nntp_active_fetch(struct NntpAccountData *adata, bool mark_new)</div><div class="ttdoc">Fetch list of all newsgroups from server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l02034">nntp.c:2034</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a9d3ef937cceedd7b24520f69c5191d68"><div class="ttname"><a href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a></div><div class="ttdeci">#define ANUM_FMT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00064">lib.h:64</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="anntp_2private_8h_html_a1e2acdcc22ea61457b4dcafc8825aae5"><div class="ttname"><a href="nntp_2private_8h.html#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a></div><div class="ttdeci">#define NNTP_SSL_PORT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2private_8h_source.html#l00037">private.h:37</a></div></div>
<div class="ttc" id="anntp_2private_8h_html_aaccdd399473f113674cbabfeaa5ef972"><div class="ttname"><a href="nntp_2private_8h.html#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a></div><div class="ttdeci">#define NNTP_PORT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2private_8h_source.html#l00036">private.h:36</a></div></div>
<div class="ttc" id="anntp_8c_html_a1f4ed64d09034fa97562c2976d80d614"><div class="ttname"><a href="nntp_8c.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a></div><div class="ttdeci">int nntp_check_new_groups(struct Mailbox *m, struct NntpAccountData *adata)</div><div class="ttdoc">Check for new groups/articles in subscribed groups.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l02102">nntp.c:2102</a></div></div>
<div class="ttc" id="anntp_8c_html_abc4e8951366a6bf81d5d4d4ecf5ad4ba"><div class="ttname"><a href="nntp_8c.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a></div><div class="ttdeci">int nntp_open_connection(struct NntpAccountData *adata)</div><div class="ttdoc">Connect to server, authenticate and get capabilities.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01763">nntp.c:1763</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00091">pool.c:91</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00111">pool.c:111</a></div></div>
<div class="ttc" id="arender_8h_html_a5167e8b2777abe5e02be90e0d2a816de"><div class="ttname"><a href="render_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_FORMAT_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00033">render.h:33</a></div></div>
<div class="ttc" id="asocket_8c_html_a432eed609a221c68f457302d6e40c383"><div class="ttname"><a href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a></div><div class="ttdeci">int mutt_socket_close(struct Connection *conn)</div><div class="ttdoc">Close a socket.</div><div class="ttdef"><b>Definition</b> <a href="socket_8c_source.html#l00100">socket.c:100</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructBuffer_html_a1d9ee60bcf94de702b15ec2b5d811995"><div class="ttname"><a href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">Buffer::dsize</a></div><div class="ttdeci">size_t dsize</div><div class="ttdoc">Length of data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00039">buffer.h:39</a></div></div>
<div class="ttc" id="astructConnAccount_html"><div class="ttname"><a href="structConnAccount.html">ConnAccount</a></div><div class="ttdoc">Login details for a remote server.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00052">connaccount.h:53</a></div></div>
<div class="ttc" id="astructConnAccount_html_a48b8084b2dd1ef3d4e051a01cf15c7ca"><div class="ttname"><a href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">ConnAccount::user</a></div><div class="ttdeci">char user[128]</div><div class="ttdoc">Username.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00056">connaccount.h:56</a></div></div>
<div class="ttc" id="astructConnAccount_html_a842f1bf5afe0830ae96d80bdacead037"><div class="ttname"><a href="structConnAccount.html#a842f1bf5afe0830ae96d80bdacead037">ConnAccount::pass</a></div><div class="ttdeci">char pass[256]</div><div class="ttdoc">Password.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00057">connaccount.h:57</a></div></div>
<div class="ttc" id="astructConnAccount_html_a86102cb75ff512603a5559d4908b1ba4"><div class="ttname"><a href="structConnAccount.html#a86102cb75ff512603a5559d4908b1ba4">ConnAccount::service</a></div><div class="ttdeci">const char * service</div><div class="ttdoc">Name of the service, e.g. &quot;imap&quot;.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00061">connaccount.h:61</a></div></div>
<div class="ttc" id="astructConnAccount_html_ae69871442c1135a06b359011104f630b"><div class="ttname"><a href="structConnAccount.html#ae69871442c1135a06b359011104f630b">ConnAccount::get_field</a></div><div class="ttdeci">const char *(* get_field)(enum ConnAccountField field, void *gf_data)</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00070">connaccount.h:70</a></div></div>
<div class="ttc" id="astructConnAccount_html_aefc6c0b647de43e60472000102a0e208"><div class="ttname"><a href="structConnAccount.html#aefc6c0b647de43e60472000102a0e208">ConnAccount::type</a></div><div class="ttdeci">unsigned char type</div><div class="ttdoc">Connection type, e.g. MUTT_ACCT_TYPE_IMAP.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00059">connaccount.h:59</a></div></div>
<div class="ttc" id="astructConnAccount_html_af674ed2969fc29ff7d99f8b4cff6c92b"><div class="ttname"><a href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">ConnAccount::flags</a></div><div class="ttdeci">MuttAccountFlags flags</div><div class="ttdoc">Which fields are initialised, e.g. MUTT_ACCT_USER.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00060">connaccount.h:60</a></div></div>
<div class="ttc" id="astructConnAccount_html_aff0fc77d9a388c80c347c5c2c925086d"><div class="ttname"><a href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">ConnAccount::port</a></div><div class="ttdeci">unsigned short port</div><div class="ttdoc">Port to connect to.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00058">connaccount.h:58</a></div></div>
<div class="ttc" id="astructConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00047">connection.h:48</a></div></div>
<div class="ttc" id="astructConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00049">connection.h:49</a></div></div>
<div class="ttc" id="astructExpando_html"><div class="ttname"><a href="structExpando.html">Expando</a></div><div class="ttdoc">Parsed Expando trees.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8h_source.html#l00040">expando.h:41</a></div></div>
<div class="ttc" id="astructHeaderCache_html"><div class="ttname"><a href="structHeaderCache.html">HeaderCache</a></div><div class="ttdoc">Header Cache.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2lib_8h_source.html#l00086">lib.h:87</a></div></div>
<div class="ttc" id="astructMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00131">mailbox.h:131</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00127">neomutt.h:128</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a5410041863c473ba1f27b415c0a40482"><div class="ttname"><a href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">NeoMutt::env</a></div><div class="ttdeci">char ** env</div><div class="ttdoc">Private copy of the environment variables.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00143">neomutt.h:143</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00134">neomutt.h:134</a></div></div>
<div class="ttc" id="astructNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00035">adata.h:36</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdoc">Hash Table: &quot;newsgroup&quot; -&gt; NntpMboxData.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a17e649e29d0d7d8e6137647e62aa4b37"><div class="ttname"><a href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">NntpAccountData::groups_list</a></div><div class="ttdeci">struct NntpMboxData ** groups_list</div><div class="ttdoc">List of newsgroups.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00060">adata.h:60</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a31956518f4a223c885421a1315b79330"><div class="ttname"><a href="structNntpAccountData.html#a31956518f4a223c885421a1315b79330">NntpAccountData::authenticators</a></div><div class="ttdeci">char * authenticators</div><div class="ttdoc">Authenticators list.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00052">adata.h:52</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdoc">Can be cached.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00048">adata.h:48</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_ac66124453d57694fec9563cdbe65ce97"><div class="ttname"><a href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">NntpAccountData::newsrc_file</a></div><div class="ttdeci">char * newsrc_file</div><div class="ttdoc">Newsrc file path.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00051">adata.h:51</a></div></div>
<div class="ttc" id="astructNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00033">mdata.h:34</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdoc">Last article number.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdoc">Name of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdoc">Account data.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00048">mdata.h:48</a></div></div>
<div class="ttc" id="astructUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00068">url.h:69</a></div></div>
<div class="ttc" id="astructUrl_html_a18db9f379a95b00dc4f4ae7e4ac8698b"><div class="ttname"><a href="structUrl.html#a18db9f379a95b00dc4f4ae7e4ac8698b">Url::user</a></div><div class="ttdeci">char * user</div><div class="ttdoc">Username.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00071">url.h:71</a></div></div>
<div class="ttc" id="astructUrl_html_a565d3391c8b8114a97ad6f1b7c75b5f6"><div class="ttname"><a href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">Url::host</a></div><div class="ttdeci">char * host</div><div class="ttdoc">Host.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00073">url.h:73</a></div></div>
<div class="ttc" id="astructUrl_html_ac65d0bd34ac810ddf4a9a1a348151e67"><div class="ttname"><a href="structUrl.html#ac65d0bd34ac810ddf4a9a1a348151e67">Url::pass</a></div><div class="ttdeci">char * pass</div><div class="ttdoc">Password.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00072">url.h:72</a></div></div>
<div class="ttc" id="astructUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="astructUrl_html_ad84f1714cab12c536e1bcc552b1c5b51"><div class="ttname"><a href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">Url::scheme</a></div><div class="ttdeci">enum UrlScheme scheme</div><div class="ttdoc">Scheme, e.g. U_SMTPS.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00070">url.h:70</a></div></div>
<div class="ttc" id="aurl_8c_html_a3030b91052fa1a5fee0ca7b1d4d94f93"><div class="ttname"><a href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a></div><div class="ttdeci">struct Url * url_parse(const char *src)</div><div class="ttdoc">Fill in Url.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00239">url.c:239</a></div></div>
<div class="ttc" id="aurl_8c_html_a7b05825b8bb8f87657713fe5bc6edfaa"><div class="ttname"><a href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a></div><div class="ttdeci">void url_free(struct Url **ptr)</div><div class="ttdoc">Free the contents of a URL.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00124">url.c:124</a></div></div>
<div class="ttc" id="aurl_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a></div><div class="ttdeci">@ U_NNTPS</div><div class="ttdoc">Url is nntps://.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00042">url.h:42</a></div></div>
<div class="ttc" id="aurl_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a></div><div class="ttdeci">@ U_NNTP</div><div class="ttdoc">Url is nntp://.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00041">url.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_ae9ee1cc132aa482531fdc2463200e492_cgraph.svg" width="891" height="1642"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_ae9ee1cc132aa482531fdc2463200e492_icgraph.svg" width="366" height="272"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8116259f1259f7d6a96240cff0e9fa9e" name="a8116259f1259f7d6a96240cff0e9fa9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8116259f1259f7d6a96240cff0e9fa9e">&#9670;&#160;</a></span>mutt_newsgroup_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> * mutt_newsgroup_subscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01174">1174</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1175</span>{</div>
<div class="line"><span class="lineno"> 1176</span>  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !group || (*group == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="newsrc_8c.html#a9f33e774091672b52c32fcdf3a96b05c">mdata_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1180</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1181</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent)</div>
<div class="line"><span class="lineno"> 1182</span>  {</div>
<div class="line"><span class="lineno"> 1183</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno"> 1184</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 1;</div>
<div class="line"><span class="lineno"> 1185</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].first = 1;</div>
<div class="line"><span class="lineno"> 1186</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].last = 0;</div>
<div class="line"><span class="lineno"> 1187</span>  }</div>
<div class="line"><span class="lineno"> 1188</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 1189</span>}</div>
<div class="ttc" id="amemory_8h_html_a9aaf8f21a29735767a069ff1aee9d7d9"><div class="ttname"><a href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a></div><div class="ttdeci">#define MUTT_MEM_CALLOC(n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00052">memory.h:52</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a9f33e774091672b52c32fcdf3a96b05c"><div class="ttname"><a href="newsrc_8c.html#a9f33e774091672b52c32fcdf3a96b05c">mdata_find</a></div><div class="ttdeci">static struct NntpMboxData * mdata_find(struct NntpAccountData *adata, const char *group)</div><div class="ttdoc">Find NntpMboxData for given newsgroup or add it.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00073">newsrc.c:73</a></div></div>
<div class="ttc" id="astructNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups)</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:79</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a8116259f1259f7d6a96240cff0e9fa9e_cgraph.svg" width="340" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a8116259f1259f7d6a96240cff0e9fa9e_icgraph.svg" width="408" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af7a9bc2676ed73179b698122081f3abe" name="af7a9bc2676ed73179b698122081f3abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a9bc2676ed73179b698122081f3abe">&#9670;&#160;</a></span>mutt_newsgroup_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> * mutt_newsgroup_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01198">1198</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1199</span>{</div>
<div class="line"><span class="lineno"> 1200</span>  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !group || (*group == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno"> 1201</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1204</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1209</span>  <span class="keywordflow">if</span> (!c_save_unsubscribed)</div>
<div class="line"><span class="lineno"> 1210</span>  {</div>
<div class="line"><span class="lineno"> 1211</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 0;</div>
<div class="line"><span class="lineno"> 1212</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent);</div>
<div class="line"><span class="lineno"> 1213</span>  }</div>
<div class="line"><span class="lineno"> 1214</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 1215</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_af7a9bc2676ed73179b698122081f3abe_cgraph.svg" width="382" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_af7a9bc2676ed73179b698122081f3abe_icgraph.svg" width="424" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6706491e2d469cd6d2b48fc816e28517" name="a6706491e2d469cd6d2b48fc816e28517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6706491e2d469cd6d2b48fc816e28517">&#9670;&#160;</a></span>mutt_newsgroup_catchup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> * mutt_newsgroup_catchup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Catchup newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01225">1225</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1227</span>{</div>
<div class="line"><span class="lineno"> 1228</span>  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !group || (*group == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno"> 1229</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1230</span> </div>
<div class="line"><span class="lineno"> 1231</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1232</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent)</div>
<div class="line"><span class="lineno"> 1236</span>  {</div>
<div class="line"><span class="lineno"> 1237</span>    <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent, 1, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno"> 1238</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 1;</div>
<div class="line"><span class="lineno"> 1239</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].first = 1;</div>
<div class="line"><span class="lineno"> 1240</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].last = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message;</div>
<div class="line"><span class="lineno"> 1241</span>  }</div>
<div class="line"><span class="lineno"> 1242</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread = 0;</div>
<div class="line"><span class="lineno"> 1243</span>  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> == <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>))</div>
<div class="line"><span class="lineno"> 1244</span>  {</div>
<div class="line"><span class="lineno"> 1245</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div>
<div class="line"><span class="lineno"> 1246</span>    {</div>
<div class="line"><span class="lineno"> 1247</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structEmail.html">Email</a> *e = m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div>
<div class="line"><span class="lineno"> 1248</span>      <span class="keywordflow">if</span> (!e)</div>
<div class="line"><span class="lineno"> 1249</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1250</span>      <a class="code hl_function" href="flags_8c.html#a29547b9c7c39eb22039ff4b8f1c03829">mutt_set_flag</a>(m, e, <a class="code hl_enumvalue" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1251</span>    }</div>
<div class="line"><span class="lineno"> 1252</span>  }</div>
<div class="line"><span class="lineno"> 1253</span>  <span class="keywordflow">return</span> mdata;</div>
<div class="line"><span class="lineno"> 1254</span>}</div>
<div class="ttc" id="aflags_8c_html_a29547b9c7c39eb22039ff4b8f1c03829"><div class="ttname"><a href="flags_8c.html#a29547b9c7c39eb22039ff4b8f1c03829">mutt_set_flag</a></div><div class="ttdeci">void mutt_set_flag(struct Mailbox *m, struct Email *e, enum MessageType flag, bool bf, bool upd_mbox)</div><div class="ttdoc">Set a flag on an email.</div><div class="ttdef"><b>Definition</b> <a href="flags_8c_source.html#l00054">flags.c:54</a></div></div>
<div class="ttc" id="amemory_8h_html_abd7aad5fe8f11bcd476c64b4243081ba"><div class="ttname"><a href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a></div><div class="ttdeci">#define MUTT_MEM_REALLOC(pptr, n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00055">memory.h:55</a></div></div>
<div class="ttc" id="amutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a></div><div class="ttdeci">@ MUTT_READ</div><div class="ttdoc">Messages that have been read.</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00091">mutt.h:91</a></div></div>
<div class="ttc" id="astructEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00038">email.h:39</a></div></div>
<div class="ttc" id="astructMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00087">mailbox.h:87</a></div></div>
<div class="ttc" id="astructMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00095">mailbox.h:95</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6706491e2d469cd6d2b48fc816e28517_cgraph.svg" width="355" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6706491e2d469cd6d2b48fc816e28517_icgraph.svg" width="356" height="171"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa27ee89ff347b03db409f087a69e20e3" name="aa27ee89ff347b03db409f087a69e20e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa27ee89ff347b03db409f087a69e20e3">&#9670;&#160;</a></span>mutt_newsgroup_uncatchup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> * mutt_newsgroup_uncatchup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uncatchup newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01264">1264</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1266</span>{</div>
<div class="line"><span class="lineno"> 1267</span>  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !group || (*group == <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line"><span class="lineno"> 1268</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1269</span> </div>
<div class="line"><span class="lineno"> 1270</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 1271</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent)</div>
<div class="line"><span class="lineno"> 1275</span>  {</div>
<div class="line"><span class="lineno"> 1276</span>    <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent, 1, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno"> 1277</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 1;</div>
<div class="line"><span class="lineno"> 1278</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].first = 1;</div>
<div class="line"><span class="lineno"> 1279</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[0].last = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message - 1;</div>
<div class="line"><span class="lineno"> 1280</span>  }</div>
<div class="line"><span class="lineno"> 1281</span>  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> == <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>))</div>
<div class="line"><span class="lineno"> 1282</span>  {</div>
<div class="line"><span class="lineno"> 1283</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div>
<div class="line"><span class="lineno"> 1285</span>    {</div>
<div class="line"><span class="lineno"> 1286</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structEmail.html">Email</a> *e = m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div>
<div class="line"><span class="lineno"> 1287</span>      <span class="keywordflow">if</span> (!e)</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1289</span>      <a class="code hl_function" href="flags_8c.html#a29547b9c7c39eb22039ff4b8f1c03829">mutt_set_flag</a>(m, e, <a class="code hl_enumvalue" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1290</span>    }</div>
<div class="line"><span class="lineno"> 1291</span>  }</div>
<div class="line"><span class="lineno"> 1292</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1293</span>  {</div>
<div class="line"><span class="lineno"> 1294</span>    mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div>
<div class="line"><span class="lineno"> 1296</span>      mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> -= mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code hl_variable" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>;</div>
<div class="line"><span class="lineno"> 1297</span>  }</div>
<div class="line"><span class="lineno"> 1298</span>  <span class="keywordflow">return</span> mdata;</div>
<div class="line"><span class="lineno"> 1299</span>}</div>
<div class="ttc" id="astructNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdoc">Last article number in run.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00081">lib.h:81</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdoc">Newsrc entries.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdoc">Unread articles.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aa27ee89ff347b03db409f087a69e20e3_cgraph.svg" width="371" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aa27ee89ff347b03db409f087a69e20e3_icgraph.svg" width="346" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1782c5df61421b1951f9672b5d78d952" name="a1782c5df61421b1951f9672b5d78d952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1782c5df61421b1951f9672b5d78d952">&#9670;&#160;</a></span>nntp_active_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_active_fetch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>mark_new</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch list of all newsgroups from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">mark_new</td><td>Mark the groups as new </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02034">2034</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2035</span>{</div>
<div class="line"><span class="lineno"> 2036</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div>
<div class="line"><span class="lineno"> 2037</span>  <span class="keywordtype">char</span> msg[256] = { 0 };</div>
<div class="line"><span class="lineno"> 2038</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 2039</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 2040</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno"> 2041</span> </div>
<div class="line"><span class="lineno"> 2042</span>  snprintf(msg, <span class="keyword">sizeof</span>(msg), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading list of groups from server %s...&quot;</span>),</div>
<div class="line"><span class="lineno"> 2043</span>           <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">host</a>);</div>
<div class="line"><span class="lineno"> 2044</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<span class="stringliteral">&quot;%s&quot;</span>, msg);</div>
<div class="line"><span class="lineno"> 2045</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>, &amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 2046</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>  tmp_mdata.<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div>
<div class="line"><span class="lineno"> 2049</span>  tmp_mdata.<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = NULL;</div>
<div class="line"><span class="lineno"> 2050</span>  i = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>;</div>
<div class="line"><span class="lineno"> 2051</span>  <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <span class="stringliteral">&quot;LIST\r\n&quot;</span>, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 2052</span>  rc = <a class="code hl_function" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(&amp;tmp_mdata, buf, <span class="keyword">sizeof</span>(buf), msg, <a class="code hl_function" href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a>, <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2053</span>  <span class="keywordflow">if</span> (rc)</div>
<div class="line"><span class="lineno"> 2054</span>  {</div>
<div class="line"><span class="lineno"> 2055</span>    <span class="keywordflow">if</span> (rc &gt; 0)</div>
<div class="line"><span class="lineno"> 2056</span>    {</div>
<div class="line"><span class="lineno"> 2057</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;LIST: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2058</span>    }</div>
<div class="line"><span class="lineno"> 2059</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2060</span>  }</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>  <span class="keywordflow">if</span> (mark_new)</div>
<div class="line"><span class="lineno"> 2063</span>  {</div>
<div class="line"><span class="lineno"> 2064</span>    <span class="keywordflow">for</span> (; i &lt; <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno"> 2065</span>    {</div>
<div class="line"><span class="lineno"> 2066</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno"> 2067</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;<a class="code hl_variable" href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">has_new_mail</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2068</span>    }</div>
<div class="line"><span class="lineno"> 2069</span>  }</div>
<div class="line"><span class="lineno"> 2070</span> </div>
<div class="line"><span class="lineno"> 2071</span>  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno"> 2072</span>  {</div>
<div class="line"><span class="lineno"> 2073</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno"> 2074</span> </div>
<div class="line"><span class="lineno"> 2075</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> &amp;&amp; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted &amp;&amp; !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent)</div>
<div class="line"><span class="lineno"> 2076</span>    {</div>
<div class="line"><span class="lineno"> 2077</span>      <a class="code hl_function" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno"> 2078</span>      <a class="code hl_function" href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, NULL);</div>
<div class="line"><span class="lineno"> 2079</span>      <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i] = NULL;</div>
<div class="line"><span class="lineno"> 2080</span>    }</div>
<div class="line"><span class="lineno"> 2081</span>  }</div>
<div class="line"><span class="lineno"> 2082</span> </div>
<div class="line"><span class="lineno"> 2083</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div>
<div class="line"><span class="lineno"> 2084</span>  <span class="keywordflow">if</span> (c_nntp_load_description)</div>
<div class="line"><span class="lineno"> 2085</span>    rc = <a class="code hl_function" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(&amp;tmp_mdata, <span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading descriptions...&quot;</span>));</div>
<div class="line"><span class="lineno"> 2086</span> </div>
<div class="line"><span class="lineno"> 2087</span>  <a class="code hl_function" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2088</span>  <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 2089</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2090</span>  <a class="code hl_function" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div>
<div class="line"><span class="lineno"> 2091</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2092</span>}</div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="ahash_8c_html_a114557f625aa5366ab736c607fd381dd"><div class="ttname"><a href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a></div><div class="ttdeci">void mutt_hash_delete(struct HashTable *table, const char *strkey, const void *data)</div><div class="ttdoc">Remove an element from a Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00429">hash.c:429</a></div></div>
<div class="ttc" id="amutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen)</div><div class="ttdef"><b>Definition</b> <a href="mutt__logging_8c_source.html#l00074">mutt_logging.c:74</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a140bf8e49e3f11e0d9cb4d8253767819"><div class="ttname"><a href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a></div><div class="ttdeci">void nntp_delete_group_cache(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove hcache and bcache of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00807">newsrc.c:807</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a4a81ebd8f2d0f68109bddeef2c87ea83"><div class="ttname"><a href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a></div><div class="ttdeci">int nntp_add_group(char *line, void *data)</div><div class="ttdoc">Parse newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00571">newsrc.c:571</a></div></div>
<div class="ttc" id="anewsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00646">newsrc.c:646</a></div></div>
<div class="ttc" id="anntp_8c_html_a1e673d1df3f2dfca2ac1bf210cda8daa"><div class="ttname"><a href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a></div><div class="ttdeci">static int nntp_date(struct NntpAccountData *adata, time_t *now)</div><div class="ttdoc">Get date and time from server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01696">nntp.c:1696</a></div></div>
<div class="ttc" id="anntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00811">nntp.c:811</a></div></div>
<div class="ttc" id="anntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00933">nntp.c:933</a></div></div>
<div class="ttc" id="astructConnAccount_html_aa440323ef3111e1faaf33f6a57103a3a"><div class="ttname"><a href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">ConnAccount::host</a></div><div class="ttdeci">char host[128]</div><div class="ttdoc">Server to login to.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00054">connaccount.h:54</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a001b86788ccf66b12160431cbbb6e0bf"><div class="ttname"><a href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">NntpAccountData::newgroups_time</a></div><div class="ttdeci">time_t newgroups_time</div><div class="ttdoc">Last newgroups request time.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00056">adata.h:56</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to NNTP Server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdoc">Number of newsgroups.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00058">adata.h:58</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_accb71afa3c82ba9ddd7189e852f4e65a"><div class="ttname"><a href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">NntpMboxData::has_new_mail</a></div><div class="ttdeci">bool has_new_mail</div><div class="ttdoc">Has new articles.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00043">mdata.h:43</a></div></div>
</div><!-- fragment --><div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1782c5df61421b1951f9672b5d78d952_cgraph.svg" width="698" height="512"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1782c5df61421b1951f9672b5d78d952_icgraph.svg" width="328" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6ae05e2f17614ff64c3429ac40ec5119" name="a6ae05e2f17614ff64c3429ac40ec5119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae05e2f17614ff64c3429ac40ec5119">&#9670;&#160;</a></span>nntp_newsrc_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_newsrc_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00442">442</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>{</div>
<div class="line"><span class="lineno">  444</span>  <span class="keywordflow">if</span> (!adata)</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>  <span class="keywordtype">int</span> rc = -1;</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>  <span class="keywordtype">size_t</span> buflen = 10240;</div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordtype">char</span> *buf = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(buflen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  451</span>  <span class="keywordtype">size_t</span> off = 0;</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>  <span class="comment">/* we will generate full newsrc here */</span></div>
<div class="line"><span class="lineno">  454</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno">  455</span>  {</div>
<div class="line"><span class="lineno">  456</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> || !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent)</div>
<div class="line"><span class="lineno">  459</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">/* write newsgroup name */</span></div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">if</span> ((off + strlen(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group) + 3) &gt; buflen)</div>
<div class="line"><span class="lineno">  463</span>    {</div>
<div class="line"><span class="lineno">  464</span>      buflen *= 2;</div>
<div class="line"><span class="lineno">  465</span>      <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;buf, buflen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span>    snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%s%c &quot;</span>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed ? <span class="charliteral">&#39;:&#39;</span> : <span class="charliteral">&#39;!&#39;</span>);</div>
<div class="line"><span class="lineno">  468</span>    off += strlen(buf + off);</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>    <span class="comment">/* write entries */</span></div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len; j++)</div>
<div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span>      <span class="keywordflow">if</span> ((off + 1024) &gt; buflen)</div>
<div class="line"><span class="lineno">  474</span>      {</div>
<div class="line"><span class="lineno">  475</span>        buflen *= 2;</div>
<div class="line"><span class="lineno">  476</span>        <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;buf, buflen, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  477</span>      }</div>
<div class="line"><span class="lineno">  478</span>      <span class="keywordflow">if</span> (j)</div>
<div class="line"><span class="lineno">  479</span>        buf[off++] = <span class="charliteral">&#39;,&#39;</span>;</div>
<div class="line"><span class="lineno">  480</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first == <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].last)</div>
<div class="line"><span class="lineno">  481</span>      {</div>
<div class="line"><span class="lineno">  482</span>        snprintf(buf + off, buflen - off, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first);</div>
<div class="line"><span class="lineno">  483</span>      }</div>
<div class="line"><span class="lineno">  484</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first &lt; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].last)</div>
<div class="line"><span class="lineno">  485</span>      {</div>
<div class="line"><span class="lineno">  486</span>        snprintf(buf + off, buflen - off, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot;-&quot;</span> <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>,</div>
<div class="line"><span class="lineno">  487</span>                 <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].last);</div>
<div class="line"><span class="lineno">  488</span>      }</div>
<div class="line"><span class="lineno">  489</span>      off += strlen(buf + off);</div>
<div class="line"><span class="lineno">  490</span>    }</div>
<div class="line"><span class="lineno">  491</span>    buf[off++] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  492</span>  }</div>
<div class="line"><span class="lineno">  493</span>  buf[off] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>  <span class="comment">/* newrc being fully rewritten */</span></div>
<div class="line"><span class="lineno">  496</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Updating %s\n&quot;</span>, <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a> &amp;&amp; (<a class="code hl_function" href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, buf) == 0))</div>
<div class="line"><span class="lineno">  498</span>  {</div>
<div class="line"><span class="lineno">  499</span>    <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    rc = stat(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, &amp;st);</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">if</span> (rc == 0)</div>
<div class="line"><span class="lineno">  503</span>    {</div>
<div class="line"><span class="lineno">  504</span>      adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> = st.st_size;</div>
<div class="line"><span class="lineno">  505</span>      adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> = st.st_mtime;</div>
<div class="line"><span class="lineno">  506</span>    }</div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  508</span>    {</div>
<div class="line"><span class="lineno">  509</span>      <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  510</span>    }</div>
<div class="line"><span class="lineno">  511</span>  }</div>
<div class="line"><span class="lineno">  512</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;buf);</div>
<div class="line"><span class="lineno">  513</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  514</span>}</div>
<div class="ttc" id="agroup__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00095">logging2.h:95</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a400892d96104e348988b980faace6d3f"><div class="ttname"><a href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a></div><div class="ttdeci">static int update_file(char *filename, char *buf)</div><div class="ttdoc">Update file with new contents.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00392">newsrc.c:392</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a12f478749b5ab10135a81d90ed0dc797"><div class="ttname"><a href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">NntpAccountData::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">Newsrc file size.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00054">adata.h:54</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a8f59266cfb95512dfb9e2f900b7a2b54"><div class="ttname"><a href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">NntpAccountData::mtime</a></div><div class="ttdeci">time_t mtime</div><div class="ttdoc">Newsrc modification time.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
</div><!-- fragment --><div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6ae05e2f17614ff64c3429ac40ec5119_cgraph.svg" width="298" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6ae05e2f17614ff64c3429ac40ec5119_icgraph.svg" width="367" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4cec5b84b23b34587cae72db07ad2d04" name="a4cec5b84b23b34587cae72db07ad2d04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cec5b84b23b34587cae72db07ad2d04">&#9670;&#160;</a></span>nntp_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post article. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">msg</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> to post </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l01943">1943</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1944</span>{</div>
<div class="line"><span class="lineno"> 1945</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = NULL;</div>
<div class="line"><span class="lineno"> 1946</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div>
<div class="line"><span class="lineno"> 1947</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 1948</span>  <span class="keywordtype">int</span> rc = -1;</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span>  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a>))</div>
<div class="line"><span class="lineno"> 1951</span>  {</div>
<div class="line"><span class="lineno"> 1952</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 1953</span>  }</div>
<div class="line"><span class="lineno"> 1954</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1955</span>  {</div>
<div class="line"><span class="lineno"> 1956</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_server = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_server&quot;</span>);</div>
<div class="line"><span class="lineno"> 1957</span>    <a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a> = <a class="code hl_function" href="#ae9ee1cc132aa482531fdc2463200e492">nntp_select_server</a>(m, c_news_server, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1958</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>)</div>
<div class="line"><span class="lineno"> 1959</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1960</span> </div>
<div class="line"><span class="lineno"> 1961</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = &amp;tmp_mdata;</div>
<div class="line"><span class="lineno"> 1962</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div>
<div class="line"><span class="lineno"> 1963</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group = NULL;</div>
<div class="line"><span class="lineno"> 1964</span>  }</div>
<div class="line"><span class="lineno"> 1965</span> </div>
<div class="line"><span class="lineno"> 1966</span>  FILE *fp = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(msg, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 1967</span>  <span class="keywordflow">if</span> (!fp)</div>
<div class="line"><span class="lineno"> 1968</span>  {</div>
<div class="line"><span class="lineno"> 1969</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, msg);</div>
<div class="line"><span class="lineno"> 1970</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1971</span>  }</div>
<div class="line"><span class="lineno"> 1972</span> </div>
<div class="line"><span class="lineno"> 1973</span>  <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <span class="stringliteral">&quot;POST\r\n&quot;</span>, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno"> 1974</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1975</span>  {</div>
<div class="line"><span class="lineno"> 1976</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 1977</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1978</span>  }</div>
<div class="line"><span class="lineno"> 1979</span>  <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;3&#39;</span>)</div>
<div class="line"><span class="lineno"> 1980</span>  {</div>
<div class="line"><span class="lineno"> 1981</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t post article: %s&quot;</span>), buf);</div>
<div class="line"><span class="lineno"> 1982</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 1983</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1984</span>  }</div>
<div class="line"><span class="lineno"> 1985</span> </div>
<div class="line"><span class="lineno"> 1986</span>  buf[0] = <span class="charliteral">&#39;.&#39;</span>;</div>
<div class="line"><span class="lineno"> 1987</span>  buf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1988</span>  <span class="keywordflow">while</span> (fgets(buf + 1, <span class="keyword">sizeof</span>(buf) - 2, fp))</div>
<div class="line"><span class="lineno"> 1989</span>  {</div>
<div class="line"><span class="lineno"> 1990</span>    <span class="keywordtype">size_t</span> len = strlen(buf);</div>
<div class="line"><span class="lineno"> 1991</span>    <span class="keywordflow">if</span> (buf[len - 1] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 1992</span>    {</div>
<div class="line"><span class="lineno"> 1993</span>      buf[len - 1] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><span class="lineno"> 1994</span>      buf[len] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno"> 1995</span>      len++;</div>
<div class="line"><span class="lineno"> 1996</span>      buf[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1997</span>    }</div>
<div class="line"><span class="lineno"> 1998</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata-&gt;conn, (buf[1] == <span class="charliteral">&#39;.&#39;</span>) ? buf : buf + 1,</div>
<div class="line"><span class="lineno"> 1999</span>                           <a class="code hl_define" href="socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 2000</span>    {</div>
<div class="line"><span class="lineno"> 2001</span>      <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 2002</span>      <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata);</div>
<div class="line"><span class="lineno"> 2003</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2004</span>    }</div>
<div class="line"><span class="lineno"> 2005</span>  }</div>
<div class="line"><span class="lineno"> 2006</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 2007</span> </div>
<div class="line"><span class="lineno"> 2008</span>  <span class="keywordflow">if</span> (((buf[strlen(buf) - 1] != <span class="charliteral">&#39;\n&#39;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2009</span>       (<a class="code hl_define" href="socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata-&gt;conn, <span class="stringliteral">&quot;\r\n&quot;</span>, <a class="code hl_define" href="socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0)) ||</div>
<div class="line"><span class="lineno"> 2010</span>      (<a class="code hl_define" href="socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata-&gt;conn, <span class="stringliteral">&quot;.\r\n&quot;</span>, <a class="code hl_define" href="socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0) ||</div>
<div class="line"><span class="lineno"> 2011</span>      (<a class="code hl_define" href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata-&gt;conn) &lt; 0))</div>
<div class="line"><span class="lineno"> 2012</span>  {</div>
<div class="line"><span class="lineno"> 2013</span>    <a class="code hl_function" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;adata);</div>
<div class="line"><span class="lineno"> 2014</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2015</span>  }</div>
<div class="line"><span class="lineno"> 2016</span>  <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;2&#39;</span>)</div>
<div class="line"><span class="lineno"> 2017</span>  {</div>
<div class="line"><span class="lineno"> 2018</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t post article: %s&quot;</span>), buf);</div>
<div class="line"><span class="lineno"> 2019</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2020</span>  }</div>
<div class="line"><span class="lineno"> 2021</span>  rc = 0;</div>
<div class="line"><span class="lineno"> 2022</span> </div>
<div class="line"><span class="lineno"> 2023</span>done:</div>
<div class="line"><span class="lineno"> 2024</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 2025</span>}</div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a></div><div class="ttdeci">@ MUTT_NNTP</div><div class="ttdoc">&#39;NNTP&#39; (Usenet) Mailbox type</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00048">mailbox.h:48</a></div></div>
<div class="ttc" id="afile_8h_html_a9b519e795f098be88b93cd72c49a35ec"><div class="ttname"><a href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a></div><div class="ttdeci">#define mutt_file_fclose(FP)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00139">file.h:139</a></div></div>
<div class="ttc" id="afile_8h_html_a9fa358d76519cb6bc8ffca5850976d46"><div class="ttname"><a href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a></div><div class="ttdeci">#define mutt_file_fopen(PATH, MODE)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00138">file.h:138</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00074">nntp.c:74</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_ae9ee1cc132aa482531fdc2463200e492"><div class="ttname"><a href="#ae9ee1cc132aa482531fdc2463200e492">nntp_select_server</a></div><div class="ttdeci">struct NntpAccountData * nntp_select_server(struct Mailbox *m, const char *server, bool leave_lock)</div><div class="ttdoc">Open a connection to an NNTP server.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00944">newsrc.c:944</a></div></div>
<div class="ttc" id="anntp_8c_html_a8247b21cffda7c4fa36e797820253e33"><div class="ttname"><a href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a></div><div class="ttdeci">static int nntp_connect_error(struct NntpAccountData *adata)</div><div class="ttdoc">Signal a failed connection.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00124">nntp.c:124</a></div></div>
<div class="ttc" id="anntp_8c_html_a91a111632ed65df68e26ff839265c801"><div class="ttname"><a href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a></div><div class="ttdeci">static int nntp_query(struct NntpMboxData *mdata, char *line, size_t linelen)</div><div class="ttdoc">Send data from buffer and receive answer to same buffer.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00727">nntp.c:727</a></div></div>
<div class="ttc" id="asocket_8h_html_a20fef332e75f8a0589dfdfac3f034037"><div class="ttname"><a href="socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a></div><div class="ttdeci">#define MUTT_SOCK_LOG_FULL</div><div class="ttdoc">Log everything including full protocol.</div><div class="ttdef"><b>Definition</b> <a href="socket_8h_source.html#l00053">socket.h:53</a></div></div>
<div class="ttc" id="asocket_8h_html_a5ad40b2573cd216798e0412de26c0818"><div class="ttname"><a href="socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a></div><div class="ttdeci">#define mutt_socket_readln(buf, buflen, conn)</div><div class="ttdef"><b>Definition</b> <a href="socket_8h_source.html#l00055">socket.h:55</a></div></div>
<div class="ttc" id="asocket_8h_html_ad29feeb7a4cffde2dfe23fd6e6cfa9c1"><div class="ttname"><a href="socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a></div><div class="ttdeci">#define mutt_socket_send_d(conn, buf, dbg)</div><div class="ttdef"><b>Definition</b> <a href="socket_8h_source.html#l00057">socket.h:57</a></div></div>
<div class="ttc" id="astructMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00101">mailbox.h:101</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a4cec5b84b23b34587cae72db07ad2d04_cgraph.svg" width="474" height="228"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a4cec5b84b23b34587cae72db07ad2d04_icgraph.svg" width="302" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0e31da3560e7296a47d444775b42b8f3" name="a0e31da3560e7296a47d444775b42b8f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e31da3560e7296a47d444775b42b8f3">&#9670;&#160;</a></span>nntp_check_msgid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_msgid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>msgid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch article by Message-ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">msgid</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">1</td><td>No such article </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02212">2212</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2213</span>{</div>
<div class="line"><span class="lineno"> 2214</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno"> 2215</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2216</span> </div>
<div class="line"><span class="lineno"> 2217</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 2218</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 2219</span> </div>
<div class="line"><span class="lineno"> 2220</span>  FILE *fp = <a class="code hl_define" href="tmp_8h.html#a4ad1bdd71a5077a9e7dfc4890e1089f6">mutt_file_mkstemp</a>();</div>
<div class="line"><span class="lineno"> 2221</span>  <span class="keywordflow">if</span> (!fp)</div>
<div class="line"><span class="lineno"> 2222</span>  {</div>
<div class="line"><span class="lineno"> 2223</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t create temporary file&quot;</span>));</div>
<div class="line"><span class="lineno"> 2224</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2225</span>  }</div>
<div class="line"><span class="lineno"> 2226</span> </div>
<div class="line"><span class="lineno"> 2227</span>  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;HEAD %s\r\n&quot;</span>, msgid);</div>
<div class="line"><span class="lineno"> 2228</span>  <span class="keywordtype">int</span> rc = <a class="code hl_function" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, buf, <span class="keyword">sizeof</span>(buf), NULL, <a class="code hl_function" href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a>, fp);</div>
<div class="line"><span class="lineno"> 2229</span>  <span class="keywordflow">if</span> (rc)</div>
<div class="line"><span class="lineno"> 2230</span>  {</div>
<div class="line"><span class="lineno"> 2231</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 2232</span>    <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 2233</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2234</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;430&quot;</span>))</div>
<div class="line"><span class="lineno"> 2235</span>      <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2236</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;HEAD: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2237</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2238</span>  }</div>
<div class="line"><span class="lineno"> 2239</span> </div>
<div class="line"><span class="lineno"> 2240</span>  <span class="comment">/* parse header */</span></div>
<div class="line"><span class="lineno"> 2241</span>  <a class="code hl_function" href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a>(m, m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div>
<div class="line"><span class="lineno"> 2242</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>] = <a class="code hl_function" href="email_2email_8c.html#ab53e91414f24cecdc75fcfea6f1824e3">email_new</a>();</div>
<div class="line"><span class="lineno"> 2243</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structEmail.html">Email</a> *e = m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>];</div>
<div class="line"><span class="lineno"> 2244</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">edata</a> = <a class="code hl_function" href="nntp_2edata_8c.html#ae9966ecbbc4bcf1109eeef0a02e34269">nntp_edata_new</a>();</div>
<div class="line"><span class="lineno"> 2245</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a781551eba730fd251226081727ae74bb">edata_free</a> = <a class="code hl_function" href="group__email__edata__free.html#gabde0fac585d1a21a6a7677d489e6b41d">nntp_edata_free</a>;</div>
<div class="line"><span class="lineno"> 2246</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a> = <a class="code hl_function" href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a>(fp, e, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2247</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno"> 2248</span> </div>
<div class="line"><span class="lineno"> 2249</span>  <span class="comment">/* get article number */</span></div>
<div class="line"><span class="lineno"> 2250</span>  <span class="keywordflow">if</span> (e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#aafcabc33a66b5edfa91bbdc922515c2e">xref</a>)</div>
<div class="line"><span class="lineno"> 2251</span>  {</div>
<div class="line"><span class="lineno"> 2252</span>    <a class="code hl_function" href="nntp_8c.html#aba0b869ad5244bb92012df19edef7bd5">nntp_parse_xref</a>(m, e);</div>
<div class="line"><span class="lineno"> 2253</span>  }</div>
<div class="line"><span class="lineno"> 2254</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2255</span>  {</div>
<div class="line"><span class="lineno"> 2256</span>    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;STAT %s\r\n&quot;</span>, msgid);</div>
<div class="line"><span class="lineno"> 2257</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(mdata, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2258</span>    {</div>
<div class="line"><span class="lineno"> 2259</span>      <a class="code hl_function" href="email_2email_8c.html#ae9f719d3fc31d00b92bcf9f77d56ee67">email_free</a>(&amp;e);</div>
<div class="line"><span class="lineno"> 2260</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2261</span>    }</div>
<div class="line"><span class="lineno"> 2262</span>    sscanf(buf + 4, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;<a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;article_num);</div>
<div class="line"><span class="lineno"> 2263</span>  }</div>
<div class="line"><span class="lineno"> 2264</span> </div>
<div class="line"><span class="lineno"> 2265</span>  <span class="comment">/* reset flags */</span></div>
<div class="line"><span class="lineno"> 2266</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2267</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2268</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2269</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2270</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#af64bcf33ccd8b0ba248fc8d427c21264">received</a> = e-&gt;<a class="code hl_variable" href="structEmail.html#a9e3cda5dab6d53f68cad95d28068d962">date_sent</a>;</div>
<div class="line"><span class="lineno"> 2271</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>++;</div>
<div class="line"><span class="lineno"> 2272</span>  <a class="code hl_function" href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a>);</div>
<div class="line"><span class="lineno"> 2273</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2274</span>}</div>
<div class="ttc" id="acore_2mailbox_8c_html_af09ac36728ca3255523cd3b0bfd1f172"><div class="ttname"><a href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a></div><div class="ttdeci">void mailbox_changed(struct Mailbox *m, enum NotifyMailbox action)</div><div class="ttdoc">Notify observers of a change to a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8c_source.html#l00232">mailbox.c:232</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a"><div class="ttname"><a href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a></div><div class="ttdeci">@ NT_MAILBOX_INVALID</div><div class="ttdoc">Email list was changed.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00179">mailbox.h:179</a></div></div>
<div class="ttc" id="aemail_2email_8c_html_ab53e91414f24cecdc75fcfea6f1824e3"><div class="ttname"><a href="email_2email_8c.html#ab53e91414f24cecdc75fcfea6f1824e3">email_new</a></div><div class="ttdeci">struct Email * email_new(void)</div><div class="ttdoc">Create a new Email.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00077">email.c:77</a></div></div>
<div class="ttc" id="aemail_2email_8c_html_ae9f719d3fc31d00b92bcf9f77d56ee67"><div class="ttname"><a href="email_2email_8c.html#ae9f719d3fc31d00b92bcf9f77d56ee67">email_free</a></div><div class="ttdeci">void email_free(struct Email **ptr)</div><div class="ttdoc">Free an Email.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00046">email.c:46</a></div></div>
<div class="ttc" id="aemail_2parse_8c_html_a709f7f23d8a54a0f75abc28a0b365ace"><div class="ttname"><a href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a></div><div class="ttdeci">struct Envelope * mutt_rfc822_read_header(FILE *fp, struct Email *e, bool user_hdrs, bool weed)</div><div class="ttdoc">Parses an RFC822 header.</div><div class="ttdef"><b>Definition</b> <a href="email_2parse_8c_source.html#l01204">parse.c:1204</a></div></div>
<div class="ttc" id="agroup__email__edata__free_html_gabde0fac585d1a21a6a7677d489e6b41d"><div class="ttname"><a href="group__email__edata__free.html#gabde0fac585d1a21a6a7677d489e6b41d">nntp_edata_free</a></div><div class="ttdeci">void nntp_edata_free(void **ptr)</div><div class="ttdoc">Free the private Email data - Implements Email::edata_free() -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8c_source.html#l00038">edata.c:38</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00234">string.c:234</a></div></div>
<div class="ttc" id="amx_8c_html_a0572e1f7a00e528557923201a39c7de9"><div class="ttname"><a href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a></div><div class="ttdeci">void mx_alloc_memory(struct Mailbox *m, int req_size)</div><div class="ttdoc">Create storage for the emails.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01208">mx.c:1208</a></div></div>
<div class="ttc" id="anntp_2edata_8c_html_a78e1fab53bc6f3d3813bcef508414349"><div class="ttname"><a href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8c_source.html#l00060">edata.c:60</a></div></div>
<div class="ttc" id="anntp_2edata_8c_html_ae9966ecbbc4bcf1109eeef0a02e34269"><div class="ttname"><a href="nntp_2edata_8c.html#ae9966ecbbc4bcf1109eeef0a02e34269">nntp_edata_new</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_new(void)</div><div class="ttdoc">Create a new NntpEmailData for an Email.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8c_source.html#l00050">edata.c:50</a></div></div>
<div class="ttc" id="anntp_8c_html_aaf413f6c5603eab3efd124f2c56df842"><div class="ttname"><a href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a></div><div class="ttdeci">static int fetch_tempfile(char *line, void *data)</div><div class="ttdoc">Write line to temporary file.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01006">nntp.c:1006</a></div></div>
<div class="ttc" id="anntp_8c_html_aba0b869ad5244bb92012df19edef7bd5"><div class="ttname"><a href="nntp_8c.html#aba0b869ad5244bb92012df19edef7bd5">nntp_parse_xref</a></div><div class="ttdeci">static void nntp_parse_xref(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Parse cross-reference.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00965">nntp.c:965</a></div></div>
<div class="ttc" id="astructEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="astructEmail_html_a34cc4493729d7a3b1f4ed783e739a9ec"><div class="ttname"><a href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">Email::env</a></div><div class="ttdeci">struct Envelope * env</div><div class="ttdoc">Envelope information.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00068">email.h:68</a></div></div>
<div class="ttc" id="astructEmail_html_a50d8a8dde5fbf0b6dba934ff7e07fb6b"><div class="ttname"><a href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">Email::edata</a></div><div class="ttdeci">void * edata</div><div class="ttdoc">Driver-specific data.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00074">email.h:74</a></div></div>
<div class="ttc" id="astructEmail_html_a6d9062408a8c89b19cf25584dd2ffb57"><div class="ttname"><a href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">Email::old</a></div><div class="ttdeci">bool old</div><div class="ttdoc">Email is seen, but unread.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00049">email.h:49</a></div></div>
<div class="ttc" id="astructEmail_html_a781551eba730fd251226081727ae74bb"><div class="ttname"><a href="structEmail.html#a781551eba730fd251226081727ae74bb">Email::edata_free</a></div><div class="ttdeci">void(* edata_free)(void **ptr)</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00090">email.h:90</a></div></div>
<div class="ttc" id="astructEmail_html_a8b1e186b9d388e199ba9c6239c612627"><div class="ttname"><a href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">Email::changed</a></div><div class="ttdeci">bool changed</div><div class="ttdoc">Email has been edited.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00077">email.h:77</a></div></div>
<div class="ttc" id="astructEmail_html_a9e3cda5dab6d53f68cad95d28068d962"><div class="ttname"><a href="structEmail.html#a9e3cda5dab6d53f68cad95d28068d962">Email::date_sent</a></div><div class="ttdeci">time_t date_sent</div><div class="ttdoc">Time when the message was sent (UTC)</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00060">email.h:60</a></div></div>
<div class="ttc" id="astructEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00078">email.h:78</a></div></div>
<div class="ttc" id="astructEmail_html_ace0e20a11dbdc84ca9ea63497c05b603"><div class="ttname"><a href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">Email::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">The absolute (unsorted) message number.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00110">email.h:110</a></div></div>
<div class="ttc" id="astructEmail_html_af64bcf33ccd8b0ba248fc8d427c21264"><div class="ttname"><a href="structEmail.html#af64bcf33ccd8b0ba248fc8d427c21264">Email::received</a></div><div class="ttdeci">time_t received</div><div class="ttdoc">Time when the message was placed in the mailbox.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00061">email.h:61</a></div></div>
<div class="ttc" id="astructEnvelope_html_aafcabc33a66b5edfa91bbdc922515c2e"><div class="ttname"><a href="structEnvelope.html#aafcabc33a66b5edfa91bbdc922515c2e">Envelope::xref</a></div><div class="ttdeci">char * xref</div><div class="ttdoc">List of cross-references.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8h_source.html#l00079">envelope.h:79</a></div></div>
<div class="ttc" id="atmp_8h_html_a4ad1bdd71a5077a9e7dfc4890e1089f6"><div class="ttname"><a href="tmp_8h.html#a4ad1bdd71a5077a9e7dfc4890e1089f6">mutt_file_mkstemp</a></div><div class="ttdeci">#define mutt_file_mkstemp()</div><div class="ttdef"><b>Definition</b> <a href="tmp_8h_source.html#l00036">tmp.h:36</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e31da3560e7296a47d444775b42b8f3_cgraph.svg" width="566" height="667"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e31da3560e7296a47d444775b42b8f3_icgraph.svg" width="319" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a17459a2b096832129b7878bfea7300c9" name="a17459a2b096832129b7878bfea7300c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17459a2b096832129b7878bfea7300c9">&#9670;&#160;</a></span>nntp_check_children()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_children </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>msgid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch children of article with the Message-ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">msgid</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> ID to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02283">2283</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2284</span>{</div>
<div class="line"><span class="lineno"> 2285</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno"> 2286</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2287</span> </div>
<div class="line"><span class="lineno"> 2288</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 2289</span>  <span class="keywordtype">char</span> buf[256] = { 0 };</div>
<div class="line"><span class="lineno"> 2290</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno"> 2291</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHeaderCache.html">HeaderCache</a> *hc = NULL;</div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>  <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>)</div>
<div class="line"><span class="lineno"> 2294</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2295</span>  <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> &gt; mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>)</div>
<div class="line"><span class="lineno"> 2296</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2297</span> </div>
<div class="line"><span class="lineno"> 2298</span>  <span class="comment">/* init context */</span></div>
<div class="line"><span class="lineno"> 2299</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structChildCtx.html">ChildCtx</a> cc = { 0 };</div>
<div class="line"><span class="lineno"> 2300</span>  cc.<a class="code hl_variable" href="structChildCtx.html#a1e470e3dd833b2c285478ec5e632a5de">mailbox</a> = m;</div>
<div class="line"><span class="lineno"> 2301</span>  cc.<a class="code hl_variable" href="structChildCtx.html#a9ca2a8cf245455ac084610026f49d9dd">num</a> = 0;</div>
<div class="line"><span class="lineno"> 2302</span>  cc.<a class="code hl_variable" href="structChildCtx.html#a7791d536383236bfbb2084f7644e606b">max</a> = 10;</div>
<div class="line"><span class="lineno"> 2303</span>  cc.<a class="code hl_variable" href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">child</a> = <a class="code hl_define" href="memory_8h.html#af997cb3719dc7abbeabae655d0ee1b9e">MUTT_MEM_MALLOC</a>(cc.<a class="code hl_variable" href="structChildCtx.html#a7791d536383236bfbb2084f7644e606b">max</a>, <a class="code hl_define" href="#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a>);</div>
<div class="line"><span class="lineno"> 2304</span> </div>
<div class="line"><span class="lineno"> 2305</span>  <span class="comment">/* fetch numbers of child messages */</span></div>
<div class="line"><span class="lineno"> 2306</span>  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;XPAT References &quot;</span> <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot;-&quot;</span> <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; *%s*\r\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2307</span>           mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>, msgid);</div>
<div class="line"><span class="lineno"> 2308</span>  rc = <a class="code hl_function" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(mdata, buf, <span class="keyword">sizeof</span>(buf), NULL, <a class="code hl_function" href="nntp_8c.html#a1b2bc10241891f96f165f08e03ef18b4">fetch_children</a>, &amp;cc);</div>
<div class="line"><span class="lineno"> 2309</span>  <span class="keywordflow">if</span> (rc)</div>
<div class="line"><span class="lineno"> 2310</span>  {</div>
<div class="line"><span class="lineno"> 2311</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;cc.<a class="code hl_variable" href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">child</a>);</div>
<div class="line"><span class="lineno"> 2312</span>    <span class="keywordflow">if</span> (rc &gt; 0)</div>
<div class="line"><span class="lineno"> 2313</span>    {</div>
<div class="line"><span class="lineno"> 2314</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;500&quot;</span>))</div>
<div class="line"><span class="lineno"> 2315</span>      {</div>
<div class="line"><span class="lineno"> 2316</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;XPAT: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2317</span>      }</div>
<div class="line"><span class="lineno"> 2318</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2319</span>      {</div>
<div class="line"><span class="lineno"> 2320</span>        <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unable to find child articles because server does not support XPAT command&quot;</span>));</div>
<div class="line"><span class="lineno"> 2321</span>      }</div>
<div class="line"><span class="lineno"> 2322</span>    }</div>
<div class="line"><span class="lineno"> 2323</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2324</span>  }</div>
<div class="line"><span class="lineno"> 2325</span> </div>
<div class="line"><span class="lineno"> 2326</span>  <span class="comment">/* fetch all found messages */</span></div>
<div class="line"><span class="lineno"> 2327</span>  <span class="keywordtype">bool</span> verbose = m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>;</div>
<div class="line"><span class="lineno"> 2328</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2329</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno"> 2330</span>  hc = <a class="code hl_function" href="newsrc_8c.html#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a>(mdata);</div>
<div class="line"><span class="lineno"> 2331</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2332</span>  <span class="keywordtype">int</span> old_msg_count = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div>
<div class="line"><span class="lineno"> 2333</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cc.<a class="code hl_variable" href="structChildCtx.html#a9ca2a8cf245455ac084610026f49d9dd">num</a>; i++)</div>
<div class="line"><span class="lineno"> 2334</span>  {</div>
<div class="line"><span class="lineno"> 2335</span>    rc = <a class="code hl_function" href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a>(m, hc, cc.<a class="code hl_variable" href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">child</a>[i], cc.<a class="code hl_variable" href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">child</a>[i], <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2336</span>    <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 2337</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2338</span>  }</div>
<div class="line"><span class="lineno"> 2339</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> &gt; old_msg_count)</div>
<div class="line"><span class="lineno"> 2340</span>    <a class="code hl_function" href="core_2mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a>);</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno"> 2343</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a>(&amp;hc);</div>
<div class="line"><span class="lineno"> 2344</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2345</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a> = verbose;</div>
<div class="line"><span class="lineno"> 2346</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;cc.<a class="code hl_variable" href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">child</a>);</div>
<div class="line"><span class="lineno"> 2347</span>  <span class="keywordflow">return</span> (rc &lt; 0) ? -1 : 0;</div>
<div class="line"><span class="lineno"> 2348</span>}</div>
<div class="ttc" id="amemory_8h_html_af997cb3719dc7abbeabae655d0ee1b9e"><div class="ttname"><a href="memory_8h.html#af997cb3719dc7abbeabae655d0ee1b9e">MUTT_MEM_MALLOC</a></div><div class="ttdeci">#define MUTT_MEM_MALLOC(n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00053">memory.h:53</a></div></div>
<div class="ttc" id="anntp_8c_html_a1b2bc10241891f96f165f08e03ef18b4"><div class="ttname"><a href="nntp_8c.html#a1b2bc10241891f96f165f08e03ef18b4">fetch_children</a></div><div class="ttdeci">static int fetch_children(char *line, void *data)</div><div class="ttdoc">Parse XPAT line.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01733">nntp.c:1733</a></div></div>
<div class="ttc" id="anntp_8c_html_aee3d5be3d80d56eaa5f16865db0e22c6"><div class="ttname"><a href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a></div><div class="ttdeci">static int nntp_fetch_headers(struct Mailbox *m, void *hc, anum_t first, anum_t last, bool restore)</div><div class="ttdoc">Fetch headers.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01201">nntp.c:1201</a></div></div>
<div class="ttc" id="astructChildCtx_html"><div class="ttname"><a href="structChildCtx.html">ChildCtx</a></div><div class="ttdoc">Keep track of the children of an article.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00103">nntp.c:104</a></div></div>
<div class="ttc" id="astructChildCtx_html_a1d6b966a78f9523bd3ad8f42b8cc3cff"><div class="ttname"><a href="structChildCtx.html#a1d6b966a78f9523bd3ad8f42b8cc3cff">ChildCtx::child</a></div><div class="ttdeci">anum_t * child</div><div class="ttdoc">Array of child article numbers.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00108">nntp.c:108</a></div></div>
<div class="ttc" id="astructChildCtx_html_a1e470e3dd833b2c285478ec5e632a5de"><div class="ttname"><a href="structChildCtx.html#a1e470e3dd833b2c285478ec5e632a5de">ChildCtx::mailbox</a></div><div class="ttdeci">struct Mailbox * mailbox</div><div class="ttdoc">Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00105">nntp.c:105</a></div></div>
<div class="ttc" id="astructChildCtx_html_a7791d536383236bfbb2084f7644e606b"><div class="ttname"><a href="structChildCtx.html#a7791d536383236bfbb2084f7644e606b">ChildCtx::max</a></div><div class="ttdeci">unsigned int max</div><div class="ttdoc">Maximum number of children.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00107">nntp.c:107</a></div></div>
<div class="ttc" id="astructChildCtx_html_a9ca2a8cf245455ac084610026f49d9dd"><div class="ttname"><a href="structChildCtx.html#a9ca2a8cf245455ac084610026f49d9dd">ChildCtx::num</a></div><div class="ttdeci">unsigned int num</div><div class="ttdoc">Number of children.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00106">nntp.c:106</a></div></div>
<div class="ttc" id="astructMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages?</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00116">mailbox.h:116</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a9cecad8ca33cea69ef91939fc3088e72"><div class="ttname"><a href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">NntpMboxData::last_loaded</a></div><div class="ttdeci">anum_t last_loaded</div><div class="ttdoc">Last loaded article.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdoc">First article number.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a17459a2b096832129b7878bfea7300c9_cgraph.svg" width="540" height="355"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a17459a2b096832129b7878bfea7300c9_icgraph.svg" width="324" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a57bd184c51b8701e9613761a629ca485" name="a57bd184c51b8701e9613761a629ca485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57bd184c51b8701e9613761a629ca485">&#9670;&#160;</a></span>nntp_newsrc_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_newsrc_parse </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Not changed </td></tr>
    <tr><td class="paramname">1</td><td>Parsed </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00163">163</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  164</span>{</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">if</span> (!adata)</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordtype">char</span> *line = NULL;</div>
<div class="line"><span class="lineno">  169</span>  <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div>
<div class="line"><span class="lineno">  172</span>  {</div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">/* if we already have a handle, close it and reopen */</span></div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div>
<div class="line"><span class="lineno">  175</span>  }</div>
<div class="line"><span class="lineno">  176</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  177</span>  {</div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">/* if file doesn&#39;t exist, create it */</span></div>
<div class="line"><span class="lineno">  179</span>    adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, <span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div>
<div class="line"><span class="lineno">  181</span>  }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <span class="comment">/* open .newsrc */</span></div>
<div class="line"><span class="lineno">  184</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordflow">if</span> (!adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div>
<div class="line"><span class="lineno">  186</span>  {</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  189</span>  }</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="comment">/* lock it */</span></div>
<div class="line"><span class="lineno">  192</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Locking %s\n&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  193</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a>(fileno(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>), <span class="keyword">false</span>, <span class="keyword">true</span>))</div>
<div class="line"><span class="lineno">  194</span>  {</div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  197</span>  }</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">if</span> (stat(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, &amp;st) != 0)</div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_function" href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  204</span>  }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordflow">if</span> ((adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> == st.st_size) &amp;&amp; (adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> == st.st_mtime))</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> = st.st_size;</div>
<div class="line"><span class="lineno">  210</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> = st.st_mtime;</div>
<div class="line"><span class="lineno">  211</span>  adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">newsrc_modified</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  212</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Parsing %s\n&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>  <span class="comment">/* .newsrc has been externally modified or hasn&#39;t been loaded yet */</span></div>
<div class="line"><span class="lineno">  215</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno">  216</span>  {</div>
<div class="line"><span class="lineno">  217</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno">  219</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;<a class="code hl_variable" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  222</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 0;</div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent);</div>
<div class="line"><span class="lineno">  224</span>  }</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>  line = <a class="code hl_define" href="memory_8h.html#af997cb3719dc7abbeabae655d0ee1b9e">MUTT_MEM_MALLOC</a>(st.st_size + 1, <span class="keywordtype">char</span>);</div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">while</span> (st.st_size &amp;&amp; fgets(line, st.st_size + 1, <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>))</div>
<div class="line"><span class="lineno">  228</span>  {</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordtype">char</span> *b = NULL, *h = NULL;</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 1;</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordtype">bool</span> subs = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="comment">/* find end of newsgroup name */</span></div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordtype">char</span> *p = strpbrk(line, <span class="stringliteral">&quot;:!&quot;</span>);</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span> (!p)</div>
<div class="line"><span class="lineno">  236</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="comment">/* &quot;:&quot; - subscribed, &quot;!&quot; - unsubscribed */</span></div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno">  240</span>      subs = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  241</span>    *p++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">/* get newsgroup data */</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="newsrc_8c.html#a9f33e774091672b52c32fcdf3a96b05c">mdata_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>, line);</div>
<div class="line"><span class="lineno">  245</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent);</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">/* count number of entries */</span></div>
<div class="line"><span class="lineno">  248</span>    b = p;</div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">while</span> (*b)</div>
<div class="line"><span class="lineno">  250</span>      <span class="keywordflow">if</span> (*b++ == <span class="charliteral">&#39;,&#39;</span>)</div>
<div class="line"><span class="lineno">  251</span>        j++;</div>
<div class="line"><span class="lineno">  252</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(j, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed = subs;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="comment">/* parse entries */</span></div>
<div class="line"><span class="lineno">  256</span>    j = 0;</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">while</span> (p)</div>
<div class="line"><span class="lineno">  258</span>    {</div>
<div class="line"><span class="lineno">  259</span>      b = p;</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>      <span class="comment">/* find end of entry */</span></div>
<div class="line"><span class="lineno">  262</span>      p = strchr(p, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  263</span>      <span class="keywordflow">if</span> (p)</div>
<div class="line"><span class="lineno">  264</span>        *p++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>      <span class="comment">/* first-last or single number */</span></div>
<div class="line"><span class="lineno">  267</span>      h = strchr(b, <span class="charliteral">&#39;-&#39;</span>);</div>
<div class="line"><span class="lineno">  268</span>      <span class="keywordflow">if</span> (h)</div>
<div class="line"><span class="lineno">  269</span>        *h++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  270</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  271</span>        h = b;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>      <span class="keywordflow">if</span> ((sscanf(b, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first) == 1) &amp;&amp;</div>
<div class="line"><span class="lineno">  274</span>          (sscanf(h, <a class="code hl_define" href="#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].last) == 1))</div>
<div class="line"><span class="lineno">  275</span>      {</div>
<div class="line"><span class="lineno">  276</span>        j++;</div>
<div class="line"><span class="lineno">  277</span>      }</div>
<div class="line"><span class="lineno">  278</span>    }</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">if</span> (j == 0)</div>
<div class="line"><span class="lineno">  280</span>    {</div>
<div class="line"><span class="lineno">  281</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].first = 1;</div>
<div class="line"><span class="lineno">  282</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j].last = 0;</div>
<div class="line"><span class="lineno">  283</span>      j++;</div>
<div class="line"><span class="lineno">  284</span>    }</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message == 0)</div>
<div class="line"><span class="lineno">  286</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent[j - 1].last;</div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = j;</div>
<div class="line"><span class="lineno">  288</span>    <a class="code hl_define" href="memory_8h.html#abd7aad5fe8f11bcd476c64b4243081ba">MUTT_MEM_REALLOC</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent, j, <span class="keyword">struct</span> <a class="code hl_struct" href="structNewsrcEntry.html">NewsrcEntry</a>);</div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_function" href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group);</div>
<div class="line"><span class="lineno">  291</span>  }</div>
<div class="line"><span class="lineno">  292</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;line);</div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  294</span>}</div>
<div class="ttc" id="afile_8c_html_a4cdd1f9b1b370cbf5a8348f63cfe67cf"><div class="ttname"><a href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a></div><div class="ttdeci">int mutt_file_lock(int fd, bool excl, bool timeout)</div><div class="ttdoc">(Try to) Lock a file using fcntl()</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01092">file.c:1092</a></div></div>
<div class="ttc" id="anewsrc_8c_html_ab375e79092001683947b61e4079db8c0"><div class="ttname"><a href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a></div><div class="ttdeci">void nntp_group_unread_stat(struct NntpMboxData *mdata)</div><div class="ttdoc">Count number of unread articles using .newsrc data.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00133">newsrc.c:133</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a07329147457f52f9d362d7dc69bb0d68"><div class="ttname"><a href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">NntpAccountData::newsrc_modified</a></div><div class="ttdeci">bool newsrc_modified</div><div class="ttdoc">Newsrc file was modified.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_aa463e0294965977e77014d13a7741b47"><div class="ttname"><a href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">NntpAccountData::fp_newsrc</a></div><div class="ttdeci">FILE * fp_newsrc</div><div class="ttdoc">Newsrc file handle.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00050">adata.h:50</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdoc">Subscribed to this newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00042">mdata.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a57bd184c51b8701e9613761a629ca485_cgraph.svg" width="371" height="200"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-23" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a57bd184c51b8701e9613761a629ca485_icgraph.svg" width="358" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a64fdec9977db62a95daa5af59d280673" name="a64fdec9977db62a95daa5af59d280673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64fdec9977db62a95daa5af59d280673">&#9670;&#160;</a></span>nntp_newsrc_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_newsrc_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock and close .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00119">119</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>  <span class="keywordflow">if</span> (!adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Unlocking %s\n&quot;</span>, adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_function" href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a>(fileno(adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>));</div>
<div class="line"><span class="lineno">  126</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div>
<div class="line"><span class="lineno">  127</span>}</div>
<div class="ttc" id="afile_8c_html_a58563edc1ad32b074fb2425a929b0f39"><div class="ttname"><a href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a></div><div class="ttdeci">int mutt_file_unlock(int fd)</div><div class="ttdoc">Unlock a file previously locked by mutt_file_lock()</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01139">file.c:1139</a></div></div>
</div><!-- fragment --><div id="dynsection-24" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a64fdec9977db62a95daa5af59d280673_cgraph.svg" width="316" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-25" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a64fdec9977db62a95daa5af59d280673_icgraph.svg" width="722" height="495"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5d6b4cf3e2a57697ddf28fb7b616cb46" name="a5d6b4cf3e2a57697ddf28fb7b616cb46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d6b4cf3e2a57697ddf28fb7b616cb46">&#9670;&#160;</a></span>nntp_mailbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_mailbox </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get first newsgroup with new messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer.">Buffer</a> for result </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01307">1307</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1308</span>{</div>
<div class="line"><span class="lineno"> 1309</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>-&gt;groups_num; i++)</div>
<div class="line"><span class="lineno"> 1313</span>  {</div>
<div class="line"><span class="lineno"> 1314</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>-&gt;groups_list[i];</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> || !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed || !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread)</div>
<div class="line"><span class="lineno"> 1317</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>    <span class="keywordflow">if</span> ((m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1320</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, ((<span class="keyword">struct</span> <a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *) m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)-&gt;group))</div>
<div class="line"><span class="lineno"> 1321</span>    {</div>
<div class="line"><span class="lineno"> 1322</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; j++)</div>
<div class="line"><span class="lineno"> 1325</span>      {</div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structEmail.html">Email</a> *e = m-&gt;<a class="code hl_variable" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[j];</div>
<div class="line"><span class="lineno"> 1327</span>        <span class="keywordflow">if</span> (!e)</div>
<div class="line"><span class="lineno"> 1328</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1329</span>        <span class="keywordflow">if</span> (!e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> &amp;&amp; !e-&gt;<a class="code hl_variable" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a>)</div>
<div class="line"><span class="lineno"> 1330</span>          unread++;</div>
<div class="line"><span class="lineno"> 1331</span>      }</div>
<div class="line"><span class="lineno"> 1332</span>      <span class="keywordflow">if</span> (unread == 0)</div>
<div class="line"><span class="lineno"> 1333</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1334</span>    }</div>
<div class="line"><span class="lineno"> 1335</span>    <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, buflen);</div>
<div class="line"><span class="lineno"> 1336</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1337</span>  }</div>
<div class="line"><span class="lineno"> 1338</span>}</div>
</div><!-- fragment --><div id="dynsection-26" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5d6b4cf3e2a57697ddf28fb7b616cb46_cgraph.svg" width="278" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-27" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5d6b4cf3e2a57697ddf28fb7b616cb46_icgraph.svg" width="331" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aad55ac6624a236283f0521ebdee460eb" name="aad55ac6624a236283f0521ebdee460eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad55ac6624a236283f0521ebdee460eb">&#9670;&#160;</a></span>nntp_expand_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_expand_path </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structConnAccount.html">ConnAccount</a> *</td>          <td class="paramname"><span class="paramname"><em>cac</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make fully qualified url from newsgroup name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer.">Buffer</a> for the result </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
    <tr><td class="paramname">cac</td><td><a class="el" href="structAccount.html" title="A group of associated Mailboxes.">Account</a> to serialise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00555">555</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  556</span>{</div>
<div class="line"><span class="lineno">  557</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> url = { 0 };</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>  <a class="code hl_function" href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a>(cac, &amp;url);</div>
<div class="line"><span class="lineno">  560</span>  url.<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(buf);</div>
<div class="line"><span class="lineno">  561</span>  <a class="code hl_function" href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a>(&amp;url, buf, buflen, <a class="code hl_define" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  562</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;url.<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>);</div>
<div class="line"><span class="lineno">  563</span>}</div>
<div class="ttc" id="amutt_2string_8c_html_a3fe33d90e4814281cd57de048119c950"><div class="ttname"><a href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00257">string.c:257</a></div></div>
<div class="ttc" id="amutt__account_8c_html_aab5936a62e77123420e4c515904567f3"><div class="ttname"><a href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a></div><div class="ttdeci">void account_to_url(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account.</div><div class="ttdef"><b>Definition</b> <a href="mutt__account_8c_source.html#l00080">mutt_account.c:80</a></div></div>
<div class="ttc" id="aurl_8c_html_aa114f683b940e0773ca758b49a18a2a7"><div class="ttname"><a href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a></div><div class="ttdeci">int url_tostring(const struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00423">url.c:423</a></div></div>
<div class="ttc" id="aurl_8h_html_a04ddf99a809afcc240e4b3d517c98d20"><div class="ttname"><a href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a></div><div class="ttdeci">#define U_NO_FLAGS</div><div class="ttdoc">No flags are set for URL parsing.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00049">url.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-28" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aad55ac6624a236283f0521ebdee460eb_cgraph.svg" width="306" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-29" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aad55ac6624a236283f0521ebdee460eb_icgraph.svg" width="352" height="166"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0e57436b35d68983c6fe44815f3ad505" name="a0e57436b35d68983c6fe44815f3ad505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e57436b35d68983c6fe44815f3ad505">&#9670;&#160;</a></span>nntp_clear_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_clear_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *</td>          <td class="paramname"><span class="paramname"><em>adata</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the NNTP cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server</td></tr>
  </table>
  </dd>
</dl>
<p>Remove hcache and bcache of all unexistent and unsubscribed newsgroups </p>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00840">840</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  841</span>{</div>
<div class="line"><span class="lineno">  842</span>  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>  <span class="keyword">struct </span>dirent *de = NULL;</div>
<div class="line"><span class="lineno">  846</span>  DIR *dir = NULL;</div>
<div class="line"><span class="lineno">  847</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *cache = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  848</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *file = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  <a class="code hl_function" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(cache-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, cache-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>, &amp;adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, NULL);</div>
<div class="line"><span class="lineno">  851</span>  dir = <a class="code hl_function" href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(cache), <a class="code hl_enumvalue" href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a>);</div>
<div class="line"><span class="lineno">  852</span>  <span class="keywordflow">if</span> (!dir)</div>
<div class="line"><span class="lineno">  853</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>  <a class="code hl_function" href="buffer_8c.html#a9765efbb7f2c32e46fb1cb271a02ba20">buf_addch</a>(cache, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno">  856</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>  <span class="keywordflow">while</span> ((de = readdir(dir)))</div>
<div class="line"><span class="lineno">  859</span>  {</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordtype">char</span> *group = de-&gt;d_name;</div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(group, <span class="stringliteral">&quot;.&quot;</span>) || <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(group, <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno">  862</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(file, <span class="stringliteral">&quot;%s%s&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(cache), group);</div>
<div class="line"><span class="lineno">  865</span>    <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">if</span> (stat(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file), &amp;st) != 0)</div>
<div class="line"><span class="lineno">  867</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">if</span> (S_ISREG(st.st_mode))</div>
<div class="line"><span class="lineno">  871</span>    {</div>
<div class="line"><span class="lineno">  872</span>      <span class="keywordtype">char</span> *ext = group + strlen(group) - 7;</div>
<div class="line"><span class="lineno">  873</span>      <span class="keywordflow">if</span> ((strlen(group) &lt; 8) || !<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(ext, <span class="stringliteral">&quot;.hcache&quot;</span>))</div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  875</span>      *ext = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  876</span>    }</div>
<div class="line"><span class="lineno">  877</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  878</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  879</span>        <span class="keywordflow">if</span> (!S_ISDIR(st.st_mode))</div>
<div class="line"><span class="lineno">  880</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div>
<div class="line"><span class="lineno">  883</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno">  885</span>    {</div>
<div class="line"><span class="lineno">  886</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = &amp;tmp_mdata;</div>
<div class="line"><span class="lineno">  887</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div>
<div class="line"><span class="lineno">  888</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group = <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>;</div>
<div class="line"><span class="lineno">  889</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;bcache = NULL;</div>
<div class="line"><span class="lineno">  890</span>    }</div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent || <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed || c_save_unsubscribed)</div>
<div class="line"><span class="lineno">  892</span>    {</div>
<div class="line"><span class="lineno">  893</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  894</span>    }</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    <a class="code hl_function" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordflow">if</span> (S_ISDIR(st.st_mode))</div>
<div class="line"><span class="lineno">  898</span>    {</div>
<div class="line"><span class="lineno">  899</span>      rmdir(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file));</div>
<div class="line"><span class="lineno">  900</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(file));</div>
<div class="line"><span class="lineno">  901</span>    }</div>
<div class="line"><span class="lineno">  902</span>  }</div>
<div class="line"><span class="lineno">  903</span>  closedir(dir);</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>done:</div>
<div class="line"><span class="lineno">  906</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;cache);</div>
<div class="line"><span class="lineno">  907</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;file);</div>
<div class="line"><span class="lineno">  908</span>}</div>
<div class="ttc" id="abuffer_8c_html_a02123807d31181ac701b566226e93b33"><div class="ttname"><a href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a></div><div class="ttdeci">int buf_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00161">buffer.c:161</a></div></div>
<div class="ttc" id="abuffer_8c_html_a9765efbb7f2c32e46fb1cb271a02ba20"><div class="ttname"><a href="buffer_8c.html#a9765efbb7f2c32e46fb1cb271a02ba20">buf_addch</a></div><div class="ttdeci">size_t buf_addch(struct Buffer *buf, char c)</div><div class="ttdoc">Add a single character to a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00241">buffer.c:241</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="astructBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-30" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e57436b35d68983c6fe44815f3ad505_cgraph.svg" width="696" height="615"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-31" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e57436b35d68983c6fe44815f3ad505_icgraph.svg" width="346" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a308b3b2673b7f280d9dc16b42da7d1b6" name="a308b3b2673b7f280d9dc16b42da7d1b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a308b3b2673b7f280d9dc16b42da7d1b6">&#9670;&#160;</a></span>nntp_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_complete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Auto-complete NNTP newsgroups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer.">Buffer</a> containing pathname </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Match found </td></tr>
    <tr><td class="paramname">-1</td><td>No matches</td></tr>
  </table>
  </dd>
</dl>
<p>XXX rules </p>

<p class="definition">Definition at line <a class="el" href="nntp_2complete_8c_source.html#l00046">46</a> of file <a class="el" href="nntp_2complete_8c_source.html">complete.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{</div>
<div class="line"><span class="lineno">   48</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordtype">size_t</span> n = 0;</div>
<div class="line"><span class="lineno">   50</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *filepart = <a class="code hl_function" href="buffer_8c.html#a7f93abaa65bfc8c15c6ea5d02889c19d">buf_new</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(buf));</div>
<div class="line"><span class="lineno">   51</span>  <span class="keywordtype">bool</span> init = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>  <span class="comment">/* special case to handle when there is no filepart yet</span></div>
<div class="line"><span class="lineno">   54</span><span class="comment">   * find the first subscribed newsgroup */</span></div>
<div class="line"><span class="lineno">   55</span>  <span class="keywordtype">int</span> len = <a class="code hl_function" href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a>(filepart);</div>
<div class="line"><span class="lineno">   56</span>  <span class="keywordflow">if</span> (len == 0)</div>
<div class="line"><span class="lineno">   57</span>  {</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">for</span> (; n &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; n++)</div>
<div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[n];</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> &amp;&amp; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed)</div>
<div class="line"><span class="lineno">   63</span>      {</div>
<div class="line"><span class="lineno">   64</span>        <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(filepart, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group);</div>
<div class="line"><span class="lineno">   65</span>        init = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   66</span>        n++;</div>
<div class="line"><span class="lineno">   67</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   68</span>      }</div>
<div class="line"><span class="lineno">   69</span>    }</div>
<div class="line"><span class="lineno">   70</span>  }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>  <span class="keywordflow">for</span> (; n &lt; <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; n++)</div>
<div class="line"><span class="lineno">   73</span>  {</div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[n];</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> &amp;&amp; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed &amp;&amp;</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(filepart), len))</div>
<div class="line"><span class="lineno">   78</span>    {</div>
<div class="line"><span class="lineno">   79</span>      <span class="keywordflow">if</span> (init)</div>
<div class="line"><span class="lineno">   80</span>      {</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordtype">char</span> *str = filepart-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">for</span> (i = 0; (str[i] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group[i]; i++)</div>
<div class="line"><span class="lineno">   84</span>        {</div>
<div class="line"><span class="lineno">   85</span>          <span class="keywordflow">if</span> (str[i] != <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group[i])</div>
<div class="line"><span class="lineno">   86</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span>        str[i] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   89</span>        <a class="code hl_function" href="buffer_8c.html#a4964d146427002ec3b52e121513b6078">buf_fix_dptr</a>(filepart);</div>
<div class="line"><span class="lineno">   90</span>      }</div>
<div class="line"><span class="lineno">   91</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   92</span>      {</div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(filepart, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group);</div>
<div class="line"><span class="lineno">   94</span>        init = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   95</span>      }</div>
<div class="line"><span class="lineno">   96</span>    }</div>
<div class="line"><span class="lineno">   97</span>  }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(buf, filepart);</div>
<div class="line"><span class="lineno">  100</span>  <a class="code hl_function" href="buffer_8c.html#a608a2d4559c47be18b5e56cf520dfd73">buf_free</a>(&amp;filepart);</div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordflow">return</span> init ? 0 : -1;</div>
<div class="line"><span class="lineno">  102</span>}</div>
<div class="ttc" id="abuffer_8c_html_a2914dc2d9a9d77e4c9970b4249be9370"><div class="ttname"><a href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a></div><div class="ttdeci">size_t buf_len(const struct Buffer *buf)</div><div class="ttdoc">Calculate the length of a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00491">buffer.c:491</a></div></div>
<div class="ttc" id="abuffer_8c_html_a4964d146427002ec3b52e121513b6078"><div class="ttname"><a href="buffer_8c.html#a4964d146427002ec3b52e121513b6078">buf_fix_dptr</a></div><div class="ttdeci">void buf_fix_dptr(struct Buffer *buf)</div><div class="ttdoc">Move the dptr to end of the Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00182">buffer.c:182</a></div></div>
<div class="ttc" id="abuffer_8c_html_a608a2d4559c47be18b5e56cf520dfd73"><div class="ttname"><a href="buffer_8c.html#a608a2d4559c47be18b5e56cf520dfd73">buf_free</a></div><div class="ttdeci">void buf_free(struct Buffer **ptr)</div><div class="ttdoc">Deallocates a buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00319">buffer.c:319</a></div></div>
<div class="ttc" id="abuffer_8c_html_a7f93abaa65bfc8c15c6ea5d02889c19d"><div class="ttname"><a href="buffer_8c.html#a7f93abaa65bfc8c15c6ea5d02889c19d">buf_new</a></div><div class="ttdeci">struct Buffer * buf_new(const char *str)</div><div class="ttdoc">Allocate a new Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00304">buffer.c:304</a></div></div>
<div class="ttc" id="abuffer_8c_html_ac958acbd189e463a2c3bbc2f23aaeb1e"><div class="ttname"><a href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a></div><div class="ttdeci">size_t buf_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00395">buffer.c:395</a></div></div>
<div class="ttc" id="abuffer_8c_html_ad68834195d667b0932da5133a5402d70"><div class="ttname"><a href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a></div><div class="ttdeci">size_t buf_copy(struct Buffer *dst, const struct Buffer *src)</div><div class="ttdoc">Copy a Buffer&#39;s contents to another Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00601">buffer.c:601</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6f574867aa9db4d434adbc8af1f5f7e7"><div class="ttname"><a href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a></div><div class="ttdeci">bool mutt_strn_equal(const char *a, const char *b, size_t num)</div><div class="ttdoc">Check for equality of two strings (to a maximum), safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00429">string.c:429</a></div></div>
</div><!-- fragment --><div id="dynsection-32" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a308b3b2673b7f280d9dc16b42da7d1b6_cgraph.svg" width="411" height="435"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-33" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a308b3b2673b7f280d9dc16b42da7d1b6_icgraph.svg" width="288" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae58e3a5dcd99b6bbd0354b133fc220ce" name="ae58e3a5dcd99b6bbd0354b133fc220ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58e3a5dcd99b6bbd0354b133fc220ce">&#9670;&#160;</a></span>CurrentNewsSrv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a>* CurrentNewsSrv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current NNTP news server. </p>
<p>Current NNTP news server. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l00074">74</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>

</div>
</div>
<a id="aceb81cc70350b6de0506358f4c657778" name="aceb81cc70350b6de0506358f4c657778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceb81cc70350b6de0506358f4c657778">&#9670;&#160;</a></span>NntpRenderCallbacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structExpandoRenderCallback.html">ExpandoRenderCallback</a> NntpRenderCallbacks[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callbacks for Newsrc Expandos. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="nntp_2config_8c.html#a283336aa9e22831dcd4bb1f553b48d03" title="Expando definitions.">NntpFormatDef</a>, <a class="el" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829" title="Expando UIDs for NNTP.">ExpandoDataNntp</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="expando__newsrc_8c_source.html#l00161">161</a> of file <a class="el" href="expando__newsrc_8c_source.html">expando_newsrc.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>                                                           {</div>
<div class="line"><span class="lineno">  162</span>  <span class="comment">// clang-format off</span></div>
<div class="line"><span class="lineno">  163</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829af56e46b79c5acb8e2751711c82777a6b">ED_NTP_ACCOUNT</a>,  <a class="code hl_function" href="group__expando__get__string__api.html#ga3a5cbc62df38f7564771430a4144eeef">nntp_account</a>,  NULL },</div>
<div class="line"><span class="lineno">  164</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829afc22a3d4d992aa2d80ed2d52654a7792">ED_NTP_PORT</a>,     NULL,          <a class="code hl_function" href="group__expando__get__number__api.html#ga3c2615fd31d4baa5ee6e7ea5e95565a3">nntp_port</a> },</div>
<div class="line"><span class="lineno">  165</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a68f99930d4f6985a4a1236b2b4e788c6">ED_NTP_PORT_IF</a>,  <a class="code hl_function" href="group__expando__get__string__api.html#ga440b5ce3b2ed551cfda6c3aea5dfc4f5">nntp_port_if</a>,  <a class="code hl_function" href="group__expando__get__number__api.html#gafc5c038eee1960cc06dec2231ccd3c08">nntp_port_if_num</a> },</div>
<div class="line"><span class="lineno">  166</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a30a3aabc0276bc089845efc0efcc1bbe">ED_NTP_SCHEMA</a>,   <a class="code hl_function" href="group__expando__get__string__api.html#gacd4663d48ec8c764277e84156ecc225a">nntp_schema</a>,   NULL },</div>
<div class="line"><span class="lineno">  167</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a7a1aaca85517df1fdd41e78fc88fd2d6">ED_NTP_SERVER</a>,   <a class="code hl_function" href="group__expando__get__string__api.html#gabb4342166c13238ccc142636090ea1f1">nntp_server</a>,   NULL },</div>
<div class="line"><span class="lineno">  168</span>  { <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a>, <a class="code hl_enumvalue" href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a66f66609a5117c798d31415b46fb7ce5">ED_NTP_USERNAME</a>, <a class="code hl_function" href="group__expando__get__string__api.html#ga83363730f415c1bbe9c4f20f6d644a2f">nntp_username</a>, NULL },</div>
<div class="line"><span class="lineno">  169</span>  { -1, -1, NULL, NULL },</div>
<div class="line"><span class="lineno">  170</span>  <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">  171</span>};</div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829a30a3aabc0276bc089845efc0efcc1bbe"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a30a3aabc0276bc089845efc0efcc1bbe">ED_NTP_SCHEMA</a></div><div class="ttdeci">@ ED_NTP_SCHEMA</div><div class="ttdoc">ConnAccount.account.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00085">connaccount.h:85</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829a66f66609a5117c798d31415b46fb7ce5"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a66f66609a5117c798d31415b46fb7ce5">ED_NTP_USERNAME</a></div><div class="ttdeci">@ ED_NTP_USERNAME</div><div class="ttdoc">ConnAccount.user.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00087">connaccount.h:87</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829a68f99930d4f6985a4a1236b2b4e788c6"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a68f99930d4f6985a4a1236b2b4e788c6">ED_NTP_PORT_IF</a></div><div class="ttdeci">@ ED_NTP_PORT_IF</div><div class="ttdoc">ConnAccount.port.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00084">connaccount.h:84</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829a7a1aaca85517df1fdd41e78fc88fd2d6"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829a7a1aaca85517df1fdd41e78fc88fd2d6">ED_NTP_SERVER</a></div><div class="ttdeci">@ ED_NTP_SERVER</div><div class="ttdoc">ConnAccount.account.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00086">connaccount.h:86</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829af56e46b79c5acb8e2751711c82777a6b"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829af56e46b79c5acb8e2751711c82777a6b">ED_NTP_ACCOUNT</a></div><div class="ttdeci">@ ED_NTP_ACCOUNT</div><div class="ttdoc">ConnAccount.account.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00082">connaccount.h:82</a></div></div>
<div class="ttc" id="aconnaccount_8h_html_a66f0ae92b1de1e7e8b78a2c24c78f829afc22a3d4d992aa2d80ed2d52654a7792"><div class="ttname"><a href="connaccount_8h.html#a66f0ae92b1de1e7e8b78a2c24c78f829afc22a3d4d992aa2d80ed2d52654a7792">ED_NTP_PORT</a></div><div class="ttdeci">@ ED_NTP_PORT</div><div class="ttdoc">ConnAccount.port.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00083">connaccount.h:83</a></div></div>
<div class="ttc" id="adomain_8h_html_a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c"><div class="ttname"><a href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af625dabaca82b2e5a4fefe1598586d0c">ED_NNTP</a></div><div class="ttdeci">@ ED_NNTP</div><div class="ttdoc">Nntp ED_NTP_ ExpandoDataNntp.</div><div class="ttdef"><b>Definition</b> <a href="domain_8h_source.html#l00050">domain.h:50</a></div></div>
<div class="ttc" id="agroup__expando__get__number__api_html_ga3c2615fd31d4baa5ee6e7ea5e95565a3"><div class="ttname"><a href="group__expando__get__number__api.html#ga3c2615fd31d4baa5ee6e7ea5e95565a3">nntp_port</a></div><div class="ttdeci">static long nntp_port(const struct ExpandoNode *node, void *data, MuttFormatFlags flags)</div><div class="ttdoc">Newsrc: Port - Implements get_number_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00066">expando_newsrc.c:66</a></div></div>
<div class="ttc" id="agroup__expando__get__number__api_html_gafc5c038eee1960cc06dec2231ccd3c08"><div class="ttname"><a href="group__expando__get__number__api.html#gafc5c038eee1960cc06dec2231ccd3c08">nntp_port_if_num</a></div><div class="ttdeci">static long nntp_port_if_num(const struct ExpandoNode *node, void *data, MuttFormatFlags flags)</div><div class="ttdoc">Newsrc: Port if specified - Implements get_number_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00077">expando_newsrc.c:77</a></div></div>
<div class="ttc" id="agroup__expando__get__string__api_html_ga3a5cbc62df38f7564771430a4144eeef"><div class="ttname"><a href="group__expando__get__string__api.html#ga3a5cbc62df38f7564771430a4144eeef">nntp_account</a></div><div class="ttdeci">static void nntp_account(const struct ExpandoNode *node, void *data, MuttFormatFlags flags, struct Buffer *buf)</div><div class="ttdoc">Newsrc: Account url - Implements get_string_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00043">expando_newsrc.c:43</a></div></div>
<div class="ttc" id="agroup__expando__get__string__api_html_ga440b5ce3b2ed551cfda6c3aea5dfc4f5"><div class="ttname"><a href="group__expando__get__string__api.html#ga440b5ce3b2ed551cfda6c3aea5dfc4f5">nntp_port_if</a></div><div class="ttdeci">static void nntp_port_if(const struct ExpandoNode *node, void *data, MuttFormatFlags flags, struct Buffer *buf)</div><div class="ttdoc">Newsrc: Port if specified - Implements get_string_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00091">expando_newsrc.c:91</a></div></div>
<div class="ttc" id="agroup__expando__get__string__api_html_ga83363730f415c1bbe9c4f20f6d644a2f"><div class="ttname"><a href="group__expando__get__string__api.html#ga83363730f415c1bbe9c4f20f6d644a2f">nntp_username</a></div><div class="ttdeci">static void nntp_username(const struct ExpandoNode *node, void *data, MuttFormatFlags flags, struct Buffer *buf)</div><div class="ttdoc">Newsrc: Username - Implements get_string_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00146">expando_newsrc.c:146</a></div></div>
<div class="ttc" id="agroup__expando__get__string__api_html_gabb4342166c13238ccc142636090ea1f1"><div class="ttname"><a href="group__expando__get__string__api.html#gabb4342166c13238ccc142636090ea1f1">nntp_server</a></div><div class="ttdeci">static void nntp_server(const struct ExpandoNode *node, void *data, MuttFormatFlags flags, struct Buffer *buf)</div><div class="ttdoc">Newsrc: News server name - Implements get_string_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00129">expando_newsrc.c:129</a></div></div>
<div class="ttc" id="agroup__expando__get__string__api_html_gacd4663d48ec8c764277e84156ecc225a"><div class="ttname"><a href="group__expando__get__string__api.html#gacd4663d48ec8c764277e84156ecc225a">nntp_schema</a></div><div class="ttdeci">static void nntp_schema(const struct ExpandoNode *node, void *data, MuttFormatFlags flags, struct Buffer *buf)</div><div class="ttdoc">Newsrc: Url schema - Implements get_string_t -.</div><div class="ttdef"><b>Definition</b> <a href="expando__newsrc_8c_source.html#l00106">expando_newsrc.c:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
