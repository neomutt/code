<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: mbox_open()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-09-05-43-g177ed6</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__mx__mbox__open.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mbox_open()<div class="ingroups"><a class="el" href="group__mx__api.html">Mailbox API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for mbox_open():</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open.svg" width="256" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga017f8938078bb770eb825f2de2e588b0" id="r_ga017f8938078bb770eb825f2de2e588b0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga017f8938078bb770eb825f2de2e588b0">comp_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga017f8938078bb770eb825f2de2e588b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:ga017f8938078bb770eb825f2de2e588b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac97da7839145e4cf23c319967ecc7001" id="r_gac97da7839145e4cf23c319967ecc7001"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac97da7839145e4cf23c319967ecc7001">imap_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gac97da7839145e4cf23c319967ecc7001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a mailbox - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:gac97da7839145e4cf23c319967ecc7001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a3ec86f8ca14e073f6dfc37d03689b7" id="r_ga1a3ec86f8ca14e073f6dfc37d03689b7"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a3ec86f8ca14e073f6dfc37d03689b7">maildir_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga1a3ec86f8ca14e073f6dfc37d03689b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:ga1a3ec86f8ca14e073f6dfc37d03689b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0908167a905e8a9d3e3541e7c5a416e" id="r_gaa0908167a905e8a9d3e3541e7c5a416e"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa0908167a905e8a9d3e3541e7c5a416e">mbox_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gaa0908167a905e8a9d3e3541e7c5a416e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:gaa0908167a905e8a9d3e3541e7c5a416e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7ce024784207f6e476aa788c55b0e9b" id="r_gab7ce024784207f6e476aa788c55b0e9b"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab7ce024784207f6e476aa788c55b0e9b">mh_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gab7ce024784207f6e476aa788c55b0e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:gab7ce024784207f6e476aa788c55b0e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga958364186e337ca6168094e57f038296" id="r_ga958364186e337ca6168094e57f038296"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga958364186e337ca6168094e57f038296">nntp_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga958364186e337ca6168094e57f038296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:ga958364186e337ca6168094e57f038296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad12c3265a631efb7b39b28fae19121c" id="r_gaad12c3265a631efb7b39b28fae19121c"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaad12c3265a631efb7b39b28fae19121c">nm_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gaad12c3265a631efb7b39b28fae19121c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:gaad12c3265a631efb7b39b28fae19121c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0de2de1958a22ca0679ea67f4f434db2" id="r_ga0de2de1958a22ca0679ea67f4f434db2"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0de2de1958a22ca0679ea67f4f434db2">pop_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga0de2de1958a22ca0679ea67f4f434db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:ga0de2de1958a22ca0679ea67f4f434db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">enum</td><td><a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad" title="Return values for mbox_open()">MxOpenReturns</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>m is not NULL </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga017f8938078bb770eb825f2de2e588b0" name="ga017f8938078bb770eb825f2de2e588b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga017f8938078bb770eb825f2de2e588b0">&#9670;&#160;</a></span>comp_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> comp_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>
<p>Set up a compressed mailbox to be read. Decompress the mailbox and set up the paths and hooks needed. Then determine the type of the mailbox so we can delegate the handling of messages. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00413">413</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{</div>
<div class="line"><span class="lineno">  415</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = <a class="code hl_function" href="compmbox_2compress_8c.html#a5a32c514bae251affffd84d7328af23a">set_compress_info</a>(m);</div>
<div class="line"><span class="lineno">  416</span>  <span class="keywordflow">if</span> (!ci)</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>  <span class="comment">/* If there&#39;s no close-hook, or the file isn&#39;t writable */</span></div>
<div class="line"><span class="lineno">  420</span>  <span class="keywordflow">if</span> (!ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">cmd_close</a> || (access(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), W_OK) != 0))</div>
<div class="line"><span class="lineno">  421</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="compmbox_2compress_8c.html#a60e1b3c821fbb441941a42b24149fbb3">setup_paths</a>(m) != 0)</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">goto</span> cmo_fail;</div>
<div class="line"><span class="lineno">  425</span>  <a class="code hl_function" href="compmbox_2compress_8c.html#a877acb05482802a48bc56da5e24c8c54">store_size</a>(m);</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="compmbox_2compress_8c.html#a8c82fa05ac9a30a1cd0e5c5b472ae066">lock_realpath</a>(m, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno">  428</span>  {</div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unable to lock mailbox&quot;</span>));</div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">goto</span> cmo_fail;</div>
<div class="line"><span class="lineno">  431</span>  }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="compmbox_2compress_8c.html#ac72bc28dc8d4e5d6e73aeb6607acfcc6">execute_command</a>(m, ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a0a2254cd8b511a6a5f6b726961252095">cmd_open</a>, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decompressing %s&quot;</span>)))</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">goto</span> cmo_fail;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>  <a class="code hl_function" href="compmbox_2compress_8c.html#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a>(m);</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> = <a class="code hl_function" href="mx_8c.html#add36baf7d8410fb37158defdaebe9a5d">mx_path_probe</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  439</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608">MUTT_UNKNOWN</a>)</div>
<div class="line"><span class="lineno">  440</span>  {</div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t identify the contents of the compressed file&quot;</span>));</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">goto</span> cmo_fail;</div>
<div class="line"><span class="lineno">  443</span>  }</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a> = <a class="code hl_function" href="mx_8c.html#aa5b819072a9b84aee79c29a5738c3139">mx_get_ops</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>);</div>
<div class="line"><span class="lineno">  446</span>  <span class="keywordflow">if</span> (!ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a>)</div>
<div class="line"><span class="lineno">  447</span>  {</div>
<div class="line"><span class="lineno">  448</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t find mailbox ops for mailbox type %d&quot;</span>), m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>);</div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">goto</span> cmo_fail;</div>
<div class="line"><span class="lineno">  450</span>  }</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#a1aa62f517fae4248e51123f38fd3ebba">type</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>;</div>
<div class="line"><span class="lineno">  453</span>  <span class="keywordflow">return</span> ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a>-&gt;<a class="code hl_variable" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">mbox_open</a>(m);</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>cmo_fail:</div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">/* remove the partial uncompressed file */</span></div>
<div class="line"><span class="lineno">  457</span>  (void) remove(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  458</span>  <a class="code hl_function" href="compmbox_2compress_8c.html#a5ae987f4dda46e1423fedf6a0ac0b2de">compress_info_free</a>(m);</div>
<div class="line"><span class="lineno">  459</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  460</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_a5a32c514bae251affffd84d7328af23a"><div class="ttname"><a href="compmbox_2compress_8c.html#a5a32c514bae251affffd84d7328af23a">set_compress_info</a></div><div class="ttdeci">static struct CompressInfo * set_compress_info(struct Mailbox *m)</div><div class="ttdoc">Find the compress hooks for a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00233">compress.c:233</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_a5ae987f4dda46e1423fedf6a0ac0b2de"><div class="ttname"><a href="compmbox_2compress_8c.html#a5ae987f4dda46e1423fedf6a0ac0b2de">compress_info_free</a></div><div class="ttdeci">static void compress_info_free(struct Mailbox *m)</div><div class="ttdoc">Frees the compress info members and structure.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00263">compress.c:263</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_a60e1b3c821fbb441941a42b24149fbb3"><div class="ttname"><a href="compmbox_2compress_8c.html#a60e1b3c821fbb441941a42b24149fbb3">setup_paths</a></div><div class="ttdeci">static int setup_paths(struct Mailbox *m)</div><div class="ttdoc">Set the mailbox paths.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00173">compress.c:173</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_a877acb05482802a48bc56da5e24c8c54"><div class="ttname"><a href="compmbox_2compress_8c.html#a877acb05482802a48bc56da5e24c8c54">store_size</a></div><div class="ttdeci">static void store_size(const struct Mailbox *m)</div><div class="ttdoc">Save the size of the compressed file.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00196">compress.c:196</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_a8c82fa05ac9a30a1cd0e5c5b472ae066"><div class="ttname"><a href="compmbox_2compress_8c.html#a8c82fa05ac9a30a1cd0e5c5b472ae066">lock_realpath</a></div><div class="ttdeci">static bool lock_realpath(struct Mailbox *m, bool excl)</div><div class="ttdoc">Try to lock the Mailbox.realpath.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00106">compress.c:106</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_aa35e239a0ed2772ae5824c317276f83a"><div class="ttname"><a href="compmbox_2compress_8c.html#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a></div><div class="ttdeci">static void unlock_realpath(struct Mailbox *m)</div><div class="ttdoc">Unlock the mailbox-&gt;realpath.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00147">compress.c:147</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_ac72bc28dc8d4e5d6e73aeb6607acfcc6"><div class="ttname"><a href="compmbox_2compress_8c.html#ac72bc28dc8d4e5d6e73aeb6607acfcc6">execute_command</a></div><div class="ttdeci">static bool execute_command(struct Mailbox *m, const struct Expando *exp, const char *progress)</div><div class="ttdoc">Run a system command.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00289">compress.c:289</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a7e9739eb3e94344633f7051c2fb9453e"><div class="ttname"><a href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&#39;s path string.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00223">mailbox.h:223</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608">MUTT_UNKNOWN</a></div><div class="ttdeci">@ MUTT_UNKNOWN</div><div class="ttdoc">Mailbox wasn&#39;t recognised.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00044">mailbox.h:44</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amx_8c_html_aa5b819072a9b84aee79c29a5738c3139"><div class="ttname"><a href="mx_8c.html#aa5b819072a9b84aee79c29a5738c3139">mx_get_ops</a></div><div class="ttdeci">const struct MxOps * mx_get_ops(enum MailboxType type)</div><div class="ttdoc">Get mailbox operations.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l00127">mx.c:127</a></div></div>
<div class="ttc" id="amx_8c_html_add36baf7d8410fb37158defdaebe9a5d"><div class="ttname"><a href="mx_8c.html#add36baf7d8410fb37158defdaebe9a5d">mx_path_probe</a></div><div class="ttdeci">enum MailboxType mx_path_probe(const char *path)</div><div class="ttdoc">Find a mailbox that understands a path.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01326">mx.c:1326</a></div></div>
<div class="ttc" id="amxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdeci">@ MX_OPEN_ERROR</div><div class="ttdoc">Open failed with an error.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00075">mxapi.h:75</a></div></div>
<div class="ttc" id="astructAccount_html_a1aa62f517fae4248e51123f38fd3ebba"><div class="ttname"><a href="structAccount.html#a1aa62f517fae4248e51123f38fd3ebba">Account::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Type of Mailboxes this Account contains.</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00037">account.h:37</a></div></div>
<div class="ttc" id="astructCompressInfo_html"><div class="ttname"><a href="structCompressInfo.html">CompressInfo</a></div><div class="ttdoc">Private data for compress.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00059">lib.h:60</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a0a2254cd8b511a6a5f6b726961252095"><div class="ttname"><a href="structCompressInfo.html#a0a2254cd8b511a6a5f6b726961252095">CompressInfo::cmd_open</a></div><div class="ttdeci">struct Expando * cmd_open</div><div class="ttdoc">open-hook command</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a9f6c41db8d4f70ebb317146dfa5e0472"><div class="ttname"><a href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">CompressInfo::child_ops</a></div><div class="ttdeci">const struct MxOps * child_ops</div><div class="ttdoc">callbacks of de-compressed file</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00065">lib.h:65</a></div></div>
<div class="ttc" id="astructCompressInfo_html_aef70fbe59eca22ca5326424873ffeaae"><div class="ttname"><a href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">CompressInfo::cmd_close</a></div><div class="ttdeci">struct Expando * cmd_close</div><div class="ttdoc">close-hook command</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="astructMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00102">mailbox.h:102</a></div></div>
<div class="ttc" id="astructMailbox_html_ab9a4528fcd39e61bdefd4dcfdbc6252f"><div class="ttname"><a href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">Mailbox::account</a></div><div class="ttdeci">struct Account * account</div><div class="ttdoc">Account that owns this Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00127">mailbox.h:127</a></div></div>
<div class="ttc" id="astructMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&#39;t allow changes to the mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00116">mailbox.h:116</a></div></div>
<div class="ttc" id="astructMxOps_html_ac504b1095f3ce15cae85466ab6c7bd45"><div class="ttname"><a href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open</a></div><div class="ttdeci">enum MxOpenReturns(* mbox_open)(struct Mailbox *m)</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00121">mxapi.h:133</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga017f8938078bb770eb825f2de2e588b0_cgraph.svg" width="502" height="515"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac97da7839145e4cf23c319967ecc7001" name="gac97da7839145e4cf23c319967ecc7001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac97da7839145e4cf23c319967ecc7001">&#9670;&#160;</a></span>imap_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> imap_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a mailbox - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="imap_8c_source.html#l01871">1871</a> of file <a class="el" href="imap_8c_source.html">imap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1872</span>{</div>
<div class="line"><span class="lineno"> 1873</span>  <span class="keywordflow">if</span> (!m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a> || !m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 1874</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1875</span> </div>
<div class="line"><span class="lineno"> 1876</span>  <span class="keywordtype">char</span> buf[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 1877</span>  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno"> 1878</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno"> 1879</span> </div>
<div class="line"><span class="lineno"> 1880</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structImapAccountData.html">ImapAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="imap_2adata_8c.html#abe5c03ce9b5a9a60450482316b4d99ea">imap_adata_get</a>(m);</div>
<div class="line"><span class="lineno"> 1881</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structImapMboxData.html">ImapMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="imap_2mdata_8c.html#a567e2876fed5edb8626c5fefba4ac7ce">imap_mdata_get</a>(m);</div>
<div class="line"><span class="lineno"> 1882</span> </div>
<div class="line"><span class="lineno"> 1883</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;opening %s, saving %s\n&quot;</span>, m-&gt;<a class="code hl_variable" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>.<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>,</div>
<div class="line"><span class="lineno"> 1884</span>             (adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a> ? adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>.<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a> : <span class="stringliteral">&quot;(none)&quot;</span>));</div>
<div class="line"><span class="lineno"> 1885</span>  adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#a1d1842d28b0455afee7ddd7f829f6c02">prev_mailbox</a> = adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a>;</div>
<div class="line"><span class="lineno"> 1886</span>  adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a> = m;</div>
<div class="line"><span class="lineno"> 1887</span> </div>
<div class="line"><span class="lineno"> 1888</span>  <span class="comment">/* clear mailbox status */</span></div>
<div class="line"><span class="lineno"> 1889</span>  adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ac6488a600297eee1e5d203872e93f9d2">status</a> = 0;</div>
<div class="line"><span class="lineno"> 1890</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> = 0;</div>
<div class="line"><span class="lineno"> 1891</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;new_mail_count = 0;</div>
<div class="line"><span class="lineno"> 1892</span> </div>
<div class="line"><span class="lineno"> 1893</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>)</div>
<div class="line"><span class="lineno"> 1894</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Selecting %s...&quot;</span>), <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;name);</div>
<div class="line"><span class="lineno"> 1895</span> </div>
<div class="line"><span class="lineno"> 1896</span>  <span class="comment">/* pipeline ACL test */</span></div>
<div class="line"><span class="lineno"> 1897</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">capabilities</a> &amp; <a class="code hl_define" href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a>)</div>
<div class="line"><span class="lineno"> 1898</span>  {</div>
<div class="line"><span class="lineno"> 1899</span>    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;MYRIGHTS %s&quot;</span>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;munge_name);</div>
<div class="line"><span class="lineno"> 1900</span>    <a class="code hl_function" href="imap_2command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a>(adata, buf, <a class="code hl_define" href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a>);</div>
<div class="line"><span class="lineno"> 1901</span>  }</div>
<div class="line"><span class="lineno"> 1902</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1903</span>  {</div>
<div class="line"><span class="lineno"> 1904</span>    <span class="comment">/* assume we have all rights if ACL is unavailable */</span></div>
<div class="line"><span class="lineno"> 1905</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> |= <a class="code hl_define" href="core_2mailbox_8h.html#a2f00180fcee84fde51fd10c718a21201">MUTT_ACL_LOOKUP</a> | <a class="code hl_define" href="core_2mailbox_8h.html#aff498ce9ba288f7b247c4a408721a6db">MUTT_ACL_READ</a> | <a class="code hl_define" href="core_2mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a> | <a class="code hl_define" href="core_2mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a> |</div>
<div class="line"><span class="lineno"> 1906</span>                 <a class="code hl_define" href="core_2mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a> | <a class="code hl_define" href="core_2mailbox_8h.html#a1860842fb9744ebdd3d7bfeffb4f60be">MUTT_ACL_POST</a> | <a class="code hl_define" href="core_2mailbox_8h.html#a006b7689f9d9582b246d4761ba6e2585">MUTT_ACL_CREATE</a> | <a class="code hl_define" href="core_2mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>;</div>
<div class="line"><span class="lineno"> 1907</span>  }</div>
<div class="line"><span class="lineno"> 1908</span> </div>
<div class="line"><span class="lineno"> 1909</span>  <span class="comment">/* pipeline the postponed count if possible */</span></div>
<div class="line"><span class="lineno"> 1910</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_postponed = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;postponed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1911</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMailbox.html">Mailbox</a> *m_postponed = <a class="code hl_function" href="mx_8c.html#a9a98f92f924c6fd227010615dd3e454c">mx_mbox_find2</a>(c_postponed);</div>
<div class="line"><span class="lineno"> 1912</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structImapAccountData.html">ImapAccountData</a> *postponed_adata = <a class="code hl_function" href="imap_2adata_8c.html#abe5c03ce9b5a9a60450482316b4d99ea">imap_adata_get</a>(m_postponed);</div>
<div class="line"><span class="lineno"> 1913</span>  <span class="keywordflow">if</span> (postponed_adata &amp;&amp;</div>
<div class="line"><span class="lineno"> 1914</span>      <a class="code hl_function" href="imap_2private_8h.html#ac2225c270b21b238b8f64e1f7090baf0">imap_account_match</a>(&amp;postponed_adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#af7d73598916e5b0b789c78c904ff47a4">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, &amp;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;conn-&gt;account))</div>
<div class="line"><span class="lineno"> 1915</span>  {</div>
<div class="line"><span class="lineno"> 1916</span>    <a class="code hl_function" href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a>(m_postponed, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1917</span>  }</div>
<div class="line"><span class="lineno"> 1918</span> </div>
<div class="line"><span class="lineno"> 1919</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_imap_check_subscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;imap_check_subscribed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1920</span>  <span class="keywordflow">if</span> (c_imap_check_subscribed)</div>
<div class="line"><span class="lineno"> 1921</span>    <a class="code hl_function" href="imap_2command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>, <span class="stringliteral">&quot;LSUB \&quot;\&quot; \&quot;*\&quot;&quot;</span>, <a class="code hl_define" href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a>);</div>
<div class="line"><span class="lineno"> 1922</span> </div>
<div class="line"><span class="lineno"> 1923</span>  <a class="code hl_function" href="imap_8c.html#ae508cb6f612071ea4549814aa3532c89">imap_mbox_select</a>(m);</div>
<div class="line"><span class="lineno"> 1924</span> </div>
<div class="line"><span class="lineno"> 1925</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1926</span>  {</div>
<div class="line"><span class="lineno"> 1927</span>    <span class="keywordtype">char</span> *pc = NULL;</div>
<div class="line"><span class="lineno"> 1928</span> </div>
<div class="line"><span class="lineno"> 1929</span>    rc = <a class="code hl_function" href="imap_2command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>);</div>
<div class="line"><span class="lineno"> 1930</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_define" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>)</div>
<div class="line"><span class="lineno"> 1931</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1932</span> </div>
<div class="line"><span class="lineno"> 1933</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;buf, <span class="stringliteral">&quot;* &quot;</span>, 2))</div>
<div class="line"><span class="lineno"> 1934</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1935</span>    pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;buf);</div>
<div class="line"><span class="lineno"> 1936</span> </div>
<div class="line"><span class="lineno"> 1937</span>    <span class="comment">/* Obtain list of available flags here, may be overridden by a</span></div>
<div class="line"><span class="lineno"> 1938</span><span class="comment">     * PERMANENTFLAGS tag in the OK response */</span></div>
<div class="line"><span class="lineno"> 1939</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;FLAGS&quot;</span>))</div>
<div class="line"><span class="lineno"> 1940</span>    {</div>
<div class="line"><span class="lineno"> 1941</span>      <span class="comment">/* don&#39;t override PERMANENTFLAGS */</span></div>
<div class="line"><span class="lineno"> 1942</span>      <span class="keywordflow">if</span> (<a class="code hl_define" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>))</div>
<div class="line"><span class="lineno"> 1943</span>      {</div>
<div class="line"><span class="lineno"> 1944</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox FLAGS\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1945</span>        pc = <a class="code hl_function" href="imap_8c.html#ad0c94b5dea653ee8d1b5974a80c772a3">get_flags</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>, pc);</div>
<div class="line"><span class="lineno"> 1946</span>        <span class="keywordflow">if</span> (!pc)</div>
<div class="line"><span class="lineno"> 1947</span>          <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1948</span>      }</div>
<div class="line"><span class="lineno"> 1949</span>    }</div>
<div class="line"><span class="lineno"> 1950</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [PERMANENTFLAGS&quot;</span>))</div>
<div class="line"><span class="lineno"> 1951</span>    {</div>
<div class="line"><span class="lineno"> 1952</span>      <span class="comment">/* PERMANENTFLAGS are massaged to look like FLAGS, then override FLAGS */</span></div>
<div class="line"><span class="lineno"> 1953</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox PERMANENTFLAGS\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1954</span>      <span class="comment">/* safe to call on NULL */</span></div>
<div class="line"><span class="lineno"> 1955</span>      <a class="code hl_function" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>);</div>
<div class="line"><span class="lineno"> 1956</span>      <span class="comment">/* skip &quot;OK [PERMANENT&quot; so syntax is the same as FLAGS */</span></div>
<div class="line"><span class="lineno"> 1957</span>      pc += 13;</div>
<div class="line"><span class="lineno"> 1958</span>      pc = <a class="code hl_function" href="imap_8c.html#ad0c94b5dea653ee8d1b5974a80c772a3">get_flags</a>(&amp;(mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>), pc);</div>
<div class="line"><span class="lineno"> 1959</span>      <span class="keywordflow">if</span> (!pc)</div>
<div class="line"><span class="lineno"> 1960</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1961</span>    }</div>
<div class="line"><span class="lineno"> 1962</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [UIDVALIDITY&quot;</span>))</div>
<div class="line"><span class="lineno"> 1963</span>    {</div>
<div class="line"><span class="lineno"> 1964</span>      <span class="comment">/* save UIDVALIDITY for the header cache */</span></div>
<div class="line"><span class="lineno"> 1965</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox UIDVALIDITY\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1966</span>      pc += 3;</div>
<div class="line"><span class="lineno"> 1967</span>      pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 1968</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="atoi_8c.html#ad704fc34b6f2eb2132de8bf992994ac1">mutt_str_atoui</a>(pc, &amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#ad03723407a1adabc338541cae865fc82">uidvalidity</a>))</div>
<div class="line"><span class="lineno"> 1969</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1970</span>    }</div>
<div class="line"><span class="lineno"> 1971</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [UIDNEXT&quot;</span>))</div>
<div class="line"><span class="lineno"> 1972</span>    {</div>
<div class="line"><span class="lineno"> 1973</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox UIDNEXT\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1974</span>      pc += 3;</div>
<div class="line"><span class="lineno"> 1975</span>      pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 1976</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="atoi_8c.html#ad704fc34b6f2eb2132de8bf992994ac1">mutt_str_atoui</a>(pc, &amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a07a8887ba1a079dd0d5079e0df523f97">uid_next</a>))</div>
<div class="line"><span class="lineno"> 1977</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1978</span>    }</div>
<div class="line"><span class="lineno"> 1979</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [HIGHESTMODSEQ&quot;</span>))</div>
<div class="line"><span class="lineno"> 1980</span>    {</div>
<div class="line"><span class="lineno"> 1981</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox HIGHESTMODSEQ\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1982</span>      pc += 3;</div>
<div class="line"><span class="lineno"> 1983</span>      pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 1984</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="atoi_8c.html#a1825225ac6d68f6215d49ee558623fa8">mutt_str_atoull</a>(pc, &amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">modseq</a>))</div>
<div class="line"><span class="lineno"> 1985</span>        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 1986</span>    }</div>
<div class="line"><span class="lineno"> 1987</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [NOMODSEQ&quot;</span>))</div>
<div class="line"><span class="lineno"> 1988</span>    {</div>
<div class="line"><span class="lineno"> 1989</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Mailbox has NOMODSEQ set\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1990</span>      mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">modseq</a> = 0;</div>
<div class="line"><span class="lineno"> 1991</span>    }</div>
<div class="line"><span class="lineno"> 1992</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1993</span>    {</div>
<div class="line"><span class="lineno"> 1994</span>      pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 1995</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;EXISTS&quot;</span>))</div>
<div class="line"><span class="lineno"> 1996</span>      {</div>
<div class="line"><span class="lineno"> 1997</span>        count = mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">new_mail_count</a>;</div>
<div class="line"><span class="lineno"> 1998</span>        mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">new_mail_count</a> = 0;</div>
<div class="line"><span class="lineno"> 1999</span>      }</div>
<div class="line"><span class="lineno"> 2000</span>    }</div>
<div class="line"><span class="lineno"> 2001</span>  } <span class="keywordflow">while</span> (rc == <a class="code hl_define" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>);</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>  <span class="keywordflow">if</span> (rc == <a class="code hl_define" href="imap_2private_8h.html#ac10fb2fab1bc13f077a3c973883d8088">IMAP_RES_NO</a>)</div>
<div class="line"><span class="lineno"> 2004</span>  {</div>
<div class="line"><span class="lineno"> 2005</span>    <span class="keywordtype">char</span> *s = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;buf); <span class="comment">/* skip seq */</span></div>
<div class="line"><span class="lineno"> 2006</span>    s = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(s);                <span class="comment">/* Skip response */</span></div>
<div class="line"><span class="lineno"> 2007</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, s);</div>
<div class="line"><span class="lineno"> 2008</span>    <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 2009</span>  }</div>
<div class="line"><span class="lineno"> 2010</span> </div>
<div class="line"><span class="lineno"> 2011</span>  <span class="keywordflow">if</span> (rc != <a class="code hl_define" href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a>)</div>
<div class="line"><span class="lineno"> 2012</span>    <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>  <span class="comment">/* check for READ-ONLY notification */</span></div>
<div class="line"><span class="lineno"> 2015</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<a class="code hl_function" href="imap_2private_8h.html#af7e377ed18e6573f09e3fc0ead565064">imap_get_qualifier</a>(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;buf), <span class="stringliteral">&quot;[READ-ONLY]&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2016</span>      !(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;capabilities &amp; <a class="code hl_define" href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a>))</div>
<div class="line"><span class="lineno"> 2017</span>  {</div>
<div class="line"><span class="lineno"> 2018</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;Mailbox is read-only\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2019</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2020</span>  }</div>
<div class="line"><span class="lineno"> 2021</span> </div>
<div class="line"><span class="lineno"> 2022</span>  <span class="comment">/* dump the mailbox flags we&#39;ve found */</span></div>
<div class="line"><span class="lineno"> 2023</span>  <span class="keyword">const</span> <span class="keywordtype">short</span> c_debug_level = <a class="code hl_function" href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;debug_level&quot;</span>);</div>
<div class="line"><span class="lineno"> 2024</span>  <span class="keywordflow">if</span> (c_debug_level &gt; <a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>)</div>
<div class="line"><span class="lineno"> 2025</span>  {</div>
<div class="line"><span class="lineno"> 2026</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(&amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>))</div>
<div class="line"><span class="lineno"> 2027</span>    {</div>
<div class="line"><span class="lineno"> 2028</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;No folder flags found\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2029</span>    }</div>
<div class="line"><span class="lineno"> 2030</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2031</span>    {</div>
<div class="line"><span class="lineno"> 2032</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structListNode.html">ListNode</a> *np = NULL;</div>
<div class="line"><span class="lineno"> 2033</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *flag_buffer = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 2034</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(flag_buffer, <span class="stringliteral">&quot;Mailbox flags: &quot;</span>);</div>
<div class="line"><span class="lineno"> 2035</span>      <a class="code hl_define" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(np, &amp;mdata-&gt;<a class="code hl_variable" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>, entries)</div>
<div class="line"><span class="lineno"> 2036</span>      {</div>
<div class="line"><span class="lineno"> 2037</span>        <a class="code hl_function" href="buffer_8c.html#a0849b79217aad19e4bf9381d532d59d1">buf_add_printf</a>(flag_buffer, <span class="stringliteral">&quot;[%s] &quot;</span>, np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>);</div>
<div class="line"><span class="lineno"> 2038</span>      }</div>
<div class="line"><span class="lineno"> 2039</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(flag_buffer));</div>
<div class="line"><span class="lineno"> 2040</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;flag_buffer);</div>
<div class="line"><span class="lineno"> 2041</span>    }</div>
<div class="line"><span class="lineno"> 2042</span>  }</div>
<div class="line"><span class="lineno"> 2043</span> </div>
<div class="line"><span class="lineno"> 2044</span>  <span class="keywordflow">if</span> (!((m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code hl_define" href="core_2mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>) || (m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code hl_define" href="core_2mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a>) ||</div>
<div class="line"><span class="lineno"> 2045</span>        (m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code hl_define" href="core_2mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>) || (m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code hl_define" href="core_2mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a>)))</div>
<div class="line"><span class="lineno"> 2046</span>  {</div>
<div class="line"><span class="lineno"> 2047</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2048</span>  }</div>
<div class="line"><span class="lineno"> 2049</span> </div>
<div class="line"><span class="lineno"> 2050</span>  <a class="code hl_function" href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a>(m, count);</div>
<div class="line"><span class="lineno"> 2051</span> </div>
<div class="line"><span class="lineno"> 2052</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div>
<div class="line"><span class="lineno"> 2053</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div>
<div class="line"><span class="lineno"> 2054</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a> = 0;</div>
<div class="line"><span class="lineno"> 2055</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a> = 0;</div>
<div class="line"><span class="lineno"> 2056</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a> = 0;</div>
<div class="line"><span class="lineno"> 2057</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a> = 0;</div>
<div class="line"><span class="lineno"> 2058</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">vcount</a> = 0;</div>
<div class="line"><span class="lineno"> 2059</span> </div>
<div class="line"><span class="lineno"> 2060</span>  <span class="keywordflow">if</span> ((count &gt; 0) &amp;&amp; (<a class="code hl_function" href="imap_2message_8c.html#abe57c68df95e87d0dbe1453903343042">imap_read_headers</a>(m, 1, count, <span class="keyword">true</span>) &lt; 0))</div>
<div class="line"><span class="lineno"> 2061</span>  {</div>
<div class="line"><span class="lineno"> 2062</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error opening mailbox&quot;</span>));</div>
<div class="line"><span class="lineno"> 2063</span>    <span class="keywordflow">goto</span> fail;</div>
<div class="line"><span class="lineno"> 2064</span>  }</div>
<div class="line"><span class="lineno"> 2065</span> </div>
<div class="line"><span class="lineno"> 2066</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;msg_count is %d\n&quot;</span>, m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div>
<div class="line"><span class="lineno"> 2067</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div>
<div class="line"><span class="lineno"> 2068</span> </div>
<div class="line"><span class="lineno"> 2069</span>fail:</div>
<div class="line"><span class="lineno"> 2070</span>  <span class="keywordflow">if</span> (adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">state</a> == <a class="code hl_enumvalue" href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21">IMAP_SELECTED</a>)</div>
<div class="line"><span class="lineno"> 2071</span>    adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">state</a> = <a class="code hl_enumvalue" href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0">IMAP_AUTHENTICATED</a>;</div>
<div class="line"><span class="lineno"> 2072</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2073</span>}</div>
<div class="ttc" id="aatoi_8c_html_a1825225ac6d68f6215d49ee558623fa8"><div class="ttname"><a href="atoi_8c.html#a1825225ac6d68f6215d49ee558623fa8">mutt_str_atoull</a></div><div class="ttdeci">const char * mutt_str_atoull(const char *str, unsigned long long *dst)</div><div class="ttdoc">Convert ASCII string to an unsigned long long.</div><div class="ttdef"><b>Definition</b> <a href="atoi_8c_source.html#l00296">atoi.c:296</a></div></div>
<div class="ttc" id="aatoi_8c_html_ad704fc34b6f2eb2132de8bf992994ac1"><div class="ttname"><a href="atoi_8c.html#ad704fc34b6f2eb2132de8bf992994ac1">mutt_str_atoui</a></div><div class="ttdeci">const char * mutt_str_atoui(const char *str, unsigned int *dst)</div><div class="ttdoc">Convert ASCII string to an unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="atoi_8c_source.html#l00218">atoi.c:218</a></div></div>
<div class="ttc" id="abuffer_8c_html_a02123807d31181ac701b566226e93b33"><div class="ttname"><a href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a></div><div class="ttdeci">int buf_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00161">buffer.c:161</a></div></div>
<div class="ttc" id="abuffer_8c_html_a0849b79217aad19e4bf9381d532d59d1"><div class="ttname"><a href="buffer_8c.html#a0849b79217aad19e4bf9381d532d59d1">buf_add_printf</a></div><div class="ttdeci">int buf_add_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string appending a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00204">buffer.c:204</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00143">helpers.c:143</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a006b7689f9d9582b246d4761ba6e2585"><div class="ttname"><a href="core_2mailbox_8h.html#a006b7689f9d9582b246d4761ba6e2585">MUTT_ACL_CREATE</a></div><div class="ttdeci">#define MUTT_ACL_CREATE</div><div class="ttdoc">Create a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00062">mailbox.h:62</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a1860842fb9744ebdd3d7bfeffb4f60be"><div class="ttname"><a href="core_2mailbox_8h.html#a1860842fb9744ebdd3d7bfeffb4f60be">MUTT_ACL_POST</a></div><div class="ttdeci">#define MUTT_ACL_POST</div><div class="ttdoc">Post (submit messages to the server)</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00068">mailbox.h:68</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a2f00180fcee84fde51fd10c718a21201"><div class="ttname"><a href="core_2mailbox_8h.html#a2f00180fcee84fde51fd10c718a21201">MUTT_ACL_LOOKUP</a></div><div class="ttdeci">#define MUTT_ACL_LOOKUP</div><div class="ttdoc">Lookup mailbox (visible to &#39;list&#39;)</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00067">mailbox.h:67</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a3dc345445c24e4c7ab02dfdfe0093d60"><div class="ttname"><a href="core_2mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a></div><div class="ttdeci">#define MUTT_ACL_INSERT</div><div class="ttdoc">Add/copy into the mailbox (used when editing a message)</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00066">mailbox.h:66</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a7ada20153d03e30afe22e55e32d61fea"><div class="ttname"><a href="core_2mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a></div><div class="ttdeci">#define MUTT_ACL_DELETE</div><div class="ttdoc">Delete a message.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00063">mailbox.h:63</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_ac495d1273b7f2399403a2932b6ff2fd3"><div class="ttname"><a href="core_2mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a></div><div class="ttdeci">#define MUTT_ACL_WRITE</div><div class="ttdoc">Write to a message (for flagging or linking threads)</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00071">mailbox.h:71</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af726790bdcf33b797e735f03aab88730"><div class="ttname"><a href="core_2mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a></div><div class="ttdeci">#define MUTT_ACL_SEEN</div><div class="ttdoc">Change the &#39;seen&#39; status of a message.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00070">mailbox.h:70</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_aff498ce9ba288f7b247c4a408721a6db"><div class="ttname"><a href="core_2mailbox_8h.html#aff498ce9ba288f7b247c4a408721a6db">MUTT_ACL_READ</a></div><div class="ttdeci">#define MUTT_ACL_READ</div><div class="ttdoc">Read the mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00069">mailbox.h:69</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00092">logging2.h:92</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00090">logging2.h:90</a></div></div>
<div class="ttc" id="aimap_2adata_8c_html_abe5c03ce9b5a9a60450482316b4d99ea"><div class="ttname"><a href="imap_2adata_8c.html#abe5c03ce9b5a9a60450482316b4d99ea">imap_adata_get</a></div><div class="ttdeci">struct ImapAccountData * imap_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Account data for this mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8c_source.html#l00123">adata.c:123</a></div></div>
<div class="ttc" id="aimap_2command_8c_html_a8b9d7c9333e35981d94074e9dcc28e6f"><div class="ttname"><a href="imap_2command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a></div><div class="ttdeci">int imap_cmd_step(struct ImapAccountData *adata)</div><div class="ttdoc">Reads server responses from an IMAP command.</div><div class="ttdef"><b>Definition</b> <a href="imap_2command_8c_source.html#l01127">command.c:1127</a></div></div>
<div class="ttc" id="aimap_2command_8c_html_adeef1f9ecc4cb80dbddee9264200d7bd"><div class="ttname"><a href="imap_2command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a></div><div class="ttdeci">int imap_exec(struct ImapAccountData *adata, const char *cmdstr, ImapCmdFlags flags)</div><div class="ttdoc">Execute a command and wait for the response from the server.</div><div class="ttdef"><b>Definition</b> <a href="imap_2command_8c_source.html#l01302">command.c:1302</a></div></div>
<div class="ttc" id="aimap_2mdata_8c_html_a567e2876fed5edb8626c5fefba4ac7ce"><div class="ttname"><a href="imap_2mdata_8c.html#a567e2876fed5edb8626c5fefba4ac7ce">imap_mdata_get</a></div><div class="ttdeci">struct ImapMboxData * imap_mdata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox data for this mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8c_source.html#l00061">mdata.c:61</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_abe57c68df95e87d0dbe1453903343042"><div class="ttname"><a href="imap_2message_8c.html#abe57c68df95e87d0dbe1453903343042">imap_read_headers</a></div><div class="ttdeci">int imap_read_headers(struct Mailbox *m, unsigned int msn_begin, unsigned int msn_end, bool initial_download)</div><div class="ttdoc">Read headers from the server.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l01339">message.c:1339</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0"><div class="ttname"><a href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0">IMAP_AUTHENTICATED</a></div><div class="ttdeci">@ IMAP_AUTHENTICATED</div><div class="ttdoc">Connection is authenticated.</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00107">private.h:107</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21"><div class="ttname"><a href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21">IMAP_SELECTED</a></div><div class="ttdeci">@ IMAP_SELECTED</div><div class="ttdoc">Mailbox is selected.</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00108">private.h:108</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a3e63d724ab73ca87b3f8f43a772d32ba"><div class="ttname"><a href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a></div><div class="ttdeci">#define IMAP_RES_OK</div><div class="ttdoc">&lt;tag&gt; OK ...</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00055">private.h:55</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a8bf6db700e89d830738d2a23e9594af2"><div class="ttname"><a href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a></div><div class="ttdeci">#define IMAP_CAP_ACL</div><div class="ttdoc">RFC2086: IMAP4 ACL extension.</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00124">private.h:124</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_ac10fb2fab1bc13f077a3c973883d8088"><div class="ttname"><a href="imap_2private_8h.html#ac10fb2fab1bc13f077a3c973883d8088">IMAP_RES_NO</a></div><div class="ttdeci">#define IMAP_RES_NO</div><div class="ttdoc">&lt;tag&gt; NO ...</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00053">private.h:53</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_ac2225c270b21b238b8f64e1f7090baf0"><div class="ttname"><a href="imap_2private_8h.html#ac2225c270b21b238b8f64e1f7090baf0">imap_account_match</a></div><div class="ttdeci">bool imap_account_match(const struct ConnAccount *a1, const struct ConnAccount *a2)</div><div class="ttdoc">Compare two Accounts.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l01092">util.c:1092</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_add0869283ae9186ac31a7169b246cc6b"><div class="ttname"><a href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a></div><div class="ttdeci">#define IMAP_RES_CONTINUE</div><div class="ttdoc">* ...</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00056">private.h:56</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_adeb5e149a78c8a6dc9e5763fd015577a"><div class="ttname"><a href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a></div><div class="ttdeci">char * imap_next_word(char *s)</div><div class="ttdoc">Find where the next IMAP word begins.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l00823">util.c:823</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_af5a1e8e10143cb70e9af987686df4108"><div class="ttname"><a href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a></div><div class="ttdeci">#define IMAP_CMD_QUEUE</div><div class="ttdoc">Queue a command, do not execute.</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00073">private.h:73</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_af7e377ed18e6573f09e3fc0ead565064"><div class="ttname"><a href="imap_2private_8h.html#af7e377ed18e6573f09e3fc0ead565064">imap_get_qualifier</a></div><div class="ttdeci">char * imap_get_qualifier(char *buf)</div><div class="ttdoc">Get the qualifier from a tagged response.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l00806">util.c:806</a></div></div>
<div class="ttc" id="aimap_8c_html_a0b252c6e7f2cc646db9414ea27a11a55"><div class="ttname"><a href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a></div><div class="ttdeci">int imap_mailbox_status(struct Mailbox *m, bool queue)</div><div class="ttdoc">Refresh the number of total and new messages.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l01209">imap.c:1209</a></div></div>
<div class="ttc" id="aimap_8c_html_ad0c94b5dea653ee8d1b5974a80c772a3"><div class="ttname"><a href="imap_8c.html#ad0c94b5dea653ee8d1b5974a80c772a3">get_flags</a></div><div class="ttdeci">static char * get_flags(struct ListHead *hflags, char *s)</div><div class="ttdoc">Make a simple list out of a FLAGS response.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l00132">imap.c:132</a></div></div>
<div class="ttc" id="aimap_8c_html_ae508cb6f612071ea4549814aa3532c89"><div class="ttname"><a href="imap_8c.html#ae508cb6f612071ea4549814aa3532c89">imap_mbox_select</a></div><div class="ttdeci">static void imap_mbox_select(struct Mailbox *m)</div><div class="ttdoc">Select a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l01748">imap.c:1748</a></div></div>
<div class="ttc" id="alist_8c_html_ab5c53ce94cc2aafa4299dbc81a37f4a4"><div class="ttname"><a href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a></div><div class="ttdeci">void mutt_list_free(struct ListHead *h)</div><div class="ttdoc">Free a List AND its strings.</div><div class="ttdef"><b>Definition</b> <a href="list_8c_source.html#l00123">list.c:123</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a></div><div class="ttdeci">@ LL_DEBUG3</div><div class="ttdoc">Log at debug level 3.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00046">logging2.h:46</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdeci">@ LL_DEBUG2</div><div class="ttdoc">Log at debug level 2.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6f574867aa9db4d434adbc8af1f5f7e7"><div class="ttname"><a href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a></div><div class="ttdeci">bool mutt_strn_equal(const char *a, const char *b, size_t num)</div><div class="ttdoc">Check for equality of two strings (to a maximum), safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00427">string.c:427</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_aebd2a8a3f8a30062c31fa1474d87cc41"><div class="ttname"><a href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a></div><div class="ttdeci">size_t mutt_istr_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix, ignoring case.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00244">string.c:244</a></div></div>
<div class="ttc" id="amutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00042">mutt.h:42</a></div></div>
<div class="ttc" id="amx_8c_html_a0572e1f7a00e528557923201a39c7de9"><div class="ttname"><a href="mx_8c.html#a0572e1f7a00e528557923201a39c7de9">mx_alloc_memory</a></div><div class="ttdeci">void mx_alloc_memory(struct Mailbox *m, int req_size)</div><div class="ttdoc">Create storage for the emails.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01211">mx.c:1211</a></div></div>
<div class="ttc" id="amx_8c_html_a9a98f92f924c6fd227010615dd3e454c"><div class="ttname"><a href="mx_8c.html#a9a98f92f924c6fd227010615dd3e454c">mx_mbox_find2</a></div><div class="ttdeci">struct Mailbox * mx_mbox_find2(const char *path)</div><div class="ttdoc">Find a Mailbox on an Account.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01610">mx.c:1610</a></div></div>
<div class="ttc" id="amxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdeci">@ MX_OPEN_OK</div><div class="ttdoc">Open succeeded.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00074">mxapi.h:74</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="aqueue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00390">queue.h:390</a></div></div>
<div class="ttc" id="aqueue_8h_html_a8427c8f43d09d73062cf6b37f303aff5"><div class="ttname"><a href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a></div><div class="ttdeci">#define STAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00382">queue.h:382</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
<div class="ttc" id="astructConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00049">connection.h:49</a></div></div>
<div class="ttc" id="astructImapAccountData_html"><div class="ttname"><a href="structImapAccountData.html">ImapAccountData</a></div><div class="ttdoc">IMAP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00039">adata.h:40</a></div></div>
<div class="ttc" id="astructImapAccountData_html_a1d1842d28b0455afee7ddd7f829f6c02"><div class="ttname"><a href="structImapAccountData.html#a1d1842d28b0455afee7ddd7f829f6c02">ImapAccountData::prev_mailbox</a></div><div class="ttdeci">struct Mailbox * prev_mailbox</div><div class="ttdoc">Previously selected mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00077">adata.h:77</a></div></div>
<div class="ttc" id="astructImapAccountData_html_aa1ba7fde388cdd8e1133c1784e5ed4ea"><div class="ttname"><a href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">ImapAccountData::capabilities</a></div><div class="ttdeci">ImapCapFlags capabilities</div><div class="ttdoc">Capability flags.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="astructImapAccountData_html_aafe97c07683cbc20007c8dd315b2d19e"><div class="ttname"><a href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">ImapAccountData::state</a></div><div class="ttdeci">unsigned char state</div><div class="ttdoc">ImapState, e.g. IMAP_AUTHENTICATED.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00044">adata.h:44</a></div></div>
<div class="ttc" id="astructImapAccountData_html_ab08af69f675be131e1431c11bf6cf4f0"><div class="ttname"><a href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">ImapAccountData::mailbox</a></div><div class="ttdeci">struct Mailbox * mailbox</div><div class="ttdoc">Current selected mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00076">adata.h:76</a></div></div>
<div class="ttc" id="astructImapAccountData_html_ac6488a600297eee1e5d203872e93f9d2"><div class="ttname"><a href="structImapAccountData.html#ac6488a600297eee1e5d203872e93f9d2">ImapAccountData::status</a></div><div class="ttdeci">unsigned char status</div><div class="ttdoc">ImapFlags, e.g. IMAP_FATAL.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00045">adata.h:45</a></div></div>
<div class="ttc" id="astructImapAccountData_html_af7d73598916e5b0b789c78c904ff47a4"><div class="ttname"><a href="structImapAccountData.html#af7d73598916e5b0b789c78c904ff47a4">ImapAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to IMAP server.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00041">adata.h:41</a></div></div>
<div class="ttc" id="astructImapMboxData_html"><div class="ttname"><a href="structImapMboxData.html">ImapMboxData</a></div><div class="ttdoc">IMAP-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00039">mdata.h:40</a></div></div>
<div class="ttc" id="astructImapMboxData_html_a07a8887ba1a079dd0d5079e0df523f97"><div class="ttname"><a href="structImapMboxData.html#a07a8887ba1a079dd0d5079e0df523f97">ImapMboxData::uid_next</a></div><div class="ttdeci">unsigned int uid_next</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00052">mdata.h:52</a></div></div>
<div class="ttc" id="astructImapMboxData_html_a2beaa276acd56ef3039d045536467873"><div class="ttname"><a href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">ImapMboxData::flags</a></div><div class="ttdeci">struct ListHead flags</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00050">mdata.h:50</a></div></div>
<div class="ttc" id="astructImapMboxData_html_a5b7958aa356cbb9e73e5b95334613eb6"><div class="ttname"><a href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">ImapMboxData::new_mail_count</a></div><div class="ttdeci">unsigned int new_mail_count</div><div class="ttdoc">Set when EXISTS notifies of new mail.</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="astructImapMboxData_html_a8efadd7049504cce68615397dfbf0f05"><div class="ttname"><a href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">ImapMboxData::modseq</a></div><div class="ttdeci">unsigned long long modseq</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00053">mdata.h:53</a></div></div>
<div class="ttc" id="astructImapMboxData_html_ad03723407a1adabc338541cae865fc82"><div class="ttname"><a href="structImapMboxData.html#ad03723407a1adabc338541cae865fc82">ImapMboxData::uidvalidity</a></div><div class="ttdeci">uint32_t uidvalidity</div><div class="ttdef"><b>Definition</b> <a href="imap_2mdata_8h_source.html#l00051">mdata.h:51</a></div></div>
<div class="ttc" id="astructListNode_html"><div class="ttname"><a href="structListNode.html">ListNode</a></div><div class="ttdoc">A List node for strings.</div><div class="ttdef"><b>Definition</b> <a href="list_8h_source.html#l00036">list.h:37</a></div></div>
<div class="ttc" id="astructListNode_html_aafe688d670318196766392d8235d00a7"><div class="ttname"><a href="structListNode.html#aafe688d670318196766392d8235d00a7">ListNode::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">String.</div><div class="ttdef"><b>Definition</b> <a href="list_8h_source.html#l00038">list.h:38</a></div></div>
<div class="ttc" id="astructMailbox_html"><div class="ttname"><a href="structMailbox.html">Mailbox</a></div><div class="ttdoc">A mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00078">mailbox.h:79</a></div></div>
<div class="ttc" id="astructMailbox_html_a0e1673cdf63976b1d148786457666f84"><div class="ttname"><a href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">Mailbox::vcount</a></div><div class="ttdeci">int vcount</div><div class="ttdoc">The number of virtual messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="astructMailbox_html_a3348499d9eb11b4e48f073d2eddb2be4"><div class="ttname"><a href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">Mailbox::msg_new</a></div><div class="ttdeci">int msg_new</div><div class="ttdoc">Number of new messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00092">mailbox.h:92</a></div></div>
<div class="ttc" id="astructMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00088">mailbox.h:88</a></div></div>
<div class="ttc" id="astructMailbox_html_a44766ec39ab823278479d0a8fe7b5f73"><div class="ttname"><a href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">Mailbox::rights</a></div><div class="ttdeci">AclFlags rights</div><div class="ttdoc">ACL bits, see AclFlags.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00119">mailbox.h:119</a></div></div>
<div class="ttc" id="astructMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00132">mailbox.h:132</a></div></div>
<div class="ttc" id="astructMailbox_html_aa44c1232018ddd1953039aa857b23ab5"><div class="ttname"><a href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">Mailbox::pathbuf</a></div><div class="ttdeci">struct Buffer pathbuf</div><div class="ttdoc">Path of the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00080">mailbox.h:80</a></div></div>
<div class="ttc" id="astructMailbox_html_ab5863d8f516c6db52e2fadb531bf8557"><div class="ttname"><a href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">Mailbox::msg_deleted</a></div><div class="ttdeci">int msg_deleted</div><div class="ttdoc">Number of deleted messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00093">mailbox.h:93</a></div></div>
<div class="ttc" id="astructMailbox_html_ace276d581d6d299ecf227be214841148"><div class="ttname"><a href="structMailbox.html#ace276d581d6d299ecf227be214841148">Mailbox::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">Size of the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00084">mailbox.h:84</a></div></div>
<div class="ttc" id="astructMailbox_html_ad8cc58166581060ab58acf36f22bfd4d"><div class="ttname"><a href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">Mailbox::msg_flagged</a></div><div class="ttdeci">int msg_flagged</div><div class="ttdoc">Number of flagged messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00090">mailbox.h:90</a></div></div>
<div class="ttc" id="astructMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages?</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00117">mailbox.h:117</a></div></div>
<div class="ttc" id="astructMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00089">mailbox.h:89</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gac97da7839145e4cf23c319967ecc7001_cgraph.svg" width="700" height="1366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga1a3ec86f8ca14e073f6dfc37d03689b7" name="ga1a3ec86f8ca14e073f6dfc37d03689b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a3ec86f8ca14e073f6dfc37d03689b7">&#9670;&#160;</a></span>maildir_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> maildir_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="maildir_2mailbox_8c_source.html#l00740">740</a> of file <a class="el" href="maildir_2mailbox_8c_source.html">mailbox.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  741</span>{</div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span> ((<a class="code hl_function" href="maildir_2mailbox_8c.html#a4b42bc7ae8e488c3ae0306e008f664d6">maildir_read_dir</a>(m, <span class="stringliteral">&quot;new&quot;</span>) == -1) || (<a class="code hl_function" href="maildir_2mailbox_8c.html#a4b42bc7ae8e488c3ae0306e008f664d6">maildir_read_dir</a>(m, <span class="stringliteral">&quot;cur&quot;</span>) == -1))</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div>
<div class="line"><span class="lineno">  746</span>}</div>
<div class="ttc" id="amaildir_2mailbox_8c_html_a4b42bc7ae8e488c3ae0306e008f664d6"><div class="ttname"><a href="maildir_2mailbox_8c.html#a4b42bc7ae8e488c3ae0306e008f664d6">maildir_read_dir</a></div><div class="ttdeci">static int maildir_read_dir(struct Mailbox *m, const char *subdir)</div><div class="ttdoc">Read a Maildir style mailbox.</div><div class="ttdef"><b>Definition</b> <a href="maildir_2mailbox_8c_source.html#l00485">mailbox.c:485</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga1a3ec86f8ca14e073f6dfc37d03689b7_cgraph.svg" width="322" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaa0908167a905e8a9d3e3541e7c5a416e" name="gaa0908167a905e8a9d3e3541e7c5a416e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0908167a905e8a9d3e3541e7c5a416e">&#9670;&#160;</a></span>mbox_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> mbox_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mbox_8c_source.html#l00828">828</a> of file <a class="el" href="mbox_8c_source.html">mbox.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  829</span>{</div>
<div class="line"><span class="lineno">  830</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mbox_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a>(m) != 0)</div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMboxAccountData.html">MboxAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a>(m);</div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno">  835</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>  <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp = m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> ? NULL : <a class="code hl_function" href="mbox_8c.html#a6d89e11c484e354f83abcba8e2f3eada">mbox_open_readwrite</a>(m);</div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp)</div>
<div class="line"><span class="lineno">  839</span>  {</div>
<div class="line"><span class="lineno">  840</span>    <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp = <a class="code hl_function" href="mbox_8c.html#a98f84a46a763392a934a9c920232391a">mbox_open_readonly</a>(m);</div>
<div class="line"><span class="lineno">  841</span>  }</div>
<div class="line"><span class="lineno">  842</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp)</div>
<div class="line"><span class="lineno">  843</span>  {</div>
<div class="line"><span class="lineno">  844</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  846</span>  }</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>  <a class="code hl_function" href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a>();</div>
<div class="line"><span class="lineno">  849</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mbox_8c.html#a1c304c29562f920b2ba11fabcc14c268">mbox_lock_mailbox</a>(m, <span class="keyword">false</span>, <span class="keyword">true</span>) == -1)</div>
<div class="line"><span class="lineno">  850</span>  {</div>
<div class="line"><span class="lineno">  851</span>    <a class="code hl_function" href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a>();</div>
<div class="line"><span class="lineno">  852</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  853</span>  }</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  856</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  857</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525">MUTT_MBOX</a>)</div>
<div class="line"><span class="lineno">  858</span>    rc = <a class="code hl_function" href="mbox_8c.html#a0c856532edc1e1040922489ada94cc0d">mbox_parse_mailbox</a>(m);</div>
<div class="line"><span class="lineno">  859</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374">MUTT_MMDF</a>)</div>
<div class="line"><span class="lineno">  860</span>    rc = <a class="code hl_function" href="mbox_8c.html#ad71d97d10ebedc0dd20050efed3d997c">mmdf_parse_mailbox</a>(m);</div>
<div class="line"><span class="lineno">  861</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  862</span>    rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="mbox_8c.html#a1b48e889cb30d3c7d9c4eacc3fddd936">mbox_has_new</a>(m))</div>
<div class="line"><span class="lineno">  865</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  866</span>  clearerr(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp); <span class="comment">// Clear the EOF flag</span></div>
<div class="line"><span class="lineno">  867</span>  <a class="code hl_function" href="file_8c.html#a3b39a0ad0a86d765510227b75fba988e">mutt_file_touch_atime</a>(fileno(<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;fp));</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>  <a class="code hl_function" href="mbox_8c.html#aad6c03c38f626757199e4fd0835253ae">mbox_unlock_mailbox</a>(m);</div>
<div class="line"><span class="lineno">  870</span>  <a class="code hl_function" href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a>();</div>
<div class="line"><span class="lineno">  871</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  872</span>}</div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374">MUTT_MMDF</a></div><div class="ttdeci">@ MUTT_MMDF</div><div class="ttdoc">&#39;mmdf&#39; Mailbox type</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00046">mailbox.h:46</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525">MUTT_MBOX</a></div><div class="ttdeci">@ MUTT_MBOX</div><div class="ttdoc">&#39;mbox&#39; Mailbox type</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00045">mailbox.h:45</a></div></div>
<div class="ttc" id="afile_8c_html_a3b39a0ad0a86d765510227b75fba988e"><div class="ttname"><a href="file_8c.html#a3b39a0ad0a86d765510227b75fba988e">mutt_file_touch_atime</a></div><div class="ttdeci">void mutt_file_touch_atime(int fd)</div><div class="ttdoc">Set the access time to current time.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00968">file.c:968</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="ambox_8c_html_a0c856532edc1e1040922489ada94cc0d"><div class="ttname"><a href="mbox_8c.html#a0c856532edc1e1040922489ada94cc0d">mbox_parse_mailbox</a></div><div class="ttdeci">static enum MxOpenReturns mbox_parse_mailbox(struct Mailbox *m)</div><div class="ttdoc">Read a mailbox from disk.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00351">mbox.c:351</a></div></div>
<div class="ttc" id="ambox_8c_html_a1b48e889cb30d3c7d9c4eacc3fddd936"><div class="ttname"><a href="mbox_8c.html#a1b48e889cb30d3c7d9c4eacc3fddd936">mbox_has_new</a></div><div class="ttdeci">static bool mbox_has_new(struct Mailbox *m)</div><div class="ttdoc">Does the mailbox have new mail.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00726">mbox.c:726</a></div></div>
<div class="ttc" id="ambox_8c_html_a1c304c29562f920b2ba11fabcc14c268"><div class="ttname"><a href="mbox_8c.html#a1c304c29562f920b2ba11fabcc14c268">mbox_lock_mailbox</a></div><div class="ttdeci">static int mbox_lock_mailbox(struct Mailbox *m, bool excl, bool retry)</div><div class="ttdoc">Lock a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00139">mbox.c:139</a></div></div>
<div class="ttc" id="ambox_8c_html_a2f989931e9117a9c6598b6c592f69be2"><div class="ttname"><a href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a></div><div class="ttdeci">static struct MboxAccountData * mbox_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the private data associated with a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00124">mbox.c:124</a></div></div>
<div class="ttc" id="ambox_8c_html_a49be0897f8fb6c33c74a838b83f4ed46"><div class="ttname"><a href="mbox_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a></div><div class="ttdeci">static int init_mailbox(struct Mailbox *m)</div><div class="ttdoc">Add Mbox data to the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00105">mbox.c:105</a></div></div>
<div class="ttc" id="ambox_8c_html_a6d89e11c484e354f83abcba8e2f3eada"><div class="ttname"><a href="mbox_8c.html#a6d89e11c484e354f83abcba8e2f3eada">mbox_open_readwrite</a></div><div class="ttdeci">static FILE * mbox_open_readwrite(struct Mailbox *m)</div><div class="ttdoc">Open an mbox read-write.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00802">mbox.c:802</a></div></div>
<div class="ttc" id="ambox_8c_html_a98f84a46a763392a934a9c920232391a"><div class="ttname"><a href="mbox_8c.html#a98f84a46a763392a934a9c920232391a">mbox_open_readonly</a></div><div class="ttdeci">static FILE * mbox_open_readonly(struct Mailbox *m)</div><div class="ttdoc">Open an mbox read-only.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00817">mbox.c:817</a></div></div>
<div class="ttc" id="ambox_8c_html_aad6c03c38f626757199e4fd0835253ae"><div class="ttname"><a href="mbox_8c.html#aad6c03c38f626757199e4fd0835253ae">mbox_unlock_mailbox</a></div><div class="ttdeci">static void mbox_unlock_mailbox(struct Mailbox *m)</div><div class="ttdoc">Unlock a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00163">mbox.c:163</a></div></div>
<div class="ttc" id="ambox_8c_html_ad71d97d10ebedc0dd20050efed3d997c"><div class="ttname"><a href="mbox_8c.html#ad71d97d10ebedc0dd20050efed3d997c">mmdf_parse_mailbox</a></div><div class="ttdeci">static enum MxOpenReturns mmdf_parse_mailbox(struct Mailbox *m)</div><div class="ttdoc">Read a mailbox in MMDF format.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00183">mbox.c:183</a></div></div>
<div class="ttc" id="amxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cad"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a></div><div class="ttdeci">MxOpenReturns</div><div class="ttdoc">Return values for mbox_open()</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00072">mxapi.h:73</a></div></div>
<div class="ttc" id="asignal_8c_html_aa6c49e5535cdffeffd2cd4eee28bc96b"><div class="ttname"><a href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a></div><div class="ttdeci">void mutt_sig_block(void)</div><div class="ttdoc">Block signals during critical operations.</div><div class="ttdef"><b>Definition</b> <a href="signal_8c_source.html#l00228">signal.c:228</a></div></div>
<div class="ttc" id="asignal_8c_html_aa9356c41baa1b35d3a7719f90570e6b7"><div class="ttname"><a href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a></div><div class="ttdeci">void mutt_sig_unblock(void)</div><div class="ttdoc">Restore previously blocked signals.</div><div class="ttdef"><b>Definition</b> <a href="signal_8c_source.html#l00246">signal.c:246</a></div></div>
<div class="ttc" id="astructMailbox_html_a185d46a268fdf1e34ee061a28d51414e"><div class="ttname"><a href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">Mailbox::has_new</a></div><div class="ttdeci">bool has_new</div><div class="ttdoc">Mailbox has new mail.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00085">mailbox.h:85</a></div></div>
<div class="ttc" id="astructMboxAccountData_html"><div class="ttname"><a href="structMboxAccountData.html">MboxAccountData</a></div><div class="ttdoc">Mbox-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="mbox_2lib_8h_source.html#l00048">lib.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaa0908167a905e8a9d3e3541e7c5a416e_cgraph.svg" width="668" height="674"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaa0908167a905e8a9d3e3541e7c5a416e_icgraph.svg" width="332" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gab7ce024784207f6e476aa788c55b0e9b" name="gab7ce024784207f6e476aa788c55b0e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7ce024784207f6e476aa788c55b0e9b">&#9670;&#160;</a></span>mh_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> mh_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mh_8c_source.html#l00815">815</a> of file <a class="el" href="mh_8c_source.html">mh.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  816</span>{</div>
<div class="line"><span class="lineno">  817</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="mh_8c.html#ae374fa312c846e5836c0fcce3aeec4f4">mh_read_dir</a>(m) ? <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a> : <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  818</span>}</div>
<div class="ttc" id="amh_8c_html_ae374fa312c846e5836c0fcce3aeec4f4"><div class="ttname"><a href="mh_8c.html#ae374fa312c846e5836c0fcce3aeec4f4">mh_read_dir</a></div><div class="ttdeci">static bool mh_read_dir(struct Mailbox *m)</div><div class="ttdoc">Read an MH mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mh_8c_source.html#l00661">mh.c:661</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gab7ce024784207f6e476aa788c55b0e9b_cgraph.svg" width="278" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga958364186e337ca6168094e57f038296" name="ga958364186e337ca6168094e57f038296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga958364186e337ca6168094e57f038296">&#9670;&#160;</a></span>nntp_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> nntp_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02382">2382</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2383</span>{</div>
<div class="line"><span class="lineno"> 2384</span>  <span class="keywordflow">if</span> (!m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>)</div>
<div class="line"><span class="lineno"> 2385</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2386</span> </div>
<div class="line"><span class="lineno"> 2387</span>  <span class="keywordtype">char</span> buf[8192] = { 0 };</div>
<div class="line"><span class="lineno"> 2388</span>  <span class="keywordtype">char</span> server[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 2389</span>  <span class="keywordtype">char</span> *group = NULL;</div>
<div class="line"><span class="lineno"> 2390</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno"> 2391</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHeaderCache.html">HeaderCache</a> *hc = NULL;</div>
<div class="line"><span class="lineno"> 2392</span>  <a class="code hl_define" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = 0, last = 0, count = 0;</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> *url = <a class="code hl_function" href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno"> 2395</span>  <span class="keywordflow">if</span> (!url || !url-&gt;<a class="code hl_variable" href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">host</a> || !url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> ||</div>
<div class="line"><span class="lineno"> 2396</span>      !((url-&gt;<a class="code hl_variable" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code hl_enumvalue" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a>) || (url-&gt;<a class="code hl_variable" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code hl_enumvalue" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)))</div>
<div class="line"><span class="lineno"> 2397</span>  {</div>
<div class="line"><span class="lineno"> 2398</span>    <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno"> 2399</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid newsgroup specification&quot;</span>), <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno"> 2400</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2401</span>  }</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>  group = url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>;</div>
<div class="line"><span class="lineno"> 2404</span>  <span class="keywordflow">if</span> (group[0] == <span class="charliteral">&#39;/&#39;</span>) <span class="comment">/* Skip a leading &#39;/&#39; */</span></div>
<div class="line"><span class="lineno"> 2405</span>    group++;</div>
<div class="line"><span class="lineno"> 2406</span> </div>
<div class="line"><span class="lineno"> 2407</span>  url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = strchr(url-&gt;<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>, <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno"> 2408</span>  <a class="code hl_function" href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a>(url, server, <span class="keyword">sizeof</span>(server), <a class="code hl_define" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 2409</span> </div>
<div class="line"><span class="lineno"> 2410</span>  <a class="code hl_function" href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div>
<div class="line"><span class="lineno"> 2411</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div>
<div class="line"><span class="lineno"> 2412</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno"> 2413</span>    <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div>
<div class="line"><span class="lineno"> 2414</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno"> 2415</span>  {</div>
<div class="line"><span class="lineno"> 2416</span>    <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="nntp_2lib_8h.html#ae9ee1cc132aa482531fdc2463200e492">nntp_select_server</a>(m, server, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2417</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div>
<div class="line"><span class="lineno"> 2418</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">adata_free</a> = <a class="code hl_function" href="group__account__adata__free.html#ga978f1ef801a8eed9bf8fb2397f73234e">nntp_adata_free</a>;</div>
<div class="line"><span class="lineno"> 2419</span>  }</div>
<div class="line"><span class="lineno"> 2420</span> </div>
<div class="line"><span class="lineno"> 2421</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno"> 2422</span>  {</div>
<div class="line"><span class="lineno"> 2423</span>    <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno"> 2424</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2425</span>  }</div>
<div class="line"><span class="lineno"> 2426</span>  <a class="code hl_variable" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a> = <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div>
<div class="line"><span class="lineno"> 2427</span> </div>
<div class="line"><span class="lineno"> 2428</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div>
<div class="line"><span class="lineno"> 2429</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div>
<div class="line"><span class="lineno"> 2430</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">vcount</a> = 0;</div>
<div class="line"><span class="lineno"> 2431</span> </div>
<div class="line"><span class="lineno"> 2432</span>  <span class="keywordflow">if</span> (group[0] == <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 2433</span>    group++;</div>
<div class="line"><span class="lineno"> 2434</span> </div>
<div class="line"><span class="lineno"> 2435</span>  <span class="comment">/* find news group data structure */</span></div>
<div class="line"><span class="lineno"> 2436</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 2437</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 2438</span>  {</div>
<div class="line"><span class="lineno"> 2439</span>    <a class="code hl_function" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2440</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Newsgroup %s not found on the server&quot;</span>), <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 2441</span>    <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno"> 2442</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2443</span>  }</div>
<div class="line"><span class="lineno"> 2444</span> </div>
<div class="line"><span class="lineno"> 2445</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp;= <a class="code hl_define" href="core_2mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">~MUTT_ACL_INSERT</a>; <span class="comment">// Clear the flag</span></div>
<div class="line"><span class="lineno"> 2446</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div>
<div class="line"><span class="lineno"> 2447</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent &amp;&amp; !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed &amp;&amp; !c_save_unsubscribed)</div>
<div class="line"><span class="lineno"> 2448</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span>  <span class="comment">/* select newsgroup */</span></div>
<div class="line"><span class="lineno"> 2451</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Selecting %s...&quot;</span>), <a class="code hl_variable" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div>
<div class="line"><span class="lineno"> 2452</span>  <a class="code hl_function" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div>
<div class="line"><span class="lineno"> 2453</span>  buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 2454</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div>
<div class="line"><span class="lineno"> 2455</span>  {</div>
<div class="line"><span class="lineno"> 2456</span>    <a class="code hl_function" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2457</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2458</span>  }</div>
<div class="line"><span class="lineno"> 2459</span> </div>
<div class="line"><span class="lineno"> 2460</span>  <span class="comment">/* newsgroup not found, remove it */</span></div>
<div class="line"><span class="lineno"> 2461</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;411&quot;</span>))</div>
<div class="line"><span class="lineno"> 2462</span>  {</div>
<div class="line"><span class="lineno"> 2463</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Newsgroup %s has been removed from the server&quot;</span>), <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group);</div>
<div class="line"><span class="lineno"> 2464</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted)</div>
<div class="line"><span class="lineno"> 2465</span>    {</div>
<div class="line"><span class="lineno"> 2466</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2467</span>      <a class="code hl_function" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2468</span>    }</div>
<div class="line"><span class="lineno"> 2469</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent &amp;&amp; !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed &amp;&amp; !c_save_unsubscribed)</div>
<div class="line"><span class="lineno"> 2470</span>    {</div>
<div class="line"><span class="lineno"> 2471</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent);</div>
<div class="line"><span class="lineno"> 2472</span>      <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_len = 0;</div>
<div class="line"><span class="lineno"> 2473</span>      <a class="code hl_function" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno"> 2474</span>      <a class="code hl_function" href="nntp_2lib_8h.html#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2475</span>    }</div>
<div class="line"><span class="lineno"> 2476</span>  }</div>
<div class="line"><span class="lineno"> 2477</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2478</span>  {</div>
<div class="line"><span class="lineno"> 2479</span>    <span class="comment">/* parse newsgroup info */</span></div>
<div class="line"><span class="lineno"> 2480</span>    <span class="keywordflow">if</span> (sscanf(buf, <span class="stringliteral">&quot;211 &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a> <span class="stringliteral">&quot; &quot;</span> <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, &amp;count, &amp;first, &amp;last) != 3)</div>
<div class="line"><span class="lineno"> 2481</span>    {</div>
<div class="line"><span class="lineno"> 2482</span>      <a class="code hl_function" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2483</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;GROUP: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2484</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2485</span>    }</div>
<div class="line"><span class="lineno"> 2486</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message = first;</div>
<div class="line"><span class="lineno"> 2487</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message = last;</div>
<div class="line"><span class="lineno"> 2488</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;deleted = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2489</span> </div>
<div class="line"><span class="lineno"> 2490</span>    <span class="comment">/* get description if empty */</span></div>
<div class="line"><span class="lineno"> 2491</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div>
<div class="line"><span class="lineno"> 2492</span>    <span class="keywordflow">if</span> (c_nntp_load_description &amp;&amp; !<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc)</div>
<div class="line"><span class="lineno"> 2493</span>    {</div>
<div class="line"><span class="lineno"> 2494</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, NULL, NULL) &lt; 0)</div>
<div class="line"><span class="lineno"> 2495</span>      {</div>
<div class="line"><span class="lineno"> 2496</span>        <a class="code hl_function" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2497</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2498</span>      }</div>
<div class="line"><span class="lineno"> 2499</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;desc)</div>
<div class="line"><span class="lineno"> 2500</span>        <a class="code hl_function" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2501</span>    }</div>
<div class="line"><span class="lineno"> 2502</span>  }</div>
<div class="line"><span class="lineno"> 2503</span> </div>
<div class="line"><span class="lineno"> 2504</span>  <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a68b41ff885dd90f05aec9c882f245a75">check_time</a> = <a class="code hl_function" href="mutt_2date_8c.html#ad1e6304a91c7b6f3c266a9b17c1740fe">mutt_date_now</a>();</div>
<div class="line"><span class="lineno"> 2505</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 2506</span>  <span class="comment">// Every known newsgroup has an mdata which is stored in adata-&gt;groups_list.</span></div>
<div class="line"><span class="lineno"> 2507</span>  <span class="comment">// Currently we don&#39;t let the Mailbox free the mdata.</span></div>
<div class="line"><span class="lineno"> 2508</span>  <span class="comment">// m-&gt;mdata_free = nntp_mdata_free;</span></div>
<div class="line"><span class="lineno"> 2509</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;bcache &amp;&amp; (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;newsrc_ent || <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed || c_save_unsubscribed))</div>
<div class="line"><span class="lineno"> 2510</span>    <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;bcache = <a class="code hl_function" href="bcache_8c.html#a545298aaa4549d15f26112ff46c3c4ac">mutt_bcache_open</a>(&amp;<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group);</div>
<div class="line"><span class="lineno"> 2511</span> </div>
<div class="line"><span class="lineno"> 2512</span>  <span class="comment">/* strip off extra articles if adding context is greater than $nntp_context */</span></div>
<div class="line"><span class="lineno"> 2513</span>  first = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message;</div>
<div class="line"><span class="lineno"> 2514</span>  <span class="keyword">const</span> <span class="keywordtype">long</span> c_nntp_context = <a class="code hl_function" href="config_2helpers_8c.html#aaa3d1087514bcd9d7ea4347bed337c5b">cs_subset_long</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_context&quot;</span>);</div>
<div class="line"><span class="lineno"> 2515</span>  <span class="keywordflow">if</span> (c_nntp_context &amp;&amp; ((<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message - first + 1) &gt; c_nntp_context))</div>
<div class="line"><span class="lineno"> 2516</span>    first = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message - c_nntp_context + 1;</div>
<div class="line"><span class="lineno"> 2517</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_loaded = first ? first - 1 : 0;</div>
<div class="line"><span class="lineno"> 2518</span>  count = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message;</div>
<div class="line"><span class="lineno"> 2519</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message = first;</div>
<div class="line"><span class="lineno"> 2520</span>  <a class="code hl_function" href="newsrc_8c.html#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno"> 2521</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;first_message = count;</div>
<div class="line"><span class="lineno"> 2522</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno"> 2523</span>  hc = <a class="code hl_function" href="newsrc_8c.html#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno"> 2524</span>  <a class="code hl_function" href="newsrc_8c.html#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>, hc);</div>
<div class="line"><span class="lineno"> 2525</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2526</span>  <span class="keywordflow">if</span> (!hc)</div>
<div class="line"><span class="lineno"> 2527</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp;= ~(<a class="code hl_define" href="core_2mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a> | <a class="code hl_define" href="core_2mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>); <span class="comment">// Clear the flags</span></div>
<div class="line"><span class="lineno"> 2528</span> </div>
<div class="line"><span class="lineno"> 2529</span>  <a class="code hl_function" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(<a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div>
<div class="line"><span class="lineno"> 2530</span>  rc = <a class="code hl_function" href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a>(m, hc, first, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2531</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno"> 2532</span>  <a class="code hl_function" href="hcache_2hcache_8c.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a>(&amp;hc);</div>
<div class="line"><span class="lineno"> 2533</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2534</span>  <span class="keywordflow">if</span> (rc &lt; 0)</div>
<div class="line"><span class="lineno"> 2535</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2536</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_loaded = <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;last_message;</div>
<div class="line"><span class="lineno"> 2537</span>  <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">newsrc_modified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2538</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div>
<div class="line"><span class="lineno"> 2539</span>}</div>
<div class="ttc" id="abcache_8c_html_a545298aaa4549d15f26112ff46c3c4ac"><div class="ttname"><a href="bcache_8c.html#a545298aaa4549d15f26112ff46c3c4ac">mutt_bcache_open</a></div><div class="ttdeci">struct BodyCache * mutt_bcache_open(struct ConnAccount *account, const char *mailbox)</div><div class="ttdoc">Open an Email-Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00146">bcache.c:146</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_aaa3d1087514bcd9d7ea4347bed337c5b"><div class="ttname"><a href="config_2helpers_8c.html#aaa3d1087514bcd9d7ea4347bed337c5b">cs_subset_long</a></div><div class="ttdeci">long cs_subset_long(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a long config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00095">helpers.c:95</a></div></div>
<div class="ttc" id="agroup__account__adata__free_html_ga978f1ef801a8eed9bf8fb2397f73234e"><div class="ttname"><a href="group__account__adata__free.html#ga978f1ef801a8eed9bf8fb2397f73234e">nntp_adata_free</a></div><div class="ttdeci">void nntp_adata_free(void **ptr)</div><div class="ttdoc">Free the private Account data - Implements Account::adata_free() -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8c_source.html#l00043">adata.c:43</a></div></div>
<div class="ttc" id="ahash_8c_html_a21cfc2c56db496fc57d3d85a71c03215"><div class="ttname"><a href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00362">hash.c:362</a></div></div>
<div class="ttc" id="ahcache_2hcache_8c_html_a791c8437997aca5d8747271ff4c75e98"><div class="ttname"><a href="hcache_2hcache_8c.html#a791c8437997aca5d8747271ff4c75e98">hcache_close</a></div><div class="ttdeci">void hcache_close(struct HeaderCache **ptr)</div><div class="ttdoc">Multiplexor for StoreOps::close.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2hcache_8c_source.html#l00544">hcache.c:544</a></div></div>
<div class="ttc" id="ahook_8c_html_a4d4e38013bebd1e23d668454609a3def"><div class="ttname"><a href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a></div><div class="ttdeci">void mutt_account_hook(const char *url)</div><div class="ttdoc">Perform an account hook.</div><div class="ttdef"><b>Definition</b> <a href="hook_8c_source.html#l00886">hook.c:886</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00062">memory.h:62</a></div></div>
<div class="ttc" id="amutt_2date_8c_html_ad1e6304a91c7b6f3c266a9b17c1740fe"><div class="ttname"><a href="mutt_2date_8c.html#ad1e6304a91c7b6f3c266a9b17c1740fe">mutt_date_now</a></div><div class="ttdeci">time_t mutt_date_now(void)</div><div class="ttdoc">Return the number of seconds since the Unix epoch.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2date_8c_source.html#l00456">date.c:456</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00232">string.c:232</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a00132ef57a28e8ec428b6fa298ea63d4"><div class="ttname"><a href="newsrc_8c.html#a00132ef57a28e8ec428b6fa298ea63d4">nntp_hcache_open</a></div><div class="ttdeci">struct HeaderCache * nntp_hcache_open(struct NntpMboxData *mdata)</div><div class="ttdoc">Open newsgroup hcache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00707">newsrc.c:707</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a140bf8e49e3f11e0d9cb4d8253767819"><div class="ttname"><a href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a></div><div class="ttdeci">void nntp_delete_group_cache(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove hcache and bcache of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00808">newsrc.c:808</a></div></div>
<div class="ttc" id="anewsrc_8c_html_a25f479090028437bbd1cc59a08942112"><div class="ttname"><a href="newsrc_8c.html#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a></div><div class="ttdeci">void nntp_hcache_update(struct NntpMboxData *mdata, struct HeaderCache *hc)</div><div class="ttdoc">Remove stale cached headers.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00731">newsrc.c:731</a></div></div>
<div class="ttc" id="anewsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00647">newsrc.c:647</a></div></div>
<div class="ttc" id="anewsrc_8c_html_ab103e38d32e64122d7892f29eeb67fcf"><div class="ttname"><a href="newsrc_8c.html#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a></div><div class="ttdeci">void nntp_bcache_update(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove stale cached messages.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00799">newsrc.c:799</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a64fdec9977db62a95daa5af59d280673"><div class="ttname"><a href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a></div><div class="ttdeci">void nntp_newsrc_close(struct NntpAccountData *adata)</div><div class="ttdoc">Unlock and close .newsrc file.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00120">newsrc.c:120</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a6ae05e2f17614ff64c3429ac40ec5119"><div class="ttname"><a href="nntp_2lib_8h.html#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a></div><div class="ttdeci">int nntp_newsrc_update(struct NntpAccountData *adata)</div><div class="ttdoc">Update .newsrc file.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00443">newsrc.c:443</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a9d3ef937cceedd7b24520f69c5191d68"><div class="ttname"><a href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a></div><div class="ttdeci">#define ANUM_FMT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00076">nntp.c:76</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_ae9ee1cc132aa482531fdc2463200e492"><div class="ttname"><a href="nntp_2lib_8h.html#ae9ee1cc132aa482531fdc2463200e492">nntp_select_server</a></div><div class="ttdeci">struct NntpAccountData * nntp_select_server(struct Mailbox *m, const char *server, bool leave_lock)</div><div class="ttdoc">Open a connection to an NNTP server.</div><div class="ttdef"><b>Definition</b> <a href="newsrc_8c_source.html#l00945">newsrc.c:945</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="anntp_8c_html_a91a111632ed65df68e26ff839265c801"><div class="ttname"><a href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a></div><div class="ttdeci">static int nntp_query(struct NntpMboxData *mdata, char *line, size_t linelen)</div><div class="ttdoc">Send data from buffer and receive answer to same buffer.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00729">nntp.c:729</a></div></div>
<div class="ttc" id="anntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00935">nntp.c:935</a></div></div>
<div class="ttc" id="anntp_8c_html_aee3d5be3d80d56eaa5f16865db0e22c6"><div class="ttname"><a href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a></div><div class="ttdeci">static int nntp_fetch_headers(struct Mailbox *m, void *hc, anum_t first, anum_t last, bool restore)</div><div class="ttdoc">Fetch headers.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01203">nntp.c:1203</a></div></div>
<div class="ttc" id="astructAccount_html_abf7f6da8ea09b773cd7b3eb6faa97b8e"><div class="ttname"><a href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">Account::adata_free</a></div><div class="ttdeci">void(* adata_free)(void **ptr)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00053">account.h:53</a></div></div>
<div class="ttc" id="astructHeaderCache_html"><div class="ttname"><a href="structHeaderCache.html">HeaderCache</a></div><div class="ttdoc">Header Cache.</div><div class="ttdef"><b>Definition</b> <a href="hcache_2lib_8h_source.html#l00085">lib.h:86</a></div></div>
<div class="ttc" id="astructMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="astructNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00035">adata.h:36</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a07329147457f52f9d362d7dc69bb0d68"><div class="ttname"><a href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">NntpAccountData::newsrc_modified</a></div><div class="ttdeci">bool newsrc_modified</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdoc">Hash Table: &quot;newsgroup&quot; -&gt; NntpMboxData.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to NNTP Server.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a68b41ff885dd90f05aec9c882f245a75"><div class="ttname"><a href="structNntpAccountData.html#a68b41ff885dd90f05aec9c882f245a75">NntpAccountData::check_time</a></div><div class="ttdeci">time_t check_time</div><div class="ttdef"><b>Definition</b> <a href="nntp_2adata_8h_source.html#l00057">adata.h:57</a></div></div>
<div class="ttc" id="astructNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00033">mdata.h:34</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdoc">Name of newsgroup.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00048">mdata.h:48</a></div></div>
<div class="ttc" id="astructUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00068">url.h:69</a></div></div>
<div class="ttc" id="astructUrl_html_a565d3391c8b8114a97ad6f1b7c75b5f6"><div class="ttname"><a href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">Url::host</a></div><div class="ttdeci">char * host</div><div class="ttdoc">Host.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00073">url.h:73</a></div></div>
<div class="ttc" id="astructUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="astructUrl_html_ad84f1714cab12c536e1bcc552b1c5b51"><div class="ttname"><a href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">Url::scheme</a></div><div class="ttdeci">enum UrlScheme scheme</div><div class="ttdoc">Scheme, e.g. U_SMTPS.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00070">url.h:70</a></div></div>
<div class="ttc" id="aurl_8c_html_a3030b91052fa1a5fee0ca7b1d4d94f93"><div class="ttname"><a href="url_8c.html#a3030b91052fa1a5fee0ca7b1d4d94f93">url_parse</a></div><div class="ttdeci">struct Url * url_parse(const char *src)</div><div class="ttdoc">Fill in Url.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00238">url.c:238</a></div></div>
<div class="ttc" id="aurl_8c_html_a7b05825b8bb8f87657713fe5bc6edfaa"><div class="ttname"><a href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a></div><div class="ttdeci">void url_free(struct Url **ptr)</div><div class="ttdoc">Free the contents of a URL.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00123">url.c:123</a></div></div>
<div class="ttc" id="aurl_8c_html_aa114f683b940e0773ca758b49a18a2a7"><div class="ttname"><a href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a></div><div class="ttdeci">int url_tostring(const struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object.</div><div class="ttdef"><b>Definition</b> <a href="url_8c_source.html#l00422">url.c:422</a></div></div>
<div class="ttc" id="aurl_8h_html_a04ddf99a809afcc240e4b3d517c98d20"><div class="ttname"><a href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a></div><div class="ttdeci">#define U_NO_FLAGS</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00049">url.h:49</a></div></div>
<div class="ttc" id="aurl_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a></div><div class="ttdeci">@ U_NNTPS</div><div class="ttdoc">Url is nntps://.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00042">url.h:42</a></div></div>
<div class="ttc" id="aurl_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a></div><div class="ttdeci">@ U_NNTP</div><div class="ttdoc">Url is nntp://.</div><div class="ttdef"><b>Definition</b> <a href="url_8h_source.html#l00041">url.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga958364186e337ca6168094e57f038296_cgraph.svg" width="719" height="1258"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaad12c3265a631efb7b39b28fae19121c" name="gaad12c3265a631efb7b39b28fae19121c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad12c3265a631efb7b39b28fae19121c">&#9670;&#160;</a></span>nm_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> nm_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="notmuch_8c_source.html#l02068">2068</a> of file <a class="el" href="notmuch_8c_source.html">notmuch.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2069</span>{</div>
<div class="line"><span class="lineno"> 2070</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="notmuch_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a>(m) != 0)</div>
<div class="line"><span class="lineno"> 2071</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2072</span> </div>
<div class="line"><span class="lineno"> 2073</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNmMboxData.html">NmMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_function" href="notmuch_2mdata_8c.html#a8906852e9cd707fc4e4fb61a264799dc">nm_mdata_get</a>(m);</div>
<div class="line"><span class="lineno"> 2074</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno"> 2075</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2076</span> </div>
<div class="line"><span class="lineno"> 2077</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: reading messages...[current count=%d]\n&quot;</span>, m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div>
<div class="line"><span class="lineno"> 2078</span> </div>
<div class="line"><span class="lineno"> 2079</span>  <a class="code hl_function" href="notmuch_8c.html#ae623124dfaf26d5005567bda66b288ff">progress_setup</a>(m);</div>
<div class="line"><span class="lineno"> 2080</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno"> 2081</span> </div>
<div class="line"><span class="lineno"> 2082</span>  notmuch_query_t *q = <a class="code hl_function" href="notmuch_8c.html#aa5c63cadd458794511139952c08abf77">get_query</a>(m, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2083</span>  <span class="keywordflow">if</span> (q)</div>
<div class="line"><span class="lineno"> 2084</span>  {</div>
<div class="line"><span class="lineno"> 2085</span>    rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div>
<div class="line"><span class="lineno"> 2086</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;query_type)</div>
<div class="line"><span class="lineno"> 2087</span>    {</div>
<div class="line"><span class="lineno"> 2088</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817">NM_QUERY_TYPE_UNKNOWN</a>: <span class="comment">// UNKNOWN should never occur, but MESGS is default</span></div>
<div class="line"><span class="lineno"> 2089</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0">NM_QUERY_TYPE_MESGS</a>:</div>
<div class="line"><span class="lineno"> 2090</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="notmuch_8c.html#abaf21ab5cf16eed638156c611e65e22f">read_mesgs_query</a>(m, q, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno"> 2091</span>          rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a>;</div>
<div class="line"><span class="lineno"> 2092</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2093</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc">NM_QUERY_TYPE_THREADS</a>:</div>
<div class="line"><span class="lineno"> 2094</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="notmuch_8c.html#a73570c4d26bc98c4862a64d96859d09f">read_threads_query</a>(m, q, <span class="keyword">false</span>, <a class="code hl_function" href="notmuch_8c.html#a686a65345db081f8d66accfc760e909b">get_limit</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)))</div>
<div class="line"><span class="lineno"> 2095</span>          rc = <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a>;</div>
<div class="line"><span class="lineno"> 2096</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2097</span>    }</div>
<div class="line"><span class="lineno"> 2098</span>    notmuch_query_destroy(q);</div>
<div class="line"><span class="lineno"> 2099</span>  }</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span>  <a class="code hl_function" href="notmuch_2db_8c.html#ab42f2a23cdaa9f6c5653fa7e9f9a8911">nm_db_release</a>(m);</div>
<div class="line"><span class="lineno"> 2102</span> </div>
<div class="line"><span class="lineno"> 2103</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;mtime.tv_sec = <a class="code hl_function" href="mutt_2date_8c.html#ad1e6304a91c7b6f3c266a9b17c1740fe">mutt_date_now</a>();</div>
<div class="line"><span class="lineno"> 2104</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;mtime.tv_nsec = 0;</div>
<div class="line"><span class="lineno"> 2105</span> </div>
<div class="line"><span class="lineno"> 2106</span>  <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;oldmsgcount = 0;</div>
<div class="line"><span class="lineno"> 2107</span> </div>
<div class="line"><span class="lineno"> 2108</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: reading messages... done [rc=%d, count=%d]\n&quot;</span>, rc, m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div>
<div class="line"><span class="lineno"> 2109</span>  <a class="code hl_function" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;progress);</div>
<div class="line"><span class="lineno"> 2110</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 2111</span>}</div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00044">logging2.h:44</a></div></div>
<div class="ttc" id="amxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a></div><div class="ttdeci">@ MX_OPEN_ABORT</div><div class="ttdoc">Open was aborted.</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00076">mxapi.h:76</a></div></div>
<div class="ttc" id="anotmuch_2db_8c_html_ab42f2a23cdaa9f6c5653fa7e9f9a8911"><div class="ttname"><a href="notmuch_2db_8c.html#ab42f2a23cdaa9f6c5653fa7e9f9a8911">nm_db_release</a></div><div class="ttdeci">int nm_db_release(struct Mailbox *m)</div><div class="ttdoc">Close the Notmuch database.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2db_8c_source.html#l00233">db.c:233</a></div></div>
<div class="ttc" id="anotmuch_2mdata_8c_html_a8906852e9cd707fc4e4fb61a264799dc"><div class="ttname"><a href="notmuch_2mdata_8c.html#a8906852e9cd707fc4e4fb61a264799dc">nm_mdata_get</a></div><div class="ttdeci">struct NmMboxData * nm_mdata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Notmuch Mailbox data.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2mdata_8c_source.html#l00096">mdata.c:96</a></div></div>
<div class="ttc" id="anotmuch_8c_html_a49be0897f8fb6c33c74a838b83f4ed46"><div class="ttname"><a href="notmuch_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a></div><div class="ttdeci">static int init_mailbox(struct Mailbox *m)</div><div class="ttdoc">Add Notmuch data to the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l00200">notmuch.c:200</a></div></div>
<div class="ttc" id="anotmuch_8c_html_a686a65345db081f8d66accfc760e909b"><div class="ttname"><a href="notmuch_8c.html#a686a65345db081f8d66accfc760e909b">get_limit</a></div><div class="ttdeci">static int get_limit(struct NmMboxData *mdata)</div><div class="ttdoc">Get the database limit.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l00415">notmuch.c:415</a></div></div>
<div class="ttc" id="anotmuch_8c_html_a73570c4d26bc98c4862a64d96859d09f"><div class="ttname"><a href="notmuch_8c.html#a73570c4d26bc98c4862a64d96859d09f">read_threads_query</a></div><div class="ttdeci">static bool read_threads_query(struct Mailbox *m, notmuch_query_t *q, bool dedup, int limit)</div><div class="ttdoc">Perform a query with threads.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l01032">notmuch.c:1032</a></div></div>
<div class="ttc" id="anotmuch_8c_html_aa5c63cadd458794511139952c08abf77"><div class="ttname"><a href="notmuch_8c.html#aa5c63cadd458794511139952c08abf77">get_query</a></div><div class="ttdeci">static notmuch_query_t * get_query(struct Mailbox *m, bool writable)</div><div class="ttdoc">Create a new query.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l00450">notmuch.c:450</a></div></div>
<div class="ttc" id="anotmuch_8c_html_abaf21ab5cf16eed638156c611e65e22f"><div class="ttname"><a href="notmuch_8c.html#abaf21ab5cf16eed638156c611e65e22f">read_mesgs_query</a></div><div class="ttdeci">static bool read_mesgs_query(struct Mailbox *m, notmuch_query_t *q, bool dedup)</div><div class="ttdoc">Search for matching messages.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l00962">notmuch.c:962</a></div></div>
<div class="ttc" id="anotmuch_8c_html_ae623124dfaf26d5005567bda66b288ff"><div class="ttname"><a href="notmuch_8c.html#ae623124dfaf26d5005567bda66b288ff">progress_setup</a></div><div class="ttdeci">static void progress_setup(struct Mailbox *m)</div><div class="ttdoc">Set up the Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l00700">notmuch.c:700</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_ab4c7a63427cdcaae2b1147ff6f010af4"><div class="ttname"><a href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a></div><div class="ttdeci">void progress_free(struct Progress **ptr)</div><div class="ttdoc">Free a Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00110">progress.c:110</a></div></div>
<div class="ttc" id="aquery_8h_html_a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817">NM_QUERY_TYPE_UNKNOWN</a></div><div class="ttdeci">@ NM_QUERY_TYPE_UNKNOWN</div><div class="ttdoc">Unknown query type. Error in notmuch query.</div><div class="ttdef"><b>Definition</b> <a href="query_8h_source.html#l00038">query.h:38</a></div></div>
<div class="ttc" id="aquery_8h_html_a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc">NM_QUERY_TYPE_THREADS</a></div><div class="ttdeci">@ NM_QUERY_TYPE_THREADS</div><div class="ttdoc">Whole threads.</div><div class="ttdef"><b>Definition</b> <a href="query_8h_source.html#l00037">query.h:37</a></div></div>
<div class="ttc" id="aquery_8h_html_a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0">NM_QUERY_TYPE_MESGS</a></div><div class="ttdeci">@ NM_QUERY_TYPE_MESGS</div><div class="ttdoc">Default: Messages only.</div><div class="ttdef"><b>Definition</b> <a href="query_8h_source.html#l00036">query.h:36</a></div></div>
<div class="ttc" id="astructNmMboxData_html"><div class="ttname"><a href="structNmMboxData.html">NmMboxData</a></div><div class="ttdoc">Notmuch-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_2mdata_8h_source.html#l00034">mdata.h:35</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaad12c3265a631efb7b39b28fae19121c_cgraph.svg" width="487" height="499"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga0de2de1958a22ca0679ea67f4f434db2" name="ga0de2de1958a22ca0679ea67f4f434db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0de2de1958a22ca0679ea67f4f434db2">&#9670;&#160;</a></span>pop_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> pop_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>
<p>Fetch only headers </p>

<p class="definition">Definition at line <a class="el" href="pop_8c_source.html#l00740">740</a> of file <a class="el" href="pop_8c_source.html">pop.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  741</span>{</div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span> (!m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>)</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>  <span class="keywordtype">char</span> buf[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  746</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structConnAccount.html">ConnAccount</a> cac = { { 0 } };</div>
<div class="line"><span class="lineno">  747</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structUrl.html">Url</a> url = { 0 };</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="pop_2lib_8c.html#a6838234c95ab9171c2edcf35aa8e6526">pop_parse_path</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), &amp;cac))</div>
<div class="line"><span class="lineno">  750</span>  {</div>
<div class="line"><span class="lineno">  751</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid POP path&quot;</span>), <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  752</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  753</span>  }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  <a class="code hl_function" href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a>(&amp;cac, &amp;url);</div>
<div class="line"><span class="lineno">  756</span>  url.<a class="code hl_variable" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = NULL;</div>
<div class="line"><span class="lineno">  757</span>  <a class="code hl_function" href="url_8c.html#aa114f683b940e0773ca758b49a18a2a7">url_tostring</a>(&amp;url, buf, <span class="keyword">sizeof</span>(buf), <a class="code hl_define" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>  <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(&amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>, buf);</div>
<div class="line"><span class="lineno">  760</span>  <a class="code hl_function" href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a>(&amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPopAccountData.html">PopAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div>
<div class="line"><span class="lineno">  763</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno">  764</span>  {</div>
<div class="line"><span class="lineno">  765</span>    <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="pop_2adata_8c.html#a83237cf63034bd33bf3a7c0d263cd0a7">pop_adata_new</a>();</div>
<div class="line"><span class="lineno">  766</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div>
<div class="line"><span class="lineno">  767</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code hl_variable" href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">adata_free</a> = <a class="code hl_function" href="group__account__adata__free.html#gaeb0ea187608ddd92a6e3fc05abdeb322">pop_adata_free</a>;</div>
<div class="line"><span class="lineno">  768</span>  }</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structConnection.html">Connection</a> *conn = adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a>;</div>
<div class="line"><span class="lineno">  771</span>  <span class="keywordflow">if</span> (!conn)</div>
<div class="line"><span class="lineno">  772</span>  {</div>
<div class="line"><span class="lineno">  773</span>    adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a> = <a class="code hl_function" href="mutt__socket_8c.html#a7de988b1f0286a570538c03f419622be">mutt_conn_new</a>(&amp;cac);</div>
<div class="line"><span class="lineno">  774</span>    conn = adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a>;</div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">if</span> (!conn)</div>
<div class="line"><span class="lineno">  776</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  777</span>  }</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>  <span class="keywordflow">if</span> (conn-&gt;<a class="code hl_variable" href="structConnection.html#af805fad417c8fa7c5079ef741d8233e2">fd</a> &lt; 0)</div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_function" href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="pop_2lib_8c.html#a531ae6abd6cf75fb0004bf019944a3b9">pop_open_connection</a>(adata) &lt; 0)</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">bcache</a> = <a class="code hl_function" href="bcache_8c.html#a545298aaa4549d15f26112ff46c3c4ac">mutt_bcache_open</a>(&amp;cac, NULL);</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>  <span class="comment">/* init (hard-coded) ACL rights */</span></div>
<div class="line"><span class="lineno">  788</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> = <a class="code hl_define" href="core_2mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a> | <a class="code hl_define" href="core_2mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>;</div>
<div class="line"><span class="lineno">  789</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno">  790</span>  <span class="comment">/* flags are managed using header cache, so it only makes sense to</span></div>
<div class="line"><span class="lineno">  791</span><span class="comment">   * enable them in that case */</span></div>
<div class="line"><span class="lineno">  792</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> |= <a class="code hl_define" href="core_2mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>;</div>
<div class="line"><span class="lineno">  793</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  796</span>  {</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="pop_2lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a>(m) &lt; 0)</div>
<div class="line"><span class="lineno">  798</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a> = adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#a43d1739eef3bcc971f1bf040511eda44">size</a>;</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Fetching list of messages...&quot;</span>));</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> rc = <a class="code hl_function" href="pop_8c.html#aed296290f911b6522df2dd97ce554f65">pop_fetch_headers</a>(m);</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">if</span> (rc &gt;= 0)</div>
<div class="line"><span class="lineno">  807</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span> (rc &lt; -1)</div>
<div class="line"><span class="lineno">  810</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div>
<div class="line"><span class="lineno">  811</span>  }</div>
<div class="line"><span class="lineno">  812</span>}</div>
<div class="ttc" id="abuffer_8c_html_ac958acbd189e463a2c3bbc2f23aaeb1e"><div class="ttname"><a href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a></div><div class="ttdeci">size_t buf_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00395">buffer.c:395</a></div></div>
<div class="ttc" id="agroup__account__adata__free_html_gaeb0ea187608ddd92a6e3fc05abdeb322"><div class="ttname"><a href="group__account__adata__free.html#gaeb0ea187608ddd92a6e3fc05abdeb322">pop_adata_free</a></div><div class="ttdeci">void pop_adata_free(void **ptr)</div><div class="ttdoc">Free the private Account data - Implements Account::adata_free() -.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8c_source.html#l00041">adata.c:41</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_af8c32ffc64dd55e92001a974a4be6bbf"><div class="ttname"><a href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00282">string.c:282</a></div></div>
<div class="ttc" id="amutt__account_8c_html_aab5936a62e77123420e4c515904567f3"><div class="ttname"><a href="mutt__account_8c.html#aab5936a62e77123420e4c515904567f3">account_to_url</a></div><div class="ttdeci">void account_to_url(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account.</div><div class="ttdef"><b>Definition</b> <a href="mutt__account_8c_source.html#l00080">mutt_account.c:80</a></div></div>
<div class="ttc" id="amutt__socket_8c_html_a7de988b1f0286a570538c03f419622be"><div class="ttname"><a href="mutt__socket_8c.html#a7de988b1f0286a570538c03f419622be">mutt_conn_new</a></div><div class="ttdeci">struct Connection * mutt_conn_new(const struct ConnAccount *cac)</div><div class="ttdoc">Create a new Connection.</div><div class="ttdef"><b>Definition</b> <a href="mutt__socket_8c_source.html#l00048">mutt_socket.c:48</a></div></div>
<div class="ttc" id="apop_2adata_8c_html_a83237cf63034bd33bf3a7c0d263cd0a7"><div class="ttname"><a href="pop_2adata_8c.html#a83237cf63034bd33bf3a7c0d263cd0a7">pop_adata_new</a></div><div class="ttdeci">struct PopAccountData * pop_adata_new(void)</div><div class="ttdoc">Create a new PopAccountData object.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8c_source.html#l00063">adata.c:63</a></div></div>
<div class="ttc" id="apop_2lib_8c_html_a531ae6abd6cf75fb0004bf019944a3b9"><div class="ttname"><a href="pop_2lib_8c.html#a531ae6abd6cf75fb0004bf019944a3b9">pop_open_connection</a></div><div class="ttdeci">int pop_open_connection(struct PopAccountData *adata)</div><div class="ttdoc">Open connection and authenticate.</div><div class="ttdef"><b>Definition</b> <a href="pop_2lib_8c_source.html#l00316">lib.c:316</a></div></div>
<div class="ttc" id="apop_2lib_8c_html_a6838234c95ab9171c2edcf35aa8e6526"><div class="ttname"><a href="pop_2lib_8c.html#a6838234c95ab9171c2edcf35aa8e6526">pop_parse_path</a></div><div class="ttdeci">int pop_parse_path(const char *path, struct ConnAccount *cac)</div><div class="ttdoc">Parse a POP mailbox name.</div><div class="ttdef"><b>Definition</b> <a href="pop_2lib_8c_source.html#l00082">lib.c:82</a></div></div>
<div class="ttc" id="apop_2lib_8c_html_af75fadb2503181ccec226915d3e1984f"><div class="ttname"><a href="pop_2lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a></div><div class="ttdeci">int pop_reconnect(struct Mailbox *m)</div><div class="ttdoc">Reconnect and verify indexes if connection was lost.</div><div class="ttdef"><b>Definition</b> <a href="pop_2lib_8c_source.html#l00608">lib.c:608</a></div></div>
<div class="ttc" id="apop_8c_html_aed296290f911b6522df2dd97ce554f65"><div class="ttname"><a href="pop_8c.html#aed296290f911b6522df2dd97ce554f65">pop_fetch_headers</a></div><div class="ttdeci">static int pop_fetch_headers(struct Mailbox *m)</div><div class="ttdoc">Read headers.</div><div class="ttdef"><b>Definition</b> <a href="pop_8c_source.html#l00323">pop.c:323</a></div></div>
<div class="ttc" id="astructConnAccount_html"><div class="ttname"><a href="structConnAccount.html">ConnAccount</a></div><div class="ttdoc">Login details for a remote server.</div><div class="ttdef"><b>Definition</b> <a href="connaccount_8h_source.html#l00052">connaccount.h:53</a></div></div>
<div class="ttc" id="astructConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00047">connection.h:48</a></div></div>
<div class="ttc" id="astructConnection_html_af805fad417c8fa7c5079ef741d8233e2"><div class="ttname"><a href="structConnection.html#af805fad417c8fa7c5079ef741d8233e2">Connection::fd</a></div><div class="ttdeci">int fd</div><div class="ttdoc">Socket file descriptor.</div><div class="ttdef"><b>Definition</b> <a href="connection_8h_source.html#l00053">connection.h:53</a></div></div>
<div class="ttc" id="astructPopAccountData_html"><div class="ttname"><a href="structPopAccountData.html">PopAccountData</a></div><div class="ttdoc">POP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00036">adata.h:37</a></div></div>
<div class="ttc" id="astructPopAccountData_html_a43d1739eef3bcc971f1bf040511eda44"><div class="ttname"><a href="structPopAccountData.html#a43d1739eef3bcc971f1bf040511eda44">PopAccountData::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00050">adata.h:50</a></div></div>
<div class="ttc" id="astructPopAccountData_html_a9b4f6edb28624aaec1821d52f7cb8d18"><div class="ttname"><a href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">PopAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to POP server.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00038">adata.h:38</a></div></div>
<div class="ttc" id="astructPopAccountData_html_ad54e1437730d092d35f53d7c4aba6e5a"><div class="ttname"><a href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">PopAccountData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdoc">body cache</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga0de2de1958a22ca0679ea67f4f434db2_cgraph.svg" width="531" height="728"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
