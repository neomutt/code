<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: parse()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-79-gf03987</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__command__parse.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">parse()<div class="ingroups"><a class="el" href="group__command__api.html">Command API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Function to parse a command.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for parse():</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse.svg" width="232" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1d313267e87bb38f830e81275c907000" id="r_ga1d313267e87bb38f830e81275c907000"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1d313267e87bb38f830e81275c907000">parse_alias</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga1d313267e87bb38f830e81275c907000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'alias' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga1d313267e87bb38f830e81275c907000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa14ce77a971c46d70f3ed8994b75e15b" id="r_gaa14ce77a971c46d70f3ed8994b75e15b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa14ce77a971c46d70f3ed8994b75e15b">parse_unalias</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaa14ce77a971c46d70f3ed8994b75e15b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unalias' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaa14ce77a971c46d70f3ed8994b75e15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d62e6a6e7c4028ddb8191187df005cb" id="r_ga4d62e6a6e7c4028ddb8191187df005cb"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4d62e6a6e7c4028ddb8191187df005cb">parse_attachments</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga4d62e6a6e7c4028ddb8191187df005cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'attachments' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga4d62e6a6e7c4028ddb8191187df005cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1931266e617df2f8214229a064d34c2" id="r_gaf1931266e617df2f8214229a064d34c2"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf1931266e617df2f8214229a064d34c2">parse_unattachments</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaf1931266e617df2f8214229a064d34c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unattachments' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaf1931266e617df2f8214229a064d34c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad58747bd464bd896dde69026afa8a7c0" id="r_gad58747bd464bd896dde69026afa8a7c0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad58747bd464bd896dde69026afa8a7c0">parse_uncolor_command</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gad58747bd464bd896dde69026afa8a7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse an 'uncolor' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gad58747bd464bd896dde69026afa8a7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6927e9c8ecad35846c02cb6d5010370" id="r_gaf6927e9c8ecad35846c02cb6d5010370"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6927e9c8ecad35846c02cb6d5010370">parse_uncolor</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaf6927e9c8ecad35846c02cb6d5010370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'uncolor' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaf6927e9c8ecad35846c02cb6d5010370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4b958bf3be5f24fd0d1d5f4fdf33ad3" id="r_gac4b958bf3be5f24fd0d1d5f4fdf33ad3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac4b958bf3be5f24fd0d1d5f4fdf33ad3">parse_unmono</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gac4b958bf3be5f24fd0d1d5f4fdf33ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unmono' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gac4b958bf3be5f24fd0d1d5f4fdf33ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf616a22b751781ecc4939f8c2ccad738" id="r_gaf616a22b751781ecc4939f8c2ccad738"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf616a22b751781ecc4939f8c2ccad738">parse_color</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaf616a22b751781ecc4939f8c2ccad738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'color' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaf616a22b751781ecc4939f8c2ccad738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8331824cbf146b60c43c68da964b6ed" id="r_gaa8331824cbf146b60c43c68da964b6ed"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa8331824cbf146b60c43c68da964b6ed">parse_mono</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaa8331824cbf146b60c43c68da964b6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'mono' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaa8331824cbf146b60c43c68da964b6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga875a13d06277bb4f7e2520efdaad7849" id="r_ga875a13d06277bb4f7e2520efdaad7849"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga875a13d06277bb4f7e2520efdaad7849">parse_alternates</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga875a13d06277bb4f7e2520efdaad7849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'alternates' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga875a13d06277bb4f7e2520efdaad7849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec68dd393ddc2329466f5ca78dc6100b" id="r_gaec68dd393ddc2329466f5ca78dc6100b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaec68dd393ddc2329466f5ca78dc6100b">parse_unalternates</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaec68dd393ddc2329466f5ca78dc6100b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unalternates' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaec68dd393ddc2329466f5ca78dc6100b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb8e10496eae487748d7a7c038007cc9" id="r_gacb8e10496eae487748d7a7c038007cc9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacb8e10496eae487748d7a7c038007cc9">parse_group</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gacb8e10496eae487748d7a7c038007cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'group' and 'ungroup' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gacb8e10496eae487748d7a7c038007cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga230cdd40cc597208e7cdd6bf88b80d6a" id="r_ga230cdd40cc597208e7cdd6bf88b80d6a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga230cdd40cc597208e7cdd6bf88b80d6a">parse_lists</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga230cdd40cc597208e7cdd6bf88b80d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'lists' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga230cdd40cc597208e7cdd6bf88b80d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga643e1c961982ef77286544356794b6e3" id="r_ga643e1c961982ef77286544356794b6e3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga643e1c961982ef77286544356794b6e3">parse_subscribe</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga643e1c961982ef77286544356794b6e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'subscribe' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga643e1c961982ef77286544356794b6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59437460aa55dfe3fd77e1b560bb3d21" id="r_ga59437460aa55dfe3fd77e1b560bb3d21"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga59437460aa55dfe3fd77e1b560bb3d21">parse_unlists</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga59437460aa55dfe3fd77e1b560bb3d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unlists' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga59437460aa55dfe3fd77e1b560bb3d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc343314e190fddebba3339f16ebb833" id="r_gabc343314e190fddebba3339f16ebb833"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabc343314e190fddebba3339f16ebb833">parse_unsubscribe</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gabc343314e190fddebba3339f16ebb833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unsubscribe' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gabc343314e190fddebba3339f16ebb833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7cbe63c370a7829ae51728dc8e1dfa45" id="r_ga7cbe63c370a7829ae51728dc8e1dfa45"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7cbe63c370a7829ae51728dc8e1dfa45">parse_ifdef</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga7cbe63c370a7829ae51728dc8e1dfa45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'ifdef' and 'ifndef' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga7cbe63c370a7829ae51728dc8e1dfa45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31dd8ee67b296a2f0ff92d621b348bdc" id="r_ga31dd8ee67b296a2f0ff92d621b348bdc"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga31dd8ee67b296a2f0ff92d621b348bdc">parse_finish</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga31dd8ee67b296a2f0ff92d621b348bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'finish' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga31dd8ee67b296a2f0ff92d621b348bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59ee9fc225abee5f4e573a62fb227b42" id="r_ga59ee9fc225abee5f4e573a62fb227b42"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga59ee9fc225abee5f4e573a62fb227b42">parse_ignore</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga59ee9fc225abee5f4e573a62fb227b42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'ignore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga59ee9fc225abee5f4e573a62fb227b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfdbe4e52a691dfdbc4301eeda1aa69f" id="r_gacfdbe4e52a691dfdbc4301eeda1aa69f"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacfdbe4e52a691dfdbc4301eeda1aa69f">parse_unignore</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gacfdbe4e52a691dfdbc4301eeda1aa69f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unignore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gacfdbe4e52a691dfdbc4301eeda1aa69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffa5ff30f5414f2eb4f109bf79d887d3" id="r_gaffa5ff30f5414f2eb4f109bf79d887d3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaffa5ff30f5414f2eb4f109bf79d887d3">parse_mailboxes</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaffa5ff30f5414f2eb4f109bf79d887d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'mailboxes' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaffa5ff30f5414f2eb4f109bf79d887d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dd0ed6bd66a9e5975e826d7278f2897" id="r_ga4dd0ed6bd66a9e5975e826d7278f2897"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4dd0ed6bd66a9e5975e826d7278f2897">parse_unmailboxes</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga4dd0ed6bd66a9e5975e826d7278f2897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unmailboxes' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga4dd0ed6bd66a9e5975e826d7278f2897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96fc34f8592ea0477bcd2c31c28b12a6" id="r_ga96fc34f8592ea0477bcd2c31c28b12a6"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga96fc34f8592ea0477bcd2c31c28b12a6">parse_my_hdr</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga96fc34f8592ea0477bcd2c31c28b12a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'my_hdr' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga96fc34f8592ea0477bcd2c31c28b12a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e2398c238e8a9876f28bc2754c50628" id="r_ga3e2398c238e8a9876f28bc2754c50628"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3e2398c238e8a9876f28bc2754c50628">parse_unmy_hdr</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga3e2398c238e8a9876f28bc2754c50628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unmy_hdr' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga3e2398c238e8a9876f28bc2754c50628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16cdeea9166660519d527849dab1c77c" id="r_ga16cdeea9166660519d527849dab1c77c"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga16cdeea9166660519d527849dab1c77c">parse_cd</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga16cdeea9166660519d527849dab1c77c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'cd' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga16cdeea9166660519d527849dab1c77c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae25de883eb426be9c30a20c71a00480b" id="r_gae25de883eb426be9c30a20c71a00480b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae25de883eb426be9c30a20c71a00480b">parse_echo</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gae25de883eb426be9c30a20c71a00480b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'echo' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gae25de883eb426be9c30a20c71a00480b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3397504345268e8f15f7ca2202e96bed" id="r_ga3397504345268e8f15f7ca2202e96bed"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3397504345268e8f15f7ca2202e96bed">parse_version</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga3397504345268e8f15f7ca2202e96bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'version' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga3397504345268e8f15f7ca2202e96bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdd09691d8d5ff8b2c13af5fb45eb730" id="r_gacdd09691d8d5ff8b2c13af5fb45eb730"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacdd09691d8d5ff8b2c13af5fb45eb730">parse_setenv</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gacdd09691d8d5ff8b2c13af5fb45eb730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'setenv' and 'unsetenv' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gacdd09691d8d5ff8b2c13af5fb45eb730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga921328edb45bd0c6121fb1be4d0222db" id="r_ga921328edb45bd0c6121fb1be4d0222db"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga921328edb45bd0c6121fb1be4d0222db">parse_source</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga921328edb45bd0c6121fb1be4d0222db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'source' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga921328edb45bd0c6121fb1be4d0222db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6b02f787ed01ad3d8a958e02f1e2cb1" id="r_gaa6b02f787ed01ad3d8a958e02f1e2cb1"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa6b02f787ed01ad3d8a958e02f1e2cb1">parse_nospam</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaa6b02f787ed01ad3d8a958e02f1e2cb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'nospam' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaa6b02f787ed01ad3d8a958e02f1e2cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad96f8b4a0cfdc9981de60f5fc81fd768" id="r_gad96f8b4a0cfdc9981de60f5fc81fd768"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad96f8b4a0cfdc9981de60f5fc81fd768">parse_spam</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gad96f8b4a0cfdc9981de60f5fc81fd768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'spam' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gad96f8b4a0cfdc9981de60f5fc81fd768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa953f9a4aee683d7ce1f888a3d48ed4" id="r_gaaa953f9a4aee683d7ce1f888a3d48ed4"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaa953f9a4aee683d7ce1f888a3d48ed4">parse_stailq</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaaa953f9a4aee683d7ce1f888a3d48ed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a list command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaaa953f9a4aee683d7ce1f888a3d48ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad80ead47161995f955c843847d93627a" id="r_gad80ead47161995f955c843847d93627a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad80ead47161995f955c843847d93627a">parse_unstailq</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gad80ead47161995f955c843847d93627a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse an unlist command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gad80ead47161995f955c843847d93627a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbf6ee74716c63dba6361734793b4216" id="r_gafbf6ee74716c63dba6361734793b4216"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafbf6ee74716c63dba6361734793b4216">parse_subjectrx_list</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gafbf6ee74716c63dba6361734793b4216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'subjectrx' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gafbf6ee74716c63dba6361734793b4216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga377505573b8064b0859282f6eb752586" id="r_ga377505573b8064b0859282f6eb752586"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga377505573b8064b0859282f6eb752586">parse_unsubjectrx_list</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga377505573b8064b0859282f6eb752586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unsubjectrx' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga377505573b8064b0859282f6eb752586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18fcc0ac5a07bdc1984530da10ee94a0" id="r_ga18fcc0ac5a07bdc1984530da10ee94a0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga18fcc0ac5a07bdc1984530da10ee94a0">parse_tag_formats</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga18fcc0ac5a07bdc1984530da10ee94a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'tag-formats' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga18fcc0ac5a07bdc1984530da10ee94a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7a151568a2ed2a3509a2b86f9e8c2bd" id="r_gae7a151568a2ed2a3509a2b86f9e8c2bd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae7a151568a2ed2a3509a2b86f9e8c2bd">parse_tag_transforms</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gae7a151568a2ed2a3509a2b86f9e8c2bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'tag-transforms' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gae7a151568a2ed2a3509a2b86f9e8c2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga772ea55995b42cacf940af6684cb6c54" id="r_ga772ea55995b42cacf940af6684cb6c54"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga772ea55995b42cacf940af6684cb6c54">parse_hooks</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga772ea55995b42cacf940af6684cb6c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'hooks' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga772ea55995b42cacf940af6684cb6c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93ab7ffcbd7129004f56f309adf129a5" id="r_ga93ab7ffcbd7129004f56f309adf129a5"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga93ab7ffcbd7129004f56f309adf129a5">parse_hook_charset</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga93ab7ffcbd7129004f56f309adf129a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse charset <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga93ab7ffcbd7129004f56f309adf129a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7be990b45e51131eb11018c4f3549e0d" id="r_ga7be990b45e51131eb11018c4f3549e0d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7be990b45e51131eb11018c4f3549e0d">parse_hook_global</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga7be990b45e51131eb11018c4f3549e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse global <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga7be990b45e51131eb11018c4f3549e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3da28e60a0288519fb3567b69c95a764" id="r_ga3da28e60a0288519fb3567b69c95a764"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3da28e60a0288519fb3567b69c95a764">parse_hook_pattern</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga3da28e60a0288519fb3567b69c95a764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse pattern-based <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga3da28e60a0288519fb3567b69c95a764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga747ebcbb4b9075d36a63123ca72afdba" id="r_ga747ebcbb4b9075d36a63123ca72afdba"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga747ebcbb4b9075d36a63123ca72afdba">parse_hook_mailbox</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga747ebcbb4b9075d36a63123ca72afdba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse mailbox pattern hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga747ebcbb4b9075d36a63123ca72afdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f43a059a463a96c142c8a0cf637c8a2" id="r_ga3f43a059a463a96c142c8a0cf637c8a2"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f43a059a463a96c142c8a0cf637c8a2">parse_hook_regex</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga3f43a059a463a96c142c8a0cf637c8a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse regex-based hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga3f43a059a463a96c142c8a0cf637c8a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20b775e9396be58083a5d95866e6aff3" id="r_ga20b775e9396be58083a5d95866e6aff3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga20b775e9396be58083a5d95866e6aff3">parse_hook_folder</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga20b775e9396be58083a5d95866e6aff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse folder hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga20b775e9396be58083a5d95866e6aff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac54f67a6e9cd9ebd35b63596b854b239" id="r_gac54f67a6e9cd9ebd35b63596b854b239"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac54f67a6e9cd9ebd35b63596b854b239">parse_hook_crypt</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gac54f67a6e9cd9ebd35b63596b854b239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse crypt hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gac54f67a6e9cd9ebd35b63596b854b239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac65134ac5e189e1f1beb95b695012023" id="r_gac65134ac5e189e1f1beb95b695012023"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac65134ac5e189e1f1beb95b695012023">parse_hook_mbox</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gac65134ac5e189e1f1beb95b695012023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse mbox hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gac65134ac5e189e1f1beb95b695012023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga438fcc31438511c08ced9cd557a222dd" id="r_ga438fcc31438511c08ced9cd557a222dd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga438fcc31438511c08ced9cd557a222dd">parse_hook_compress</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga438fcc31438511c08ced9cd557a222dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse compress hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga438fcc31438511c08ced9cd557a222dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48a52701d3d6829a85e1cd92fe55c690" id="r_ga48a52701d3d6829a85e1cd92fe55c690"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga48a52701d3d6829a85e1cd92fe55c690">parse_hook_index</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga48a52701d3d6829a85e1cd92fe55c690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the index format hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga48a52701d3d6829a85e1cd92fe55c690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25140e97e12146f8316d67713fce0ac7" id="r_ga25140e97e12146f8316d67713fce0ac7"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga25140e97e12146f8316d67713fce0ac7">parse_unhook</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga25140e97e12146f8316d67713fce0ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the unhook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga25140e97e12146f8316d67713fce0ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7281af848d324eeb1dea8b6035e79e9" id="r_gaf7281af848d324eeb1dea8b6035e79e9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf7281af848d324eeb1dea8b6035e79e9">parse_subscribe_to</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaf7281af848d324eeb1dea8b6035e79e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'subscribe-to' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaf7281af848d324eeb1dea8b6035e79e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga048d85d7258b4adaa06fa19a6e5a59ea" id="r_ga048d85d7258b4adaa06fa19a6e5a59ea"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga048d85d7258b4adaa06fa19a6e5a59ea">parse_unsubscribe_from</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga048d85d7258b4adaa06fa19a6e5a59ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unsubscribe-from' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga048d85d7258b4adaa06fa19a6e5a59ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1144e8aa9df44e04e97e7d8b47e7bdb0" id="r_ga1144e8aa9df44e04e97e7d8b47e7bdb0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1144e8aa9df44e04e97e7d8b47e7bdb0">parse_push</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga1144e8aa9df44e04e97e7d8b47e7bdb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'push' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga1144e8aa9df44e04e97e7d8b47e7bdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac44ec79cbd056f5f14eafa23fd4f1145" id="r_gac44ec79cbd056f5f14eafa23fd4f1145"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac44ec79cbd056f5f14eafa23fd4f1145">parse_bind</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gac44ec79cbd056f5f14eafa23fd4f1145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'bind' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gac44ec79cbd056f5f14eafa23fd4f1145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2cf5727cd4c3b3c4d92b42640b0de2d" id="r_gaf2cf5727cd4c3b3c4d92b42640b0de2d"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf2cf5727cd4c3b3c4d92b42640b0de2d">parse_unbind</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gaf2cf5727cd4c3b3c4d92b42640b0de2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unbind' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gaf2cf5727cd4c3b3c4d92b42640b0de2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga727bd820b00f1f2e40405a32ecc2df5b" id="r_ga727bd820b00f1f2e40405a32ecc2df5b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga727bd820b00f1f2e40405a32ecc2df5b">parse_macro</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga727bd820b00f1f2e40405a32ecc2df5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'macro' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga727bd820b00f1f2e40405a32ecc2df5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91bb4f235f1b7d4acff9adf169fee394" id="r_ga91bb4f235f1b7d4acff9adf169fee394"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga91bb4f235f1b7d4acff9adf169fee394">parse_exec</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga91bb4f235f1b7d4acff9adf169fee394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'exec' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga91bb4f235f1b7d4acff9adf169fee394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6939e8e4e9c591a188025b7a66c291cd" id="r_ga6939e8e4e9c591a188025b7a66c291cd"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6939e8e4e9c591a188025b7a66c291cd">parse_bind_macro</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga6939e8e4e9c591a188025b7a66c291cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse 'bind' and 'macro' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga6939e8e4e9c591a188025b7a66c291cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4795027174065eafbb5e54ba67c31cb" id="r_gad4795027174065eafbb5e54ba67c31cb"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad4795027174065eafbb5e54ba67c31cb">parse_lua</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:gad4795027174065eafbb5e54ba67c31cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'lua' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:gad4795027174065eafbb5e54ba67c31cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6136bc5edcef58dcf6f332253d0a1454" id="r_ga6136bc5edcef58dcf6f332253d0a1454"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6136bc5edcef58dcf6f332253d0a1454">parse_lua_source</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga6136bc5edcef58dcf6f332253d0a1454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'lua-source' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga6136bc5edcef58dcf6f332253d0a1454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9b16f5640cbd5ff73b8f834008bd31" id="r_ga9b9b16f5640cbd5ff73b8f834008bd31"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9b9b16f5640cbd5ff73b8f834008bd31">parse_set</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga9b9b16f5640cbd5ff73b8f834008bd31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'set' family of commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga9b9b16f5640cbd5ff73b8f834008bd31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a0f45e68ad536df89555ba4fef2eb43" id="r_ga4a0f45e68ad536df89555ba4fef2eb43"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4a0f45e68ad536df89555ba4fef2eb43">parse_score</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga4a0f45e68ad536df89555ba4fef2eb43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'score' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga4a0f45e68ad536df89555ba4fef2eb43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ca28a758d975118c108d14007dfb965" id="r_ga1ca28a758d975118c108d14007dfb965"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1ca28a758d975118c108d14007dfb965">parse_unscore</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga1ca28a758d975118c108d14007dfb965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'unscore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga1ca28a758d975118c108d14007dfb965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4773fb18f096548fbe29830b01cfd744" id="r_ga4773fb18f096548fbe29830b01cfd744"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4773fb18f096548fbe29830b01cfd744">parse_sidebar_pin</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga4773fb18f096548fbe29830b01cfd744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'sidebar_pin' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga4773fb18f096548fbe29830b01cfd744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a90378d2905ffb1b43db4a068cdcbe4" id="r_ga1a90378d2905ffb1b43db4a068cdcbe4"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a90378d2905ffb1b43db4a068cdcbe4">parse_sidebar_unpin</a> (const struct <a class="el" href="structCommand.html">Command</a> *cmd, struct <a class="el" href="structBuffer.html">Buffer</a> *line, struct <a class="el" href="structBuffer.html">Buffer</a> *err)</td></tr>
<tr class="memdesc:ga1a90378d2905ffb1b43db4a068cdcbe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the 'sidebar_unpin' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -.  <br /></td></tr>
<tr class="separator:ga1a90378d2905ffb1b43db4a068cdcbe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Function to parse a command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td><a class="el" href="structCommand.html">Command</a> being parsed </td></tr>
    <tr><td class="paramname">line</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer.">Buffer</a> containing string to be parsed </td></tr>
    <tr><td class="paramname">err</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer.">Buffer</a> for error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557" title="Error codes for command_t parse functions.">CommandResult</a></td><td>Result e.g. <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215" title="Success: Command worked.">MUTT_CMD_SUCCESS</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>cmd is not NULL </dd>
<dd>
line is not NULL </dd>
<dd>
err is not NULL </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1d313267e87bb38f830e81275c907000" name="ga1d313267e87bb38f830e81275c907000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d313267e87bb38f830e81275c907000">&#9670;&#160;</a></span>parse_alias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_alias </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'alias' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>e.g. "alias jim James Smith &lt;js@example.com&gt; # Pointy-haired boss"</p>
<p>Parse:</p><ul>
<li><code>alias [ -group &lt;name&gt; ... ] &lt;key&gt; &lt;address&gt; [, &lt;address&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="alias_2commands_8c_source.html#l00137">137</a> of file <a class="el" href="alias_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{</div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  141</span>  {</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  144</span>  }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structAlias.html">Alias</a> *tmp = NULL;</div>
<div class="line"><span class="lineno">  147</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7b">NotifyAlias</a> event;</div>
<div class="line"><span class="lineno">  148</span>  <span class="keyword">struct </span>GroupList gl = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(gl);</div>
<div class="line"><span class="lineno">  149</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  150</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="comment">/* name */</span></div>
<div class="line"><span class="lineno">  153</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  154</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;First token is &#39;%s&#39;\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  155</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a>(&amp;gl, token, line, err, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>) == -1)</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordtype">char</span> *name = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>  <span class="comment">/* address list */</span></div>
<div class="line"><span class="lineno">  161</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a39c530f9e5a5519bd49982d2fcb05117">TOKEN_QUOTE</a> | <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a> | <a class="code hl_define" href="extract_8h.html#ab9d8cc976e2f0cc3ed7f51df426cefeb">TOKEN_SEMICOLON</a>);</div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;Second token is &#39;%s&#39;\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  163</span>  <span class="keyword">struct </span>AddressList al = <a class="code hl_define" href="queue_8h.html#ac269df7d4126ed9885156cbad2cbf8af">TAILQ_HEAD_INITIALIZER</a>(al);</div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordtype">int</span> parsed = <a class="code hl_function" href="address_2address_8c.html#a8ac391285f1af69a114544e6575b597a">mutt_addrlist_parse2</a>(&amp;al, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">if</span> (parsed == 0)</div>
<div class="line"><span class="lineno">  166</span>  {</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Warning: Bad address &#39;%s&#39; in alias &#39;%s&#39;&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), name);</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;name);</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  170</span>  }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>  <span class="comment">/* IDN */</span></div>
<div class="line"><span class="lineno">  173</span>  <span class="keywordtype">char</span> *estr = NULL;</div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="address_2address_8c.html#abe8afdaeb5bdca19a1867823d73a1ec4">mutt_addrlist_to_intl</a>(&amp;al, &amp;estr))</div>
<div class="line"><span class="lineno">  175</span>  {</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Warning: Bad IDN &#39;%s&#39; in alias &#39;%s&#39;&quot;</span>), estr, name);</div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;name);</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;estr);</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  180</span>  }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>  <span class="comment">/* check to see if an alias with this name already exists */</span></div>
<div class="line"><span class="lineno">  183</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(tmp, &amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>, entries)</div>
<div class="line"><span class="lineno">  184</span>  {</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(tmp-&gt;<a class="code hl_variable" href="structAlias.html#a60062d424ebbf53c68c5ccfd478da8d8">name</a>, name))</div>
<div class="line"><span class="lineno">  186</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  187</span>  }</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">if</span> (tmp)</div>
<div class="line"><span class="lineno">  190</span>  {</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;name);</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_function" href="reverse_8c.html#adcac6af93dc6927de0a242fb1a75577b">alias_reverse_delete</a>(tmp);</div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">/* override the previous value */</span></div>
<div class="line"><span class="lineno">  194</span>    <a class="code hl_function" href="address_2address_8c.html#a396bcf6adfff6663096fa6ae99c31c9a">mutt_addrlist_clear</a>(&amp;tmp-&gt;<a class="code hl_variable" href="structAlias.html#a82faa14f5f54dafba615959032b3731b">addr</a>);</div>
<div class="line"><span class="lineno">  195</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;tmp-&gt;<a class="code hl_variable" href="structAlias.html#a37316363bf6fde4707bbecd2ce7c1053">comment</a>);</div>
<div class="line"><span class="lineno">  196</span>    <span class="keyword">event</span> = <a class="code hl_enumvalue" href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7babdeea2e55e2413c8b164ab97337bba2f">NT_ALIAS_CHANGE</a>;</div>
<div class="line"><span class="lineno">  197</span>  }</div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  199</span>  {</div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">/* create a new alias */</span></div>
<div class="line"><span class="lineno">  201</span>    tmp = <a class="code hl_function" href="alias_8c.html#aa8bb09e1ec41cd6e59b7de5d00b19380">alias_new</a>();</div>
<div class="line"><span class="lineno">  202</span>    tmp-&gt;<a class="code hl_variable" href="structAlias.html#a60062d424ebbf53c68c5ccfd478da8d8">name</a> = name;</div>
<div class="line"><span class="lineno">  203</span>    <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>, tmp, entries);</div>
<div class="line"><span class="lineno">  204</span>    <span class="keyword">event</span> = <a class="code hl_enumvalue" href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7ba9525be735e155b2a521ca53b3a0b413a">NT_ALIAS_ADD</a>;</div>
<div class="line"><span class="lineno">  205</span>  }</div>
<div class="line"><span class="lineno">  206</span>  tmp-&gt;<a class="code hl_variable" href="structAlias.html#a82faa14f5f54dafba615959032b3731b">addr</a> = al;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>  <a class="code hl_function" href="address_2group_8c.html#a5b55c0d727994fc62d3b2030b38f4061">grouplist_add_addrlist</a>(&amp;gl, &amp;tmp-&gt;<a class="code hl_variable" href="structAlias.html#a82faa14f5f54dafba615959032b3731b">addr</a>);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  <span class="keyword">const</span> <span class="keywordtype">short</span> c_debug_level = <a class="code hl_function" href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;debug_level&quot;</span>);</div>
<div class="line"><span class="lineno">  211</span>  <span class="keywordflow">if</span> (c_debug_level &gt; <a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a47035b1c95427cb7e6ade445734c21d2">LL_DEBUG4</a>)</div>
<div class="line"><span class="lineno">  212</span>  {</div>
<div class="line"><span class="lineno">  213</span>    <span class="comment">/* A group is terminated with an empty address, so check a-&gt;mailbox */</span></div>
<div class="line"><span class="lineno">  214</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAddress.html">Address</a> *a = NULL;</div>
<div class="line"><span class="lineno">  215</span>    <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(a, &amp;tmp-&gt;<a class="code hl_variable" href="structAlias.html#a82faa14f5f54dafba615959032b3731b">addr</a>, entries)</div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>      <span class="keywordflow">if</span> (!a-&gt;<a class="code hl_variable" href="structAddress.html#a45cd47ee76ef04b63f55a0345c691fe8">mailbox</a>)</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>      <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="structAddress.html#a12bd44ccc016e50c674ec3a902ba1c28">group</a>)</div>
<div class="line"><span class="lineno">  221</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;  Group %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(a-&gt;<a class="code hl_variable" href="structAddress.html#a45cd47ee76ef04b63f55a0345c691fe8">mailbox</a>));</div>
<div class="line"><span class="lineno">  222</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  223</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;  %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(a-&gt;<a class="code hl_variable" href="structAddress.html#a45cd47ee76ef04b63f55a0345c691fe8">mailbox</a>));</div>
<div class="line"><span class="lineno">  224</span>    }</div>
<div class="line"><span class="lineno">  225</span>  }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line) &amp;&amp; (line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>[0] == <span class="charliteral">&#39;#&#39;</span>))</div>
<div class="line"><span class="lineno">  228</span>  {</div>
<div class="line"><span class="lineno">  229</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++; <span class="comment">// skip over the &quot;# &quot;</span></div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno">  231</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_function" href="alias_2commands_8c.html#a616800c2b79940c2020ad49e9f2657ce">parse_alias_comments</a>(tmp, line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  234</span>    *line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">// We&#39;re done parsing</span></div>
<div class="line"><span class="lineno">  235</span>  }</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>  <a class="code hl_function" href="reverse_8c.html#acbab505cc98b97d6524ed9ceed41f7be">alias_reverse_add</a>(tmp);</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;%s: %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  240</span>             (event == <a class="code hl_enumvalue" href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7ba9525be735e155b2a521ca53b3a0b413a">NT_ALIAS_ADD</a>) ? <span class="stringliteral">&quot;NT_ALIAS_ADD&quot;</span> : <span class="stringliteral">&quot;NT_ALIAS_CHANGE&quot;</span>, tmp-&gt;<a class="code hl_variable" href="structAlias.html#a60062d424ebbf53c68c5ccfd478da8d8">name</a>);</div>
<div class="line"><span class="lineno">  241</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structEventAlias.html">EventAlias</a> ev_a = { tmp };</div>
<div class="line"><span class="lineno">  242</span>  <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8aed9e9769f3355292b796eb7675411b04">NT_ALIAS</a>, event, &amp;ev_a);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>done:</div>
<div class="line"><span class="lineno">  247</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  248</span>  <a class="code hl_function" href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a>(&amp;gl);</div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  250</span>}</div>
<div class="ttc" id="aaddress_2address_8c_html_a396bcf6adfff6663096fa6ae99c31c9a"><div class="ttname"><a href="address_2address_8c.html#a396bcf6adfff6663096fa6ae99c31c9a">mutt_addrlist_clear</a></div><div class="ttdeci">void mutt_addrlist_clear(struct AddressList *al)</div><div class="ttdoc">Unlink and free all Address in an AddressList.</div><div class="ttdef"><b>Definition</b> <a href="address_2address_8c_source.html#l01460">address.c:1460</a></div></div>
<div class="ttc" id="aaddress_2address_8c_html_a8ac391285f1af69a114544e6575b597a"><div class="ttname"><a href="address_2address_8c.html#a8ac391285f1af69a114544e6575b597a">mutt_addrlist_parse2</a></div><div class="ttdeci">int mutt_addrlist_parse2(struct AddressList *al, const char *s)</div><div class="ttdoc">Parse a list of email addresses.</div><div class="ttdef"><b>Definition</b> <a href="address_2address_8c_source.html#l00644">address.c:644</a></div></div>
<div class="ttc" id="aaddress_2address_8c_html_abe8afdaeb5bdca19a1867823d73a1ec4"><div class="ttname"><a href="address_2address_8c.html#abe8afdaeb5bdca19a1867823d73a1ec4">mutt_addrlist_to_intl</a></div><div class="ttdeci">int mutt_addrlist_to_intl(struct AddressList *al, char **err)</div><div class="ttdoc">Convert an Address list to Punycode.</div><div class="ttdef"><b>Definition</b> <a href="address_2address_8c_source.html#l01293">address.c:1293</a></div></div>
<div class="ttc" id="aaddress_2group_8c_html_a5b55c0d727994fc62d3b2030b38f4061"><div class="ttname"><a href="address_2group_8c.html#a5b55c0d727994fc62d3b2030b38f4061">grouplist_add_addrlist</a></div><div class="ttdeci">void grouplist_add_addrlist(struct GroupList *gl, struct AddressList *al)</div><div class="ttdoc">Add Address list to a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00224">group.c:224</a></div></div>
<div class="ttc" id="aaddress_2group_8c_html_ae31fd3cb547309f86b1e18bb74e4f2f6"><div class="ttname"><a href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a></div><div class="ttdeci">void grouplist_destroy(struct GroupList *gl)</div><div class="ttdoc">Free a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00203">group.c:203</a></div></div>
<div class="ttc" id="aalias_2commands_8c_html_a616800c2b79940c2020ad49e9f2657ce"><div class="ttname"><a href="alias_2commands_8c.html#a616800c2b79940c2020ad49e9f2657ce">parse_alias_comments</a></div><div class="ttdeci">void parse_alias_comments(struct Alias *alias, const char *com)</div><div class="ttdoc">Parse the alias/query comment field.</div><div class="ttdef"><b>Definition</b> <a href="alias_2commands_8c_source.html#l00094">commands.c:94</a></div></div>
<div class="ttc" id="aalias_8c_html_a0831e7ca6080141051db5bde20cb45f7"><div class="ttname"><a href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a></div><div class="ttdeci">struct AliasList Aliases</div><div class="ttdoc">List of all the user&#39;s email aliases.</div><div class="ttdef"><b>Definition</b> <a href="alias_8c_source.html#l00061">alias.c:61</a></div></div>
<div class="ttc" id="aalias_8c_html_aa8bb09e1ec41cd6e59b7de5d00b19380"><div class="ttname"><a href="alias_8c.html#aa8bb09e1ec41cd6e59b7de5d00b19380">alias_new</a></div><div class="ttdeci">struct Alias * alias_new(void)</div><div class="ttdoc">Create a new Alias.</div><div class="ttdef"><b>Definition</b> <a href="alias_8c_source.html#l00656">alias.c:656</a></div></div>
<div class="ttc" id="aalias_8h_html_a62b52be6266dd0fae07e4133e7b97d7b"><div class="ttname"><a href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7b">NotifyAlias</a></div><div class="ttdeci">NotifyAlias</div><div class="ttdoc">Alias notification types.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00054">alias.h:55</a></div></div>
<div class="ttc" id="aalias_8h_html_a62b52be6266dd0fae07e4133e7b97d7ba9525be735e155b2a521ca53b3a0b413a"><div class="ttname"><a href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7ba9525be735e155b2a521ca53b3a0b413a">NT_ALIAS_ADD</a></div><div class="ttdeci">@ NT_ALIAS_ADD</div><div class="ttdoc">Alias has been added.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00056">alias.h:56</a></div></div>
<div class="ttc" id="aalias_8h_html_a62b52be6266dd0fae07e4133e7b97d7babdeea2e55e2413c8b164ab97337bba2f"><div class="ttname"><a href="alias_8h.html#a62b52be6266dd0fae07e4133e7b97d7babdeea2e55e2413c8b164ab97337bba2f">NT_ALIAS_CHANGE</a></div><div class="ttdeci">@ NT_ALIAS_CHANGE</div><div class="ttdoc">Alias has been changed.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00059">alias.h:59</a></div></div>
<div class="ttc" id="abuffer_8c_html_a02123807d31181ac701b566226e93b33"><div class="ttname"><a href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a></div><div class="ttdeci">int buf_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00161">buffer.c:161</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="acommand_8h_html_ab263ddf6663365ed434ab750bf339557"><div class="ttname"><a href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a></div><div class="ttdeci">CommandResult</div><div class="ttdoc">Error codes for command_t parse functions.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00034">command.h:35</a></div></div>
<div class="ttc" id="acommand_8h_html_ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215"><div class="ttname"><a href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a></div><div class="ttdeci">@ MUTT_CMD_SUCCESS</div><div class="ttdoc">Success: Command worked.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00038">command.h:38</a></div></div>
<div class="ttc" id="acommand_8h_html_ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd"><div class="ttname"><a href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a></div><div class="ttdeci">@ MUTT_CMD_ERROR</div><div class="ttdoc">Error: Can&#39;t help the user.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00036">command.h:36</a></div></div>
<div class="ttc" id="acommand_8h_html_ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72"><div class="ttname"><a href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a></div><div class="ttdeci">@ MUTT_CMD_WARNING</div><div class="ttdoc">Warning: Help given to the user.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00037">command.h:37</a></div></div>
<div class="ttc" id="acommands_2group_8c_html_a5b6fdcd10348c3e4ad51c2c228169191"><div class="ttname"><a href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a></div><div class="ttdeci">int parse_grouplist(struct GroupList *gl, struct Buffer *token, struct Buffer *line, struct Buffer *err, struct HashTable *groups)</div><div class="ttdoc">Parse a group context.</div><div class="ttdef"><b>Definition</b> <a href="commands_2group_8c_source.html#l00056">group.c:56</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="config_2helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00143">helpers.c:143</a></div></div>
<div class="ttc" id="aextract_8c_html_aabf9d6ea465d5c12bfa99c6b3d8dcf94"><div class="ttname"><a href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a></div><div class="ttdeci">int parse_extract_token(struct Buffer *dest, struct Buffer *line, TokenFlags flags)</div><div class="ttdoc">Extract one token from a string.</div><div class="ttdef"><b>Definition</b> <a href="extract_8c_source.html#l00049">extract.c:49</a></div></div>
<div class="ttc" id="aextract_8h_html_a353479c59d2069c4456ac5561d255a5d"><div class="ttname"><a href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a></div><div class="ttdeci">#define TOKEN_SPACE</div><div class="ttdoc">Don&#39;t treat whitespace as a term.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00048">extract.h:48</a></div></div>
<div class="ttc" id="aextract_8h_html_a39c530f9e5a5519bd49982d2fcb05117"><div class="ttname"><a href="extract_8h.html#a39c530f9e5a5519bd49982d2fcb05117">TOKEN_QUOTE</a></div><div class="ttdeci">#define TOKEN_QUOTE</div><div class="ttdoc">Don&#39;t interpret quotes.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00049">extract.h:49</a></div></div>
<div class="ttc" id="aextract_8h_html_a7d49d6e1f1a75e5c1ee281a8f8c242fa"><div class="ttname"><a href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a></div><div class="ttdeci">#define MoreArgs(buf)</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00031">extract.h:31</a></div></div>
<div class="ttc" id="aextract_8h_html_ab9d8cc976e2f0cc3ed7f51df426cefeb"><div class="ttname"><a href="extract_8h.html#ab9d8cc976e2f0cc3ed7f51df426cefeb">TOKEN_SEMICOLON</a></div><div class="ttdeci">#define TOKEN_SEMICOLON</div><div class="ttdoc">Don&#39;t treat ; as special.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00052">extract.h:52</a></div></div>
<div class="ttc" id="aextract_8h_html_ac836dbb7a5321eb5e81497298499263c"><div class="ttname"><a href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a></div><div class="ttdeci">#define TOKEN_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00045">extract.h:45</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00091">logging2.h:91</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a47035b1c95427cb7e6ade445734c21d2"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a47035b1c95427cb7e6ade445734c21d2">LL_DEBUG4</a></div><div class="ttdeci">@ LL_DEBUG4</div><div class="ttdoc">Log at debug level 4.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00048">logging2.h:48</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a></div><div class="ttdeci">@ LL_DEBUG5</div><div class="ttdoc">Log at debug level 5.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00049">logging2.h:49</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a></div><div class="ttdeci">@ LL_NOTIFY</div><div class="ttdoc">Log of notifications.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00050">logging2.h:50</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2notify_8c_html_ade2f42f8e0d8a843e87816300799a8e1"><div class="ttname"><a href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a></div><div class="ttdeci">bool notify_send(struct Notify *notify, enum NotifyType event_type, int event_subtype, void *event_data)</div><div class="ttdoc">Send out a notification message.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2notify_8c_source.html#l00173">notify.c:173</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a29db81d6f5a7dd216cbea75ecf8a5885"><div class="ttname"><a href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a></div><div class="ttdeci">bool mutt_istr_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings, ignoring case.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00674">string.c:674</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a3fe33d90e4814281cd57de048119c950"><div class="ttname"><a href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00257">string.c:257</a></div></div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8aed9e9769f3355292b796eb7675411b04"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8aed9e9769f3355292b796eb7675411b04">NT_ALIAS</a></div><div class="ttdeci">@ NT_ALIAS</div><div class="ttdoc">Alias has changed, NotifyAlias, EventAlias.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00037">notify_type.h:37</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="aqueue_8h_html_a16e5fc168e7f3494d4b1df54447d871e"><div class="ttname"><a href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a></div><div class="ttdeci">#define TAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00782">queue.h:782</a></div></div>
<div class="ttc" id="aqueue_8h_html_a3d41ce2c3f1dd21c0d4051d13204c321"><div class="ttname"><a href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a></div><div class="ttdeci">#define STAILQ_HEAD_INITIALIZER(head)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00324">queue.h:324</a></div></div>
<div class="ttc" id="aqueue_8h_html_a512bee16b46f601078c96c776d2648c3"><div class="ttname"><a href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a></div><div class="ttdeci">#define TAILQ_INSERT_TAIL(head, elm, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00866">queue.h:866</a></div></div>
<div class="ttc" id="aqueue_8h_html_ac269df7d4126ed9885156cbad2cbf8af"><div class="ttname"><a href="queue_8h.html#ac269df7d4126ed9885156cbad2cbf8af">TAILQ_HEAD_INITIALIZER</a></div><div class="ttdeci">#define TAILQ_HEAD_INITIALIZER(head)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00694">queue.h:694</a></div></div>
<div class="ttc" id="areverse_8c_html_acbab505cc98b97d6524ed9ceed41f7be"><div class="ttname"><a href="reverse_8c.html#acbab505cc98b97d6524ed9ceed41f7be">alias_reverse_add</a></div><div class="ttdeci">void alias_reverse_add(struct Alias *alias)</div><div class="ttdoc">Add an email address lookup for an Alias.</div><div class="ttdef"><b>Definition</b> <a href="reverse_8c_source.html#l00061">reverse.c:61</a></div></div>
<div class="ttc" id="areverse_8c_html_adcac6af93dc6927de0a242fb1a75577b"><div class="ttname"><a href="reverse_8c.html#adcac6af93dc6927de0a242fb1a75577b">alias_reverse_delete</a></div><div class="ttdeci">void alias_reverse_delete(struct Alias *alias)</div><div class="ttdoc">Remove an email address lookup for an Alias.</div><div class="ttdef"><b>Definition</b> <a href="reverse_8c_source.html#l00083">reverse.c:83</a></div></div>
<div class="ttc" id="astructAddress_html"><div class="ttname"><a href="structAddress.html">Address</a></div><div class="ttdoc">An email address.</div><div class="ttdef"><b>Definition</b> <a href="address_8h_source.html#l00034">address.h:35</a></div></div>
<div class="ttc" id="astructAddress_html_a12bd44ccc016e50c674ec3a902ba1c28"><div class="ttname"><a href="structAddress.html#a12bd44ccc016e50c674ec3a902ba1c28">Address::group</a></div><div class="ttdeci">bool group</div><div class="ttdoc">Group mailbox?</div><div class="ttdef"><b>Definition</b> <a href="address_8h_source.html#l00038">address.h:38</a></div></div>
<div class="ttc" id="astructAddress_html_a45cd47ee76ef04b63f55a0345c691fe8"><div class="ttname"><a href="structAddress.html#a45cd47ee76ef04b63f55a0345c691fe8">Address::mailbox</a></div><div class="ttdeci">struct Buffer * mailbox</div><div class="ttdoc">Mailbox and host address.</div><div class="ttdef"><b>Definition</b> <a href="address_8h_source.html#l00037">address.h:37</a></div></div>
<div class="ttc" id="astructAlias_html"><div class="ttname"><a href="structAlias.html">Alias</a></div><div class="ttdoc">A shortcut for an email address or addresses.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00034">alias.h:35</a></div></div>
<div class="ttc" id="astructAlias_html_a37316363bf6fde4707bbecd2ce7c1053"><div class="ttname"><a href="structAlias.html#a37316363bf6fde4707bbecd2ce7c1053">Alias::comment</a></div><div class="ttdeci">char * comment</div><div class="ttdoc">Free-form comment string.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00038">alias.h:38</a></div></div>
<div class="ttc" id="astructAlias_html_a60062d424ebbf53c68c5ccfd478da8d8"><div class="ttname"><a href="structAlias.html#a60062d424ebbf53c68c5ccfd478da8d8">Alias::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Short name.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00036">alias.h:36</a></div></div>
<div class="ttc" id="astructAlias_html_a82faa14f5f54dafba615959032b3731b"><div class="ttname"><a href="structAlias.html#a82faa14f5f54dafba615959032b3731b">Alias::addr</a></div><div class="ttdeci">struct AddressList addr</div><div class="ttdoc">List of Addresses the Alias expands to.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00037">alias.h:37</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructBuffer_html_a058d67252184c2eeaf57059544f8cdcf"><div class="ttname"><a href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">Buffer::dptr</a></div><div class="ttdeci">char * dptr</div><div class="ttdoc">Current read/write position.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00038">buffer.h:38</a></div></div>
<div class="ttc" id="astructCommand_html_aaac7db0461198bc84c6bb01e64ae82e3"><div class="ttname"><a href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">Command::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Name of the Command.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00159">command.h:159</a></div></div>
<div class="ttc" id="astructEventAlias_html"><div class="ttname"><a href="structEventAlias.html">EventAlias</a></div><div class="ttdoc">An alias-change event.</div><div class="ttdef"><b>Definition</b> <a href="alias_8h_source.html#l00065">alias.h:66</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_adaa5ed0e6cc9e642769b0df74594700b"><div class="ttname"><a href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">NeoMutt::notify</a></div><div class="ttdeci">struct Notify * notify</div><div class="ttdoc">Notifications handler.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00044">neomutt.h:44</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af0ea35a35b272d4d5de07a89c16b6cbb"><div class="ttname"><a href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">NeoMutt::groups</a></div><div class="ttdeci">struct HashTable * groups</div><div class="ttdoc">Hash Table: &quot;group-name&quot; -&gt; Group.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00052">neomutt.h:52</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga1d313267e87bb38f830e81275c907000_cgraph.svg" width="676" height="982"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaa14ce77a971c46d70f3ed8994b75e15b" name="gaa14ce77a971c46d70f3ed8994b75e15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa14ce77a971c46d70f3ed8994b75e15b">&#9670;&#160;</a></span>parse_unalias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unalias </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unalias' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unalias [ -group &lt;name&gt; ... ] { * | &lt;key&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="alias_2commands_8c_source.html#l00258">258</a> of file <a class="el" href="alias_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>{</div>
<div class="line"><span class="lineno">  261</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  262</span>  {</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  265</span>  }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  270</span>  {</div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAlias.html">Alias</a> *np = NULL;</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  275</span>    {</div>
<div class="line"><span class="lineno">  276</span>      <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(np, &amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>, entries)</div>
<div class="line"><span class="lineno">  277</span>      {</div>
<div class="line"><span class="lineno">  278</span>        <a class="code hl_function" href="reverse_8c.html#adcac6af93dc6927de0a242fb1a75577b">alias_reverse_delete</a>(np);</div>
<div class="line"><span class="lineno">  279</span>      }</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>      <a class="code hl_function" href="alias_8c.html#acd9d138830f1b82dfcdc2d39ed3fc38f">aliaslist_clear</a>(&amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>);</div>
<div class="line"><span class="lineno">  282</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  283</span>    }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(np, &amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>, entries)</div>
<div class="line"><span class="lineno">  286</span>    {</div>
<div class="line"><span class="lineno">  287</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), np-&gt;<a class="code hl_variable" href="structAlias.html#a60062d424ebbf53c68c5ccfd478da8d8">name</a>))</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>      <a class="code hl_define" href="queue_8h.html#aaae87ca18c28066e1a96221e762d1209">TAILQ_REMOVE</a>(&amp;<a class="code hl_variable" href="alias_8c.html#a0831e7ca6080141051db5bde20cb45f7">Aliases</a>, np, entries);</div>
<div class="line"><span class="lineno">  291</span>      <a class="code hl_function" href="reverse_8c.html#adcac6af93dc6927de0a242fb1a75577b">alias_reverse_delete</a>(np);</div>
<div class="line"><span class="lineno">  292</span>      <a class="code hl_function" href="alias_8c.html#a027ff288eb965c15ce16ca26b6467d44">alias_free</a>(&amp;np);</div>
<div class="line"><span class="lineno">  293</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>done:</div>
<div class="line"><span class="lineno">  298</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  300</span>}</div>
<div class="ttc" id="aalias_8c_html_a027ff288eb965c15ce16ca26b6467d44"><div class="ttname"><a href="alias_8c.html#a027ff288eb965c15ce16ca26b6467d44">alias_free</a></div><div class="ttdeci">void alias_free(struct Alias **ptr)</div><div class="ttdoc">Free an Alias.</div><div class="ttdef"><b>Definition</b> <a href="alias_8c_source.html#l00668">alias.c:668</a></div></div>
<div class="ttc" id="aalias_8c_html_acd9d138830f1b82dfcdc2d39ed3fc38f"><div class="ttname"><a href="alias_8c.html#acd9d138830f1b82dfcdc2d39ed3fc38f">aliaslist_clear</a></div><div class="ttdeci">void aliaslist_clear(struct AliasList *al)</div><div class="ttdoc">Empty a List of Aliases.</div><div class="ttdef"><b>Definition</b> <a href="alias_8c_source.html#l00693">alias.c:693</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00662">string.c:662</a></div></div>
<div class="ttc" id="aqueue_8h_html_aaae87ca18c28066e1a96221e762d1209"><div class="ttname"><a href="queue_8h.html#aaae87ca18c28066e1a96221e762d1209">TAILQ_REMOVE</a></div><div class="ttdeci">#define TAILQ_REMOVE(head, elm, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00901">queue.h:901</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaa14ce77a971c46d70f3ed8994b75e15b_cgraph.svg" width="484" height="523"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga4d62e6a6e7c4028ddb8191187df005cb" name="ga4d62e6a6e7c4028ddb8191187df005cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d62e6a6e7c4028ddb8191187df005cb">&#9670;&#160;</a></span>parse_attachments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_attachments </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'attachments' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>attachments { + | - }&lt;disposition&gt; &lt;mime-type&gt; [ &lt;mime-type&gt; ... ] | ?</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="attach_2commands_8c_source.html#l00485">485</a> of file <a class="el" href="attach_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  487</span>{</div>
<div class="line"><span class="lineno">  488</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  489</span>  {</div>
<div class="line"><span class="lineno">  490</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  492</span>  }</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  495</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordtype">char</span> *category = token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div>
<div class="line"><span class="lineno">  500</span>  <span class="keywordtype">char</span> op = *category++;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  503</span>  {</div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_function" href="curs__lib_8c.html#acd14d074d8b9e6cb21e851dd573cdec2">mutt_endwin</a>();</div>
<div class="line"><span class="lineno">  505</span>    fflush(stdout);</div>
<div class="line"><span class="lineno">  506</span>    printf(<span class="stringliteral">&quot;\n%s\n\n&quot;</span>, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Current attachments settings:&quot;</span>));</div>
<div class="line"><span class="lineno">  507</span>    <a class="code hl_function" href="attach_2commands_8c.html#a35bd3e39fe0dd95788beeb60bd7556e0">print_attach_list</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a0b9530a5f0ef9bd68159b449749b3c52">AttachAllow</a>, <span class="charliteral">&#39;+&#39;</span>, <span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_function" href="attach_2commands_8c.html#a35bd3e39fe0dd95788beeb60bd7556e0">print_attach_list</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a714bb55011f20d7b7a6985c4a54a2f12">AttachExclude</a>, <span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&quot;A&quot;</span>);</div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_function" href="attach_2commands_8c.html#a35bd3e39fe0dd95788beeb60bd7556e0">print_attach_list</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#affb5faead9b165423a0e53140950574c">InlineAllow</a>, <span class="charliteral">&#39;+&#39;</span>, <span class="stringliteral">&quot;I&quot;</span>);</div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_function" href="attach_2commands_8c.html#a35bd3e39fe0dd95788beeb60bd7556e0">print_attach_list</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a5142b90ad6c777fc0f3273f006d2744d">InlineExclude</a>, <span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&quot;I&quot;</span>);</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_function" href="curs__lib_8c.html#ab6a61cdfcf8c2c73ee59381c79c79774">mutt_any_key_to_continue</a>(NULL);</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  515</span>  }</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordflow">if</span> ((op != <span class="charliteral">&#39;+&#39;</span>) &amp;&amp; (op != <span class="charliteral">&#39;-&#39;</span>))</div>
<div class="line"><span class="lineno">  518</span>  {</div>
<div class="line"><span class="lineno">  519</span>    op = <span class="charliteral">&#39;+&#39;</span>;</div>
<div class="line"><span class="lineno">  520</span>    category--;</div>
<div class="line"><span class="lineno">  521</span>  }</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>  <span class="keyword">struct </span>ListHead *head = NULL;</div>
<div class="line"><span class="lineno">  524</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<span class="stringliteral">&quot;attachment&quot;</span>, category))</div>
<div class="line"><span class="lineno">  525</span>  {</div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  527</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a0b9530a5f0ef9bd68159b449749b3c52">AttachAllow</a>;</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  529</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a714bb55011f20d7b7a6985c4a54a2f12">AttachExclude</a>;</div>
<div class="line"><span class="lineno">  530</span>  }</div>
<div class="line"><span class="lineno">  531</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<span class="stringliteral">&quot;inline&quot;</span>, category))</div>
<div class="line"><span class="lineno">  532</span>  {</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  534</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#affb5faead9b165423a0e53140950574c">InlineAllow</a>;</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  536</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a5142b90ad6c777fc0f3273f006d2744d">InlineExclude</a>;</div>
<div class="line"><span class="lineno">  537</span>  }</div>
<div class="line"><span class="lineno">  538</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  539</span>  {</div>
<div class="line"><span class="lineno">  540</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;attachments: invalid disposition&quot;</span>));</div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  542</span>  }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>  rc = <a class="code hl_function" href="attach_2commands_8c.html#aaa20ceeb0620a58ba70e0af882167c01">parse_attach_list</a>(cmd, line, head, err);</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>done:</div>
<div class="line"><span class="lineno">  547</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  548</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  549</span>}</div>
<div class="ttc" id="aattach_2commands_8c_html_a0b9530a5f0ef9bd68159b449749b3c52"><div class="ttname"><a href="attach_2commands_8c.html#a0b9530a5f0ef9bd68159b449749b3c52">AttachAllow</a></div><div class="ttdeci">static struct ListHead AttachAllow</div><div class="ttdoc">List of attachment types to be counted.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00055">commands.c:55</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_a35bd3e39fe0dd95788beeb60bd7556e0"><div class="ttname"><a href="attach_2commands_8c.html#a35bd3e39fe0dd95788beeb60bd7556e0">print_attach_list</a></div><div class="ttdeci">static int print_attach_list(struct ListHead *h, const char op, const char *name)</div><div class="ttdoc">Print a list of attachments.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00466">commands.c:466</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_a5142b90ad6c777fc0f3273f006d2744d"><div class="ttname"><a href="attach_2commands_8c.html#a5142b90ad6c777fc0f3273f006d2744d">InlineExclude</a></div><div class="ttdeci">static struct ListHead InlineExclude</div><div class="ttdoc">List of inline types to ignore.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00058">commands.c:58</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_a714bb55011f20d7b7a6985c4a54a2f12"><div class="ttname"><a href="attach_2commands_8c.html#a714bb55011f20d7b7a6985c4a54a2f12">AttachExclude</a></div><div class="ttdeci">static struct ListHead AttachExclude</div><div class="ttdoc">List of attachment types to be ignored.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00056">commands.c:56</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_aaa20ceeb0620a58ba70e0af882167c01"><div class="ttname"><a href="attach_2commands_8c.html#aaa20ceeb0620a58ba70e0af882167c01">parse_attach_list</a></div><div class="ttdeci">static enum CommandResult parse_attach_list(const struct Command *cmd, struct Buffer *line, struct ListHead *head, struct Buffer *err)</div><div class="ttdoc">Parse the &quot;attachments&quot; command.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00312">commands.c:312</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_affb5faead9b165423a0e53140950574c"><div class="ttname"><a href="attach_2commands_8c.html#affb5faead9b165423a0e53140950574c">InlineAllow</a></div><div class="ttdeci">static struct ListHead InlineAllow</div><div class="ttdoc">List of inline types to counted.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00057">commands.c:57</a></div></div>
<div class="ttc" id="abuffer_8c_html_ac958acbd189e463a2c3bbc2f23aaeb1e"><div class="ttname"><a href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a></div><div class="ttdeci">size_t buf_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00395">buffer.c:395</a></div></div>
<div class="ttc" id="acurs__lib_8c_html_ab6a61cdfcf8c2c73ee59381c79c79774"><div class="ttname"><a href="curs__lib_8c.html#ab6a61cdfcf8c2c73ee59381c79c79774">mutt_any_key_to_continue</a></div><div class="ttdeci">int mutt_any_key_to_continue(const char *s)</div><div class="ttdoc">Prompt the user to &#39;press any key&#39; and wait.</div><div class="ttdef"><b>Definition</b> <a href="curs__lib_8c_source.html#l00174">curs_lib.c:174</a></div></div>
<div class="ttc" id="acurs__lib_8c_html_acd14d074d8b9e6cb21e851dd573cdec2"><div class="ttname"><a href="curs__lib_8c.html#acd14d074d8b9e6cb21e851dd573cdec2">mutt_endwin</a></div><div class="ttdeci">void mutt_endwin(void)</div><div class="ttdoc">Shutdown curses.</div><div class="ttdef"><b>Definition</b> <a href="curs__lib_8c_source.html#l00152">curs_lib.c:152</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_aebd2a8a3f8a30062c31fa1474d87cc41"><div class="ttname"><a href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a></div><div class="ttdeci">size_t mutt_istr_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix, ignoring case.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00246">string.c:246</a></div></div>
<div class="ttc" id="astructBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga4d62e6a6e7c4028ddb8191187df005cb_cgraph.svg" width="752" height="550"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf1931266e617df2f8214229a064d34c2" name="gaf1931266e617df2f8214229a064d34c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1931266e617df2f8214229a064d34c2">&#9670;&#160;</a></span>parse_unattachments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unattachments </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unattachments' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unattachments { * | { + | - }&lt;disposition&gt; &lt;mime-type&gt; [ &lt;mime-type&gt; ... ] }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="attach_2commands_8c_source.html#l00557">557</a> of file <a class="el" href="attach_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  559</span>{</div>
<div class="line"><span class="lineno">  560</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  561</span>  {</div>
<div class="line"><span class="lineno">  562</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  564</span>  }</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  567</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordtype">char</span> op;</div>
<div class="line"><span class="lineno">  570</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *p = NULL;</div>
<div class="line"><span class="lineno">  571</span>  <span class="keyword">struct </span>ListHead *head = NULL;</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>  p = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token);</div>
<div class="line"><span class="lineno">  576</span>  op = *p++;</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>  <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><span class="lineno">  579</span>  {</div>
<div class="line"><span class="lineno">  580</span>    <a class="code hl_function" href="list_8c.html#adb0f1e30e2a165abb1b2e3db74d5fa54">mutt_list_free_type</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a0b9530a5f0ef9bd68159b449749b3c52">AttachAllow</a>, (<a class="code hl_typedef" href="list_8h.html#a9629df33ebcaa5b6c7b42270d5f4e54e">list_free_t</a>) <a class="code hl_function" href="group__list__free__api.html#gaa56f0db341899b7a2adf256b135c0877">attachmatch_free</a>);</div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_function" href="list_8c.html#adb0f1e30e2a165abb1b2e3db74d5fa54">mutt_list_free_type</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a714bb55011f20d7b7a6985c4a54a2f12">AttachExclude</a>, (<a class="code hl_typedef" href="list_8h.html#a9629df33ebcaa5b6c7b42270d5f4e54e">list_free_t</a>) <a class="code hl_function" href="group__list__free__api.html#gaa56f0db341899b7a2adf256b135c0877">attachmatch_free</a>);</div>
<div class="line"><span class="lineno">  582</span>    <a class="code hl_function" href="list_8c.html#adb0f1e30e2a165abb1b2e3db74d5fa54">mutt_list_free_type</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#affb5faead9b165423a0e53140950574c">InlineAllow</a>, (<a class="code hl_typedef" href="list_8h.html#a9629df33ebcaa5b6c7b42270d5f4e54e">list_free_t</a>) <a class="code hl_function" href="group__list__free__api.html#gaa56f0db341899b7a2adf256b135c0877">attachmatch_free</a>);</div>
<div class="line"><span class="lineno">  583</span>    <a class="code hl_function" href="list_8c.html#adb0f1e30e2a165abb1b2e3db74d5fa54">mutt_list_free_type</a>(&amp;<a class="code hl_variable" href="attach_2commands_8c.html#a5142b90ad6c777fc0f3273f006d2744d">InlineExclude</a>, (<a class="code hl_typedef" href="list_8h.html#a9629df33ebcaa5b6c7b42270d5f4e54e">list_free_t</a>) <a class="code hl_function" href="group__list__free__api.html#gaa56f0db341899b7a2adf256b135c0877">attachmatch_free</a>);</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_ATTACH_DELETE_ALL\n&quot;</span>);</div>
<div class="line"><span class="lineno">  586</span>    <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_variable" href="attach_2commands_8c.html#ac0ff30387faf70ce92b848707123d20f">AttachmentsNotify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a210f0a6c1bc6f04ff9a52a0818207f01">NT_ATTACH</a>, <a class="code hl_enumvalue" href="attach_2commands_8h.html#a56fb7e6f646794a571725498057e27c7a336a1839a626b29f884a2a318b59920b">NT_ATTACH_DELETE_ALL</a>, NULL);</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  590</span>  }</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">if</span> ((op != <span class="charliteral">&#39;+&#39;</span>) &amp;&amp; (op != <span class="charliteral">&#39;-&#39;</span>))</div>
<div class="line"><span class="lineno">  593</span>  {</div>
<div class="line"><span class="lineno">  594</span>    op = <span class="charliteral">&#39;+&#39;</span>;</div>
<div class="line"><span class="lineno">  595</span>    p--;</div>
<div class="line"><span class="lineno">  596</span>  }</div>
<div class="line"><span class="lineno">  597</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<span class="stringliteral">&quot;attachment&quot;</span>, p))</div>
<div class="line"><span class="lineno">  598</span>  {</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  600</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a0b9530a5f0ef9bd68159b449749b3c52">AttachAllow</a>;</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  602</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a714bb55011f20d7b7a6985c4a54a2f12">AttachExclude</a>;</div>
<div class="line"><span class="lineno">  603</span>  }</div>
<div class="line"><span class="lineno">  604</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<span class="stringliteral">&quot;inline&quot;</span>, p))</div>
<div class="line"><span class="lineno">  605</span>  {</div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">if</span> (op == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  607</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#affb5faead9b165423a0e53140950574c">InlineAllow</a>;</div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  609</span>      head = &amp;<a class="code hl_variable" href="attach_2commands_8c.html#a5142b90ad6c777fc0f3273f006d2744d">InlineExclude</a>;</div>
<div class="line"><span class="lineno">  610</span>  }</div>
<div class="line"><span class="lineno">  611</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  612</span>  {</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;unattachments: invalid disposition&quot;</span>));</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  615</span>  }</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>  rc = <a class="code hl_function" href="attach_2commands_8c.html#a51a5b37ad585ec70ec8d961519e3d93a">parse_unattach_list</a>(cmd, line, head, err);</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>done:</div>
<div class="line"><span class="lineno">  620</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  621</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  622</span>}</div>
<div class="ttc" id="aattach_2commands_8c_html_a51a5b37ad585ec70ec8d961519e3d93a"><div class="ttname"><a href="attach_2commands_8c.html#a51a5b37ad585ec70ec8d961519e3d93a">parse_unattach_list</a></div><div class="ttdeci">static enum CommandResult parse_unattach_list(const struct Command *cmd, struct Buffer *line, struct ListHead *head, struct Buffer *err)</div><div class="ttdoc">Parse the &quot;unattachments&quot; command.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00397">commands.c:397</a></div></div>
<div class="ttc" id="aattach_2commands_8c_html_ac0ff30387faf70ce92b848707123d20f"><div class="ttname"><a href="attach_2commands_8c.html#ac0ff30387faf70ce92b848707123d20f">AttachmentsNotify</a></div><div class="ttdeci">static struct Notify * AttachmentsNotify</div><div class="ttdoc">Notifications: NotifyAttach.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00059">commands.c:59</a></div></div>
<div class="ttc" id="aattach_2commands_8h_html_a56fb7e6f646794a571725498057e27c7a336a1839a626b29f884a2a318b59920b"><div class="ttname"><a href="attach_2commands_8h.html#a56fb7e6f646794a571725498057e27c7a336a1839a626b29f884a2a318b59920b">NT_ATTACH_DELETE_ALL</a></div><div class="ttdeci">@ NT_ATTACH_DELETE_ALL</div><div class="ttdoc">All Attachment regexes have been deleted.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8h_source.html#l00042">commands.h:42</a></div></div>
<div class="ttc" id="agroup__list__free__api_html_gaa56f0db341899b7a2adf256b135c0877"><div class="ttname"><a href="group__list__free__api.html#gaa56f0db341899b7a2adf256b135c0877">attachmatch_free</a></div><div class="ttdeci">static void attachmatch_free(struct AttachMatch **ptr)</div><div class="ttdoc">Free an AttachMatch - Implements list_free_t -.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00068">commands.c:68</a></div></div>
<div class="ttc" id="alist_8c_html_adb0f1e30e2a165abb1b2e3db74d5fa54"><div class="ttname"><a href="list_8c.html#adb0f1e30e2a165abb1b2e3db74d5fa54">mutt_list_free_type</a></div><div class="ttdeci">void mutt_list_free_type(struct ListHead *h, list_free_t fn)</div><div class="ttdoc">Free a List of type.</div><div class="ttdef"><b>Definition</b> <a href="list_8c_source.html#l00144">list.c:144</a></div></div>
<div class="ttc" id="alist_8h_html_a9629df33ebcaa5b6c7b42270d5f4e54e"><div class="ttname"><a href="list_8h.html#a9629df33ebcaa5b6c7b42270d5f4e54e">list_free_t</a></div><div class="ttdeci">void(* list_free_t)(void **ptr)</div><div class="ttdef"><b>Definition</b> <a href="list_8h_source.html#l00050">list.h:50</a></div></div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8a210f0a6c1bc6f04ff9a52a0818207f01"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a210f0a6c1bc6f04ff9a52a0818207f01">NT_ATTACH</a></div><div class="ttdeci">@ NT_ATTACH</div><div class="ttdoc">Attachment command changed, NotifyAttach.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00039">notify_type.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaf1931266e617df2f8214229a064d34c2_cgraph.svg" width="727" height="635"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gad58747bd464bd896dde69026afa8a7c0" name="gad58747bd464bd896dde69026afa8a7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad58747bd464bd896dde69026afa8a7c0">&#9670;&#160;</a></span>parse_uncolor_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_uncolor_command </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse an 'uncolor' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Usage:</p><ul>
<li>uncolor OBJECT [ PATTERN | REGEX | * ] </li>
</ul>

<p class="definition">Definition at line <a class="el" href="color_2commands_8c_source.html#l00199">199</a> of file <a class="el" href="color_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>{</div>
<div class="line"><span class="lineno">  202</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  203</span>  {</div>
<div class="line"><span class="lineno">  204</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  209</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>  <span class="comment">// Peek at the next token (&#39;*&#39; won&#39;t match a colour name)</span></div>
<div class="line"><span class="lineno">  212</span>  <span class="keywordflow">if</span> (line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>[0] == <span class="charliteral">&#39;*&#39;</span>)</div>
<div class="line"><span class="lineno">  213</span>  {</div>
<div class="line"><span class="lineno">  214</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  215</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>      <a class="code hl_function" href="color_8c.html#aec44cbbfbd9198585b2c1f532416c8d4">colors_reset</a>();</div>
<div class="line"><span class="lineno">  218</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  219</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span>  }</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cid = <a class="code hl_enumvalue" href="color_8h.html#ac0dddfeb58e0f6855f22796d240b070da4990a169a27221cdc41a77ed73b5c4e6">MT_COLOR_NONE</a>;</div>
<div class="line"><span class="lineno">  224</span>  <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;uncolor: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  225</span>  rc = <a class="code hl_function" href="color_2commands_8c.html#ab513981ec2c606a96d916ce1797b68c7">parse_object</a>(cmd, line, &amp;cid, err);</div>
<div class="line"><span class="lineno">  226</span>  <span class="keywordflow">if</span> (rc != <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">if</span> (cid == -1)</div>
<div class="line"><span class="lineno">  230</span>  {</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: no such object&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  232</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  234</span>  }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <span class="keywordflow">if</span> ((cid == <a class="code hl_enumvalue" href="color_8h.html#ac0dddfeb58e0f6855f22796d240b070da30bbf7c99313309daedcbd0e0f8c7166">MT_COLOR_STATUS</a>) &amp;&amp; !<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  237</span>  {</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;simple\n&quot;</span>);</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_function" href="color_2simple_8c.html#aaeb09d9f6fbbe7804cb66d1e05d90d00">simple_color_reset</a>(cid); <span class="comment">// default colour for the status bar</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  241</span>  }</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="color_8c.html#a8f62b76a0baef9936162697d43edddf3">mutt_color_has_pattern</a>(cid))</div>
<div class="line"><span class="lineno">  244</span>  {</div>
<div class="line"><span class="lineno">  245</span>    <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;simple\n&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>    <a class="code hl_function" href="color_2simple_8c.html#aaeb09d9f6fbbe7804cb66d1e05d90d00">simple_color_reset</a>(cid);</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  248</span>  }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  251</span>  {</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="color_2regex_8c.html#a9c342ce59dddaa83477b65c9aebfa1cd">regex_colors_parse_uncolor</a>(cid, NULL))</div>
<div class="line"><span class="lineno">  253</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  255</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  257</span>  }</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  260</span>  {</div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  263</span>    {</div>
<div class="line"><span class="lineno">  264</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="color_2regex_8c.html#a9c342ce59dddaa83477b65c9aebfa1cd">regex_colors_parse_uncolor</a>(cid, NULL))</div>
<div class="line"><span class="lineno">  265</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  266</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  267</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  268</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_function" href="color_2regex_8c.html#a9c342ce59dddaa83477b65c9aebfa1cd">regex_colors_parse_uncolor</a>(cid, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>done:</div>
<div class="line"><span class="lineno">  278</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  280</span>}</div>
<div class="ttc" id="acolor_2commands_8c_html_ab513981ec2c606a96d916ce1797b68c7"><div class="ttname"><a href="color_2commands_8c.html#ab513981ec2c606a96d916ce1797b68c7">parse_object</a></div><div class="ttdeci">static enum CommandResult parse_object(const struct Command *cmd, struct Buffer *line, enum ColorId *cid, struct Buffer *err)</div><div class="ttdoc">Identify a colour object.</div><div class="ttdef"><b>Definition</b> <a href="color_2commands_8c_source.html#l00146">commands.c:146</a></div></div>
<div class="ttc" id="acolor_2regex_8c_html_a9c342ce59dddaa83477b65c9aebfa1cd"><div class="ttname"><a href="color_2regex_8c.html#a9c342ce59dddaa83477b65c9aebfa1cd">regex_colors_parse_uncolor</a></div><div class="ttdeci">bool regex_colors_parse_uncolor(enum ColorId cid, const char *pat)</div><div class="ttdoc">Parse a Regex &#39;uncolor&#39; command.</div><div class="ttdef"><b>Definition</b> <a href="color_2regex_8c_source.html#l00424">regex.c:424</a></div></div>
<div class="ttc" id="acolor_2simple_8c_html_aaeb09d9f6fbbe7804cb66d1e05d90d00"><div class="ttname"><a href="color_2simple_8c.html#aaeb09d9f6fbbe7804cb66d1e05d90d00">simple_color_reset</a></div><div class="ttdeci">void simple_color_reset(enum ColorId cid)</div><div class="ttdoc">Clear the colour of a simple object.</div><div class="ttdef"><b>Definition</b> <a href="color_2simple_8c_source.html#l00150">simple.c:150</a></div></div>
<div class="ttc" id="acolor_8c_html_a8f62b76a0baef9936162697d43edddf3"><div class="ttname"><a href="color_8c.html#a8f62b76a0baef9936162697d43edddf3">mutt_color_has_pattern</a></div><div class="ttdeci">bool mutt_color_has_pattern(enum ColorId cid)</div><div class="ttdoc">Check if a color object supports a regex pattern.</div><div class="ttdef"><b>Definition</b> <a href="color_8c_source.html#l00098">color.c:98</a></div></div>
<div class="ttc" id="acolor_8c_html_aec44cbbfbd9198585b2c1f532416c8d4"><div class="ttname"><a href="color_8c.html#aec44cbbfbd9198585b2c1f532416c8d4">colors_reset</a></div><div class="ttdeci">void colors_reset(void)</div><div class="ttdoc">Reset all the simple, quoted and regex colours.</div><div class="ttdef"><b>Definition</b> <a href="color_8c_source.html#l00068">color.c:68</a></div></div>
<div class="ttc" id="acolor_8h_html_ac0dddfeb58e0f6855f22796d240b070da30bbf7c99313309daedcbd0e0f8c7166"><div class="ttname"><a href="color_8h.html#ac0dddfeb58e0f6855f22796d240b070da30bbf7c99313309daedcbd0e0f8c7166">MT_COLOR_STATUS</a></div><div class="ttdeci">@ MT_COLOR_STATUS</div><div class="ttdoc">Status bar (takes a pattern)</div><div class="ttdef"><b>Definition</b> <a href="color_8h_source.html#l00079">color.h:79</a></div></div>
<div class="ttc" id="acolor_8h_html_ac0dddfeb58e0f6855f22796d240b070da4990a169a27221cdc41a77ed73b5c4e6"><div class="ttname"><a href="color_8h.html#ac0dddfeb58e0f6855f22796d240b070da4990a169a27221cdc41a77ed73b5c4e6">MT_COLOR_NONE</a></div><div class="ttdeci">@ MT_COLOR_NONE</div><div class="ttdoc">No colour.</div><div class="ttdef"><b>Definition</b> <a href="color_8h_source.html#l00037">color.h:37</a></div></div>
<div class="ttc" id="adebug_8h_html_a63e0ab098a555876b7a74f285ff7d692"><div class="ttname"><a href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a></div><div class="ttdeci">static int color_debug(enum LogLevel level, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="debug_8h_source.html#l00052">debug.h:52</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gad58747bd464bd896dde69026afa8a7c0_cgraph.svg" width="772" height="798"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gad58747bd464bd896dde69026afa8a7c0_icgraph.svg" width="344" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf6927e9c8ecad35846c02cb6d5010370" name="gaf6927e9c8ecad35846c02cb6d5010370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6927e9c8ecad35846c02cb6d5010370">&#9670;&#160;</a></span>parse_uncolor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_uncolor </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'uncolor' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>uncolor &lt;object&gt; { * | &lt;pattern&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="color_2commands_8c_source.html#l00449">449</a> of file <a class="el" href="color_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  451</span>{</div>
<div class="line"><span class="lineno">  452</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  453</span>  {</div>
<div class="line"><span class="lineno">  454</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  456</span>  }</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  459</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="globals_8c.html#a9b3a197dcd72484bca9ba6f0ce451e1f">OptGui</a>) <span class="comment">// No GUI, so quietly discard the command</span></div>
<div class="line"><span class="lineno">  462</span>  {</div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  464</span>    {</div>
<div class="line"><span class="lineno">  465</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  468</span>  }</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>  <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;parse: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  471</span>  rc = <a class="code hl_function" href="#gad58747bd464bd896dde69026afa8a7c0">parse_uncolor_command</a>(cmd, line, err);</div>
<div class="line"><span class="lineno">  472</span>  <a class="code hl_function" href="debug_8c.html#a9e36e62f2dc4ba10ce42c89fa992df0e">curses_colors_dump</a>(token);</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>done:</div>
<div class="line"><span class="lineno">  475</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  476</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  477</span>}</div>
<div class="ttc" id="adebug_8c_html_a9e36e62f2dc4ba10ce42c89fa992df0e"><div class="ttname"><a href="debug_8c.html#a9e36e62f2dc4ba10ce42c89fa992df0e">curses_colors_dump</a></div><div class="ttdeci">void curses_colors_dump(struct Buffer *buf)</div><div class="ttdoc">Dump all the Curses colours.</div><div class="ttdef"><b>Definition</b> <a href="debug_8c_source.html#l00143">debug.c:143</a></div></div>
<div class="ttc" id="aglobals_8c_html_a9b3a197dcd72484bca9ba6f0ce451e1f"><div class="ttname"><a href="globals_8c.html#a9b3a197dcd72484bca9ba6f0ce451e1f">OptGui</a></div><div class="ttdeci">bool OptGui</div><div class="ttdoc">(pseudo) when the gui (and curses) are started</div><div class="ttdef"><b>Definition</b> <a href="globals_8c_source.html#l00059">globals.c:59</a></div></div>
<div class="ttc" id="agroup__command__parse_html_gad58747bd464bd896dde69026afa8a7c0"><div class="ttname"><a href="#gad58747bd464bd896dde69026afa8a7c0">parse_uncolor_command</a></div><div class="ttdeci">enum CommandResult parse_uncolor_command(const struct Command *cmd, struct Buffer *line, struct Buffer *err)</div><div class="ttdoc">Parse an &#39;uncolor&#39; command - Implements Command::parse() -.</div><div class="ttdef"><b>Definition</b> <a href="color_2commands_8c_source.html#l00199">commands.c:199</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaf6927e9c8ecad35846c02cb6d5010370_cgraph.svg" width="714" height="491"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac4b958bf3be5f24fd0d1d5f4fdf33ad3" name="gac4b958bf3be5f24fd0d1d5f4fdf33ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4b958bf3be5f24fd0d1d5f4fdf33ad3">&#9670;&#160;</a></span>parse_unmono()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unmono </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unmono' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unmono &lt;object&gt; { * | &lt;pattern&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="color_2commands_8c_source.html#l00485">485</a> of file <a class="el" href="color_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  487</span>{</div>
<div class="line"><span class="lineno">  488</span>  <span class="comment">// Quietly discard the command</span></div>
<div class="line"><span class="lineno">  489</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  490</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  491</span>  {</div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  493</span>  }</div>
<div class="line"><span class="lineno">  494</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  497</span>}</div>
</div><!-- fragment --><div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gac4b958bf3be5f24fd0d1d5f4fdf33ad3_cgraph.svg" width="494" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf616a22b751781ecc4939f8c2ccad738" name="gaf616a22b751781ecc4939f8c2ccad738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf616a22b751781ecc4939f8c2ccad738">&#9670;&#160;</a></span>parse_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_color </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'color' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>color &lt;object&gt; [ &lt;attribute&gt; ... ] &lt;foreground&gt; &lt;background&gt; [ &lt;regex&gt; [ &lt;num&gt; ]]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="color_2commands_8c_source.html#l00505">505</a> of file <a class="el" href="color_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  509</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <span class="comment">// No GUI, or no colours, so quietly discard the command</span></div>
<div class="line"><span class="lineno">  512</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="globals_8c.html#a9b3a197dcd72484bca9ba6f0ce451e1f">OptGui</a> || (COLORS == 0))</div>
<div class="line"><span class="lineno">  513</span>  {</div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  515</span>    {</div>
<div class="line"><span class="lineno">  516</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  517</span>    }</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  519</span>  }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>  <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;parse: color\n&quot;</span>);</div>
<div class="line"><span class="lineno">  522</span>  rc = <a class="code hl_function" href="color_2commands_8c.html#af6e5f9405d14614535c0c8fb81bc17d8">parse_color_command</a>(cmd, line, err, <a class="code hl_function" href="group__parser__callback__api.html#ga26cc8a7afeb576e7af8c1bee02948a2d">parse_color_pair</a>);</div>
<div class="line"><span class="lineno">  523</span>  <a class="code hl_function" href="debug_8c.html#a9e36e62f2dc4ba10ce42c89fa992df0e">curses_colors_dump</a>(token);</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>done:</div>
<div class="line"><span class="lineno">  526</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  528</span>}</div>
<div class="ttc" id="acolor_2commands_8c_html_af6e5f9405d14614535c0c8fb81bc17d8"><div class="ttname"><a href="color_2commands_8c.html#af6e5f9405d14614535c0c8fb81bc17d8">parse_color_command</a></div><div class="ttdeci">static enum CommandResult parse_color_command(const struct Command *cmd, struct Buffer *line, struct Buffer *err, parser_callback_t callback)</div><div class="ttdoc">Parse a &#39;color&#39; command.</div><div class="ttdef"><b>Definition</b> <a href="color_2commands_8c_source.html#l00294">commands.c:294</a></div></div>
<div class="ttc" id="agroup__parser__callback__api_html_ga26cc8a7afeb576e7af8c1bee02948a2d"><div class="ttname"><a href="group__parser__callback__api.html#ga26cc8a7afeb576e7af8c1bee02948a2d">parse_color_pair</a></div><div class="ttdeci">enum CommandResult parse_color_pair(const struct Command *cmd, struct Buffer *line, struct AttrColor *ac, struct Buffer *err)</div><div class="ttdoc">Parse a pair of colours - Implements parser_callback_t -.</div><div class="ttdef"><b>Definition</b> <a href="parse__color_8c_source.html#l00282">parse_color.c:282</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaf616a22b751781ecc4939f8c2ccad738_cgraph.svg" width="682" height="404"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaa8331824cbf146b60c43c68da964b6ed" name="gaa8331824cbf146b60c43c68da964b6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8331824cbf146b60c43c68da964b6ed">&#9670;&#160;</a></span>parse_mono()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_mono </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'mono' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>mono &lt;object&gt; &lt;attribute&gt; [ &lt;pattern&gt; | &lt;regex&gt; ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="color_2commands_8c_source.html#l00536">536</a> of file <a class="el" href="color_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  538</span>{</div>
<div class="line"><span class="lineno">  539</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  540</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>  <span class="comment">// No GUI, or colours available, so quietly discard the command</span></div>
<div class="line"><span class="lineno">  543</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="globals_8c.html#a9b3a197dcd72484bca9ba6f0ce451e1f">OptGui</a> || (COLORS != 0))</div>
<div class="line"><span class="lineno">  544</span>  {</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  546</span>    {</div>
<div class="line"><span class="lineno">  547</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  548</span>    }</div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  550</span>  }</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>  <a class="code hl_function" href="debug_8h.html#a63e0ab098a555876b7a74f285ff7d692">color_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a678d278eb301551ba0b3e0dbcfcee630">LL_DEBUG5</a>, <span class="stringliteral">&quot;parse: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  553</span>  rc = <a class="code hl_function" href="color_2commands_8c.html#af6e5f9405d14614535c0c8fb81bc17d8">parse_color_command</a>(cmd, line, err, <a class="code hl_function" href="group__parser__callback__api.html#gac103b102a9824aae1c49563a269b2e50">parse_attr_spec</a>);</div>
<div class="line"><span class="lineno">  554</span>  <a class="code hl_function" href="debug_8c.html#a9e36e62f2dc4ba10ce42c89fa992df0e">curses_colors_dump</a>(token);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>done:</div>
<div class="line"><span class="lineno">  557</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  558</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  559</span>}</div>
<div class="ttc" id="agroup__parser__callback__api_html_gac103b102a9824aae1c49563a269b2e50"><div class="ttname"><a href="group__parser__callback__api.html#gac103b102a9824aae1c49563a269b2e50">parse_attr_spec</a></div><div class="ttdeci">enum CommandResult parse_attr_spec(const struct Command *cmd, struct Buffer *line, struct AttrColor *ac, struct Buffer *err)</div><div class="ttdoc">Parse an attribute description - Implements parser_callback_t -.</div><div class="ttdef"><b>Definition</b> <a href="parse__color_8c_source.html#l00334">parse_color.c:334</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaa8331824cbf146b60c43c68da964b6ed_cgraph.svg" width="687" height="646"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga875a13d06277bb4f7e2520efdaad7849" name="ga875a13d06277bb4f7e2520efdaad7849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga875a13d06277bb4f7e2520efdaad7849">&#9670;&#160;</a></span>parse_alternates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_alternates </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'alternates' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>alternates [ -group &lt;name&gt; ... ] &lt;regex&gt; [ &lt;regex&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="alternates_8c_source.html#l00094">94</a> of file <a class="el" href="alternates_8c_source.html">alternates.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   98</span>  {</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  101</span>  }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>  <span class="keyword">struct </span>GroupList gl = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(gl);</div>
<div class="line"><span class="lineno">  104</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  105</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  108</span>  {</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a>(&amp;gl, token, line, err, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>) == -1)</div>
<div class="line"><span class="lineno">  112</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="alternates_8c.html#ada803e44ab2a6eb78904482e46d6b1f7">UnAlternates</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="alternates_8c.html#a2dde3eea34b423d5495df00d7b606513">Alternates</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  117</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="address_2group_8c.html#a1409c6dfa6e29796dcc319506da727a0">grouplist_add_regex</a>(&amp;gl, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  120</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  121</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_ALTERN_ADD: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  124</span>  <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_variable" href="alternates_8c.html#a6724205687c2601f2b9d10e57c47034c">AlternatesNotify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ad20cde429e2c7bd781dc79b509244f04">NT_ALTERN</a>, <a class="code hl_enumvalue" href="alternates_8h.html#ab0e2b7b767e108a74d4bc21d44538f1da75ddbdbbc7a0651888cd85b789d4befa">NT_ALTERN_ADD</a>, NULL);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>done:</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  130</span>  <a class="code hl_function" href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a>(&amp;gl);</div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="aaddress_2group_8c_html_a1409c6dfa6e29796dcc319506da727a0"><div class="ttname"><a href="address_2group_8c.html#a1409c6dfa6e29796dcc319506da727a0">grouplist_add_regex</a></div><div class="ttdeci">int grouplist_add_regex(struct GroupList *gl, const char *str, uint16_t flags, struct Buffer *err)</div><div class="ttdoc">Add matching Addresses to a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00245">group.c:245</a></div></div>
<div class="ttc" id="aalternates_8c_html_a2dde3eea34b423d5495df00d7b606513"><div class="ttname"><a href="alternates_8c.html#a2dde3eea34b423d5495df00d7b606513">Alternates</a></div><div class="ttdeci">static struct RegexList Alternates</div><div class="ttdoc">List of regexes to match the user&#39;s alternate email addresses.</div><div class="ttdef"><b>Definition</b> <a href="alternates_8c_source.html#l00041">alternates.c:41</a></div></div>
<div class="ttc" id="aalternates_8c_html_a6724205687c2601f2b9d10e57c47034c"><div class="ttname"><a href="alternates_8c.html#a6724205687c2601f2b9d10e57c47034c">AlternatesNotify</a></div><div class="ttdeci">static struct Notify * AlternatesNotify</div><div class="ttdoc">Notifications: NotifyAlternates.</div><div class="ttdef"><b>Definition</b> <a href="alternates_8c_source.html#l00043">alternates.c:43</a></div></div>
<div class="ttc" id="aalternates_8c_html_ada803e44ab2a6eb78904482e46d6b1f7"><div class="ttname"><a href="alternates_8c.html#ada803e44ab2a6eb78904482e46d6b1f7">UnAlternates</a></div><div class="ttdeci">static struct RegexList UnAlternates</div><div class="ttdoc">List of regexes to exclude false matches in Alternates.</div><div class="ttdef"><b>Definition</b> <a href="alternates_8c_source.html#l00042">alternates.c:42</a></div></div>
<div class="ttc" id="aalternates_8h_html_ab0e2b7b767e108a74d4bc21d44538f1da75ddbdbbc7a0651888cd85b789d4befa"><div class="ttname"><a href="alternates_8h.html#ab0e2b7b767e108a74d4bc21d44538f1da75ddbdbbc7a0651888cd85b789d4befa">NT_ALTERN_ADD</a></div><div class="ttdeci">@ NT_ALTERN_ADD</div><div class="ttdoc">Alternate address has been added.</div><div class="ttdef"><b>Definition</b> <a href="alternates_8h_source.html#l00041">alternates.h:41</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_a305eb49ea76a2bc81bf89c1b5417c308"><div class="ttname"><a href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a></div><div class="ttdeci">int mutt_regexlist_add(struct RegexList *rl, const char *str, uint16_t flags, struct Buffer *err)</div><div class="ttdoc">Compile a regex string and add it to a list.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00140">regex.c:140</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_a4fd9f92b6c20e595b9487f874cb75f02"><div class="ttname"><a href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a></div><div class="ttdeci">int mutt_regexlist_remove(struct RegexList *rl, const char *str)</div><div class="ttdoc">Remove a Regex from a list.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00235">regex.c:235</a></div></div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8ad20cde429e2c7bd781dc79b509244f04"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ad20cde429e2c7bd781dc79b509244f04">NT_ALTERN</a></div><div class="ttdeci">@ NT_ALTERN</div><div class="ttdoc">Alternates command changed, NotifyAlternates.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00038">notify_type.h:38</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga875a13d06277bb4f7e2520efdaad7849_cgraph.svg" width="716" height="567"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaec68dd393ddc2329466f5ca78dc6100b" name="gaec68dd393ddc2329466f5ca78dc6100b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec68dd393ddc2329466f5ca78dc6100b">&#9670;&#160;</a></span>parse_unalternates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unalternates </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unalternates' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unalternates [ -group &lt;name&gt; ... ] { * | &lt;regex&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="alternates_8c_source.html#l00140">140</a> of file <a class="el" href="alternates_8c_source.html">alternates.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>{</div>
<div class="line"><span class="lineno">  143</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  144</span>  {</div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  147</span>  }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  150</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  153</span>  {</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="alternates_8c.html#a2dde3eea34b423d5495df00d7b606513">Alternates</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  158</span>        (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="alternates_8c.html#ada803e44ab2a6eb78904482e46d6b1f7">UnAlternates</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0))</div>
<div class="line"><span class="lineno">  159</span>    {</div>
<div class="line"><span class="lineno">  160</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_ALTERN_DELETE: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  166</span>  <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_variable" href="alternates_8c.html#a6724205687c2601f2b9d10e57c47034c">AlternatesNotify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ad20cde429e2c7bd781dc79b509244f04">NT_ALTERN</a>, <a class="code hl_enumvalue" href="alternates_8h.html#ab0e2b7b767e108a74d4bc21d44538f1da78b9703066c72946b396419d64755141">NT_ALTERN_DELETE</a>, NULL);</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>done:</div>
<div class="line"><span class="lineno">  171</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="aalternates_8h_html_ab0e2b7b767e108a74d4bc21d44538f1da78b9703066c72946b396419d64755141"><div class="ttname"><a href="alternates_8h.html#ab0e2b7b767e108a74d4bc21d44538f1da78b9703066c72946b396419d64755141">NT_ALTERN_DELETE</a></div><div class="ttdeci">@ NT_ALTERN_DELETE</div><div class="ttdoc">Alternate address has been deleted.</div><div class="ttdef"><b>Definition</b> <a href="alternates_8h_source.html#l00042">alternates.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaec68dd393ddc2329466f5ca78dc6100b_cgraph.svg" width="538" height="470"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gacb8e10496eae487748d7a7c038007cc9" name="gacb8e10496eae487748d7a7c038007cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb8e10496eae487748d7a7c038007cc9">&#9670;&#160;</a></span>parse_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_group </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'group' and 'ungroup' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>group [ -group &lt;name&gt; ... ] { -rx &lt;regex&gt; ... | -addr &lt;address&gt; ... }</code></li>
<li><code>ungroup [ -group &lt;name&gt; ... ] { * | -rx &lt;regex&gt; ... | -addr &lt;address&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2group_8c_source.html#l00090">90</a> of file <a class="el" href="commands_2group_8c_source.html">group.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   94</span>  {</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   97</span>  }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <span class="keyword">struct </span>GroupList gl = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(gl);</div>
<div class="line"><span class="lineno">  100</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7ef">GroupState</a> gstate = <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa1f008b88112cc290617926b6a880b3e3">GS_NONE</a>;</div>
<div class="line"><span class="lineno">  101</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  102</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  105</span>  {</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a>(&amp;gl, token, line, err, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>) == -1)</div>
<div class="line"><span class="lineno">  108</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa8c8592e03a79fd4c574398787525095f">CMD_UNGROUP</a>) &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">  111</span>    {</div>
<div class="line"><span class="lineno">  112</span>      <a class="code hl_function" href="address_2group_8c.html#a35bc3a8ad81c5cbf8d10f91b34cf8c3c">groups_remove_grouplist</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>, &amp;gl);</div>
<div class="line"><span class="lineno">  113</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-rx&quot;</span>))</div>
<div class="line"><span class="lineno">  118</span>    {</div>
<div class="line"><span class="lineno">  119</span>      gstate = <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa0506327c12cd772182cad0d4115f39b7">GS_RX</a>;</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-addr&quot;</span>))</div>
<div class="line"><span class="lineno">  122</span>    {</div>
<div class="line"><span class="lineno">  123</span>      gstate = <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efafb99c50ae127e02906df58a5688d97cb">GS_ADDR</a>;</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  126</span>    {</div>
<div class="line"><span class="lineno">  127</span>      <span class="keywordflow">switch</span> (gstate)</div>
<div class="line"><span class="lineno">  128</span>      {</div>
<div class="line"><span class="lineno">  129</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa1f008b88112cc290617926b6a880b3e3">GS_NONE</a>:</div>
<div class="line"><span class="lineno">  130</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: missing -rx or -addr&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  131</span>          rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  132</span>          <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa0506327c12cd772182cad0d4115f39b7">GS_RX</a>:</div>
<div class="line"><span class="lineno">  135</span>          <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa09a9d1a84fa4c1881fcca101a859e807">CMD_GROUP</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  136</span>              (<a class="code hl_function" href="address_2group_8c.html#a1409c6dfa6e29796dcc319506da727a0">grouplist_add_regex</a>(&amp;gl, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0))</div>
<div class="line"><span class="lineno">  137</span>          {</div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  139</span>          }</div>
<div class="line"><span class="lineno">  140</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa8c8592e03a79fd4c574398787525095f">CMD_UNGROUP</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  141</span>                   (<a class="code hl_function" href="address_2group_8c.html#a45c5d737283f135e8b8c6e6ff9db04ea">groups_remove_regex</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>, &amp;gl, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) &lt; 0))</div>
<div class="line"><span class="lineno">  142</span>          {</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  144</span>          }</div>
<div class="line"><span class="lineno">  145</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efafb99c50ae127e02906df58a5688d97cb">GS_ADDR</a>:</div>
<div class="line"><span class="lineno">  148</span>        {</div>
<div class="line"><span class="lineno">  149</span>          <span class="keywordtype">char</span> *estr = NULL;</div>
<div class="line"><span class="lineno">  150</span>          <span class="keyword">struct </span>AddressList al = <a class="code hl_define" href="queue_8h.html#ac269df7d4126ed9885156cbad2cbf8af">TAILQ_HEAD_INITIALIZER</a>(al);</div>
<div class="line"><span class="lineno">  151</span>          <a class="code hl_function" href="address_2address_8c.html#a8ac391285f1af69a114544e6575b597a">mutt_addrlist_parse2</a>(&amp;al, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  152</span>          <span class="keywordflow">if</span> (<a class="code hl_define" href="queue_8h.html#ac3c9da7ac712eacbbad5cc54d7a3477e">TAILQ_EMPTY</a>(&amp;al))</div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  154</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="address_2address_8c.html#abe8afdaeb5bdca19a1867823d73a1ec4">mutt_addrlist_to_intl</a>(&amp;al, &amp;estr))</div>
<div class="line"><span class="lineno">  155</span>          {</div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: warning: bad IDN &#39;%s&#39;&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>, estr);</div>
<div class="line"><span class="lineno">  157</span>            <a class="code hl_function" href="address_2address_8c.html#a396bcf6adfff6663096fa6ae99c31c9a">mutt_addrlist_clear</a>(&amp;al);</div>
<div class="line"><span class="lineno">  158</span>            <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;estr);</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  160</span>          }</div>
<div class="line"><span class="lineno">  161</span>          <span class="keywordflow">if</span> (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa09a9d1a84fa4c1881fcca101a859e807">CMD_GROUP</a>)</div>
<div class="line"><span class="lineno">  162</span>            <a class="code hl_function" href="address_2group_8c.html#a5b55c0d727994fc62d3b2030b38f4061">grouplist_add_addrlist</a>(&amp;gl, &amp;al);</div>
<div class="line"><span class="lineno">  163</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa8c8592e03a79fd4c574398787525095f">CMD_UNGROUP</a>)</div>
<div class="line"><span class="lineno">  164</span>            <a class="code hl_function" href="address_2group_8c.html#a22ff063ae20dddfa93ee971f91898ed8">groups_remove_addrlist</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>, &amp;gl, &amp;al);</div>
<div class="line"><span class="lineno">  165</span>          <a class="code hl_function" href="address_2address_8c.html#a396bcf6adfff6663096fa6ae99c31c9a">mutt_addrlist_clear</a>(&amp;al);</div>
<div class="line"><span class="lineno">  166</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span>      }</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>done:</div>
<div class="line"><span class="lineno">  175</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  176</span>  <a class="code hl_function" href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a>(&amp;gl);</div>
<div class="line"><span class="lineno">  177</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  178</span>}</div>
<div class="ttc" id="aaddress_2group_8c_html_a22ff063ae20dddfa93ee971f91898ed8"><div class="ttname"><a href="address_2group_8c.html#a22ff063ae20dddfa93ee971f91898ed8">groups_remove_addrlist</a></div><div class="ttdeci">int groups_remove_addrlist(struct HashTable *groups, struct GroupList *gl, struct AddressList *al)</div><div class="ttdoc">Remove an AddressList from a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00337">group.c:337</a></div></div>
<div class="ttc" id="aaddress_2group_8c_html_a35bc3a8ad81c5cbf8d10f91b34cf8c3c"><div class="ttname"><a href="address_2group_8c.html#a35bc3a8ad81c5cbf8d10f91b34cf8c3c">groups_remove_grouplist</a></div><div class="ttdeci">void groups_remove_grouplist(struct HashTable *groups, struct GroupList *gl)</div><div class="ttdoc">Clear a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00312">group.c:312</a></div></div>
<div class="ttc" id="aaddress_2group_8c_html_a45c5d737283f135e8b8c6e6ff9db04ea"><div class="ttname"><a href="address_2group_8c.html#a45c5d737283f135e8b8c6e6ff9db04ea">groups_remove_regex</a></div><div class="ttdeci">int groups_remove_regex(struct HashTable *groups, struct GroupList *gl, const char *str)</div><div class="ttdoc">Remove matching addresses from a GroupList.</div><div class="ttdef"><b>Definition</b> <a href="address_2group_8c_source.html#l00368">group.c:368</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa09a9d1a84fa4c1881fcca101a859e807"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa09a9d1a84fa4c1881fcca101a859e807">CMD_GROUP</a></div><div class="ttdeci">@ CMD_GROUP</div><div class="ttdoc">:group</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00077">command.h:77</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa8c8592e03a79fd4c574398787525095f"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa8c8592e03a79fd4c574398787525095f">CMD_UNGROUP</a></div><div class="ttdeci">@ CMD_UNGROUP</div><div class="ttdoc">:ungroup</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00128">command.h:128</a></div></div>
<div class="ttc" id="acommands_2group_8h_html_a28ba8325f0898ed34334448a529be7ef"><div class="ttname"><a href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7ef">GroupState</a></div><div class="ttdeci">GroupState</div><div class="ttdoc">Type of email address group.</div><div class="ttdef"><b>Definition</b> <a href="commands_2group_8h_source.html#l00036">group.h:37</a></div></div>
<div class="ttc" id="acommands_2group_8h_html_a28ba8325f0898ed34334448a529be7efa0506327c12cd772182cad0d4115f39b7"><div class="ttname"><a href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa0506327c12cd772182cad0d4115f39b7">GS_RX</a></div><div class="ttdeci">@ GS_RX</div><div class="ttdoc">Entry is a regular expression.</div><div class="ttdef"><b>Definition</b> <a href="commands_2group_8h_source.html#l00039">group.h:39</a></div></div>
<div class="ttc" id="acommands_2group_8h_html_a28ba8325f0898ed34334448a529be7efa1f008b88112cc290617926b6a880b3e3"><div class="ttname"><a href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efa1f008b88112cc290617926b6a880b3e3">GS_NONE</a></div><div class="ttdeci">@ GS_NONE</div><div class="ttdoc">Group is missing an argument.</div><div class="ttdef"><b>Definition</b> <a href="commands_2group_8h_source.html#l00038">group.h:38</a></div></div>
<div class="ttc" id="acommands_2group_8h_html_a28ba8325f0898ed34334448a529be7efafb99c50ae127e02906df58a5688d97cb"><div class="ttname"><a href="commands_2group_8h.html#a28ba8325f0898ed34334448a529be7efafb99c50ae127e02906df58a5688d97cb">GS_ADDR</a></div><div class="ttdeci">@ GS_ADDR</div><div class="ttdoc">Entry is an address.</div><div class="ttdef"><b>Definition</b> <a href="commands_2group_8h_source.html#l00040">group.h:40</a></div></div>
<div class="ttc" id="aqueue_8h_html_ac3c9da7ac712eacbbad5cc54d7a3477e"><div class="ttname"><a href="queue_8h.html#ac3c9da7ac712eacbbad5cc54d7a3477e">TAILQ_EMPTY</a></div><div class="ttdeci">#define TAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00778">queue.h:778</a></div></div>
<div class="ttc" id="astructCommand_html_aeeedcf783c47b7e84be9ecbc46b27792"><div class="ttname"><a href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">Command::id</a></div><div class="ttdeci">enum CommandId id</div><div class="ttdoc">ID of the Command.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00160">command.h:160</a></div></div>
</div><!-- fragment --><div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gacb8e10496eae487748d7a7c038007cc9_cgraph.svg" width="730" height="838"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga230cdd40cc597208e7cdd6bf88b80d6a" name="ga230cdd40cc597208e7cdd6bf88b80d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga230cdd40cc597208e7cdd6bf88b80d6a">&#9670;&#160;</a></span>parse_lists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_lists </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'lists' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>lists [ -group &lt;name&gt; ... ] &lt;regex&gt; [ &lt;regex&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2group_8c_source.html#l00186">186</a> of file <a class="el" href="commands_2group_8c_source.html">group.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  188</span>{</div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  190</span>  {</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  193</span>  }</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>  <span class="keyword">struct </span>GroupList gl = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(gl);</div>
<div class="line"><span class="lineno">  196</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  197</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a>(&amp;gl, token, line, err, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>) == -1)</div>
<div class="line"><span class="lineno">  204</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a4604400f5d21502c96623074740c892d">UnMailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a81cd00343beba80ed69224545216f7e2">MailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  209</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="address_2group_8c.html#a1409c6dfa6e29796dcc319506da727a0">grouplist_add_regex</a>(&amp;gl, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  212</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  213</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>done:</div>
<div class="line"><span class="lineno">  218</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  219</span>  <a class="code hl_function" href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a>(&amp;gl);</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="aemail_2globals_8c_html_a4604400f5d21502c96623074740c892d"><div class="ttname"><a href="email_2globals_8c.html#a4604400f5d21502c96623074740c892d">UnMailLists</a></div><div class="ttdeci">struct RegexList UnMailLists</div><div class="ttdoc">List of regexes to exclude false matches in SubscribedLists.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00052">globals.c:52</a></div></div>
<div class="ttc" id="aemail_2globals_8c_html_a81cd00343beba80ed69224545216f7e2"><div class="ttname"><a href="email_2globals_8c.html#a81cd00343beba80ed69224545216f7e2">MailLists</a></div><div class="ttdeci">struct RegexList MailLists</div><div class="ttdoc">List of permitted fields in a mailto: url.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00040">globals.c:40</a></div></div>
</div><!-- fragment --><div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga230cdd40cc597208e7cdd6bf88b80d6a_cgraph.svg" width="676" height="504"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga643e1c961982ef77286544356794b6e3" name="ga643e1c961982ef77286544356794b6e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga643e1c961982ef77286544356794b6e3">&#9670;&#160;</a></span>parse_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_subscribe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'subscribe' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>subscribe [ -group &lt;name&gt; ... ] &lt;regex&gt; [ &lt;regex&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2group_8c_source.html#l00229">229</a> of file <a class="el" href="commands_2group_8c_source.html">group.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>{</div>
<div class="line"><span class="lineno">  232</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  233</span>  {</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  236</span>  }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>  <span class="keyword">struct </span>GroupList gl = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(gl);</div>
<div class="line"><span class="lineno">  239</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  240</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  243</span>  {</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="commands_2group_8c.html#a5b6fdcd10348c3e4ad51c2c228169191">parse_grouplist</a>(&amp;gl, token, line, err, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af0ea35a35b272d4d5de07a89c16b6cbb">groups</a>) == -1)</div>
<div class="line"><span class="lineno">  247</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a4604400f5d21502c96623074740c892d">UnMailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a2c8a30051d77dd1573791a115b1be7fc">UnSubscribedLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a81cd00343beba80ed69224545216f7e2">MailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  253</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a0d681fa4d907aa89d8f7c196e219e83f">SubscribedLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  256</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="address_2group_8c.html#a1409c6dfa6e29796dcc319506da727a0">grouplist_add_regex</a>(&amp;gl, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">  259</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  260</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>done:</div>
<div class="line"><span class="lineno">  265</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_function" href="address_2group_8c.html#ae31fd3cb547309f86b1e18bb74e4f2f6">grouplist_destroy</a>(&amp;gl);</div>
<div class="line"><span class="lineno">  267</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  268</span>}</div>
<div class="ttc" id="aemail_2globals_8c_html_a0d681fa4d907aa89d8f7c196e219e83f"><div class="ttname"><a href="email_2globals_8c.html#a0d681fa4d907aa89d8f7c196e219e83f">SubscribedLists</a></div><div class="ttdeci">struct RegexList SubscribedLists</div><div class="ttdoc">List of header patterns to unignore (see)</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00048">globals.c:48</a></div></div>
<div class="ttc" id="aemail_2globals_8c_html_a2c8a30051d77dd1573791a115b1be7fc"><div class="ttname"><a href="email_2globals_8c.html#a2c8a30051d77dd1573791a115b1be7fc">UnSubscribedLists</a></div><div class="ttdeci">struct RegexList UnSubscribedLists</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00054">globals.c:54</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga643e1c961982ef77286544356794b6e3_cgraph.svg" width="712" height="498"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga59437460aa55dfe3fd77e1b560bb3d21" name="ga59437460aa55dfe3fd77e1b560bb3d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59437460aa55dfe3fd77e1b560bb3d21">&#9670;&#160;</a></span>parse_unlists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unlists </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unlists' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unlists [ -group &lt;name&gt; ... ] { * | &lt;regex&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2group_8c_source.html#l00276">276</a> of file <a class="el" href="commands_2group_8c_source.html">group.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  280</span>  {</div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  283</span>  }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  286</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>  <a class="code hl_function" href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a1de2e72a5a98bba257a6797327bd955d">AutoSubscribeCache</a>);</div>
<div class="line"><span class="lineno">  289</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  290</span>  {</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a0d681fa4d907aa89d8f7c196e219e83f">SubscribedLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a81cd00343beba80ed69224545216f7e2">MailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  296</span>        (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a4604400f5d21502c96623074740c892d">UnMailLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0))</div>
<div class="line"><span class="lineno">  297</span>    {</div>
<div class="line"><span class="lineno">  298</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>done:</div>
<div class="line"><span class="lineno">  305</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  307</span>}</div>
<div class="ttc" id="aemail_2globals_8c_html_a1de2e72a5a98bba257a6797327bd955d"><div class="ttname"><a href="email_2globals_8c.html#a1de2e72a5a98bba257a6797327bd955d">AutoSubscribeCache</a></div><div class="ttdeci">struct HashTable * AutoSubscribeCache</div><div class="ttdoc">&lt; Hash Table: &quot;mailto:&quot; -&gt; AutoSubscribeCache</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00036">globals.c:36</a></div></div>
<div class="ttc" id="ahash_8c_html_afa22b7f78bbf1b59a4a2bd4bdd20948b"><div class="ttname"><a href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a></div><div class="ttdeci">void mutt_hash_free(struct HashTable **ptr)</div><div class="ttdoc">Free a hash table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00458">hash.c:458</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga59437460aa55dfe3fd77e1b560bb3d21_cgraph.svg" width="498" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gabc343314e190fddebba3339f16ebb833" name="gabc343314e190fddebba3339f16ebb833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc343314e190fddebba3339f16ebb833">&#9670;&#160;</a></span>parse_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unsubscribe' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unsubscribe [ -group &lt;name&gt; ... ] { * | &lt;regex&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2group_8c_source.html#l00315">315</a> of file <a class="el" href="commands_2group_8c_source.html">group.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>{</div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  319</span>  {</div>
<div class="line"><span class="lineno">  320</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  322</span>  }</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  325</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>  <a class="code hl_function" href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a1de2e72a5a98bba257a6797327bd955d">AutoSubscribeCache</a>);</div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  329</span>  {</div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a0d681fa4d907aa89d8f7c196e219e83f">SubscribedLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>) &amp;&amp;</div>
<div class="line"><span class="lineno">  334</span>        (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a2c8a30051d77dd1573791a115b1be7fc">UnSubscribedLists</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0))</div>
<div class="line"><span class="lineno">  335</span>    {</div>
<div class="line"><span class="lineno">  336</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  337</span>    }</div>
<div class="line"><span class="lineno">  338</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>done:</div>
<div class="line"><span class="lineno">  343</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  345</span>}</div>
</div><!-- fragment --><div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gabc343314e190fddebba3339f16ebb833_cgraph.svg" width="534" height="458"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga7cbe63c370a7829ae51728dc8e1dfa45" name="ga7cbe63c370a7829ae51728dc8e1dfa45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cbe63c370a7829ae51728dc8e1dfa45">&#9670;&#160;</a></span>parse_ifdef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_ifdef </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'ifdef' and 'ifndef' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>The 'ifdef' command allows conditional elements in the config file. If a given variable, function, command or compile-time symbol exists, then read the rest of the line of config commands. e.g. ifdef sidebar source ~/.neomutt/sidebar.rc</p>
<p>Parse:</p><ul>
<li><code>ifdef &lt;symbol&gt; "&lt;config-command&gt; [ &lt;args&gt; ... ]"</code></li>
<li><code>ifndef &lt;symbol&gt; "&lt;config-command&gt; [ &lt;args&gt; ... ]"</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ifdef_8c_source.html#l00098">98</a> of file <a class="el" href="ifdef_8c_source.html">ifdef.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{</div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  102</span>  {</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  105</span>  }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  108</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <span class="comment">// is the item defined as:</span></div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordtype">bool</span> res = <a class="code hl_function" href="subset_8c.html#ac22ac8f8fd30068d1d00fd3fdd3394e5">cs_subset_lookup</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) <span class="comment">// a variable?</span></div>
<div class="line"><span class="lineno">  114</span>             || <a class="code hl_function" href="version_8c.html#ad4a3f719e02f32c690d0a68785481422">feature_enabled</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) <span class="comment">// a compiled-in feature?</span></div>
<div class="line"><span class="lineno">  115</span>             || <a class="code hl_function" href="ifdef_8c.html#afafced1b84e7868cb29d1cde26c7c74a">is_function</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token))     <span class="comment">// a function?</span></div>
<div class="line"><span class="lineno">  116</span>             || <a class="code hl_function" href="core_2command_8c.html#a2618bfaaf4307b6aa29566a8dc927d2b">commands_get</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a3024ae27b85ddf7c9c3ff11299d01b05">commands</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) <span class="comment">// a command?</span></div>
<div class="line"><span class="lineno">  117</span>             || <a class="code hl_function" href="ifdef_8c.html#a24e753457aba43a6e749eda649c6b953">is_color_object</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token))                  <span class="comment">// a color?</span></div>
<div class="line"><span class="lineno">  118</span><span class="preprocessor">#ifdef USE_HCACHE</span></div>
<div class="line"><span class="lineno">  119</span>             || <a class="code hl_function" href="store_2lib_8h.html#a2231ae5a5085e1c2c7dba244713b576f">store_is_valid_backend</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) <span class="comment">// a store? (database)</span></div>
<div class="line"><span class="lineno">  120</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  121</span>             || <a class="code hl_function" href="mutt_2string_8c.html#a954e319c94dafe57f48ea9b847269127">mutt_str_getenv</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)); <span class="comment">// an environment variable?</span></div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  124</span>  {</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  126</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  128</span>  }</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>  <span class="comment">/* ifdef KNOWN_SYMBOL or ifndef UNKNOWN_SYMBOL */</span></div>
<div class="line"><span class="lineno">  132</span>  <span class="keywordflow">if</span> ((res &amp;&amp; (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa2ddfed43b4fa32ad8cc9eb25386ebdcd">CMD_IFDEF</a>)) || (!res &amp;&amp; (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa14b9753766d942f89862a0150cbdcb06">CMD_IFNDEF</a>)))</div>
<div class="line"><span class="lineno">  133</span>  {</div>
<div class="line"><span class="lineno">  134</span>    rc = <a class="code hl_function" href="rc_8c.html#ae6debcf37386e5d784efff41d92d02d6">parse_rc_line</a>(token, err);</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>)</div>
<div class="line"><span class="lineno">  136</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error: %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(err));</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  139</span>  }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>done:</div>
<div class="line"><span class="lineno">  142</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  143</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa14b9753766d942f89862a0150cbdcb06"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa14b9753766d942f89862a0150cbdcb06">CMD_IFNDEF</a></div><div class="ttdeci">@ CMD_IFNDEF</div><div class="ttdoc">:ifndef</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00082">command.h:82</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa2ddfed43b4fa32ad8cc9eb25386ebdcd"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa2ddfed43b4fa32ad8cc9eb25386ebdcd">CMD_IFDEF</a></div><div class="ttdeci">@ CMD_IFDEF</div><div class="ttdoc">:ifdef</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00081">command.h:81</a></div></div>
<div class="ttc" id="acore_2command_8c_html_a2618bfaaf4307b6aa29566a8dc927d2b"><div class="ttname"><a href="core_2command_8c.html#a2618bfaaf4307b6aa29566a8dc927d2b">commands_get</a></div><div class="ttdeci">const struct Command * commands_get(struct CommandArray *ca, const char *name)</div><div class="ttdoc">Get a Command by its name.</div><div class="ttdef"><b>Definition</b> <a href="core_2command_8c_source.html#l00082">command.c:82</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="aifdef_8c_html_a24e753457aba43a6e749eda649c6b953"><div class="ttname"><a href="ifdef_8c.html#a24e753457aba43a6e749eda649c6b953">is_color_object</a></div><div class="ttdeci">static bool is_color_object(const char *name)</div><div class="ttdoc">Is the argument a neomutt colour?</div><div class="ttdef"><b>Definition</b> <a href="ifdef_8c_source.html#l00078">ifdef.c:78</a></div></div>
<div class="ttc" id="aifdef_8c_html_afafced1b84e7868cb29d1cde26c7c74a"><div class="ttname"><a href="ifdef_8c.html#afafced1b84e7868cb29d1cde26c7c74a">is_function</a></div><div class="ttdeci">static bool is_function(const char *name)</div><div class="ttdoc">Is the argument a neomutt function?</div><div class="ttdef"><b>Definition</b> <a href="ifdef_8c_source.html#l00057">ifdef.c:57</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a954e319c94dafe57f48ea9b847269127"><div class="ttname"><a href="mutt_2string_8c.html#a954e319c94dafe57f48ea9b847269127">mutt_str_getenv</a></div><div class="ttdeci">const char * mutt_str_getenv(const char *name)</div><div class="ttdoc">Get an environment variable.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00728">string.c:728</a></div></div>
<div class="ttc" id="arc_8c_html_ae6debcf37386e5d784efff41d92d02d6"><div class="ttname"><a href="rc_8c.html#ae6debcf37386e5d784efff41d92d02d6">parse_rc_line</a></div><div class="ttdeci">enum CommandResult parse_rc_line(struct Buffer *line, struct Buffer *err)</div><div class="ttdoc">Parse a line of user config.</div><div class="ttdef"><b>Definition</b> <a href="rc_8c_source.html#l00042">rc.c:42</a></div></div>
<div class="ttc" id="astore_2lib_8h_html_a2231ae5a5085e1c2c7dba244713b576f"><div class="ttname"><a href="store_2lib_8h.html#a2231ae5a5085e1c2c7dba244713b576f">store_is_valid_backend</a></div><div class="ttdeci">bool store_is_valid_backend(const char *str)</div><div class="ttdoc">Is the string a valid Store backend.</div><div class="ttdef"><b>Definition</b> <a href="store_8c_source.html#l00126">store.c:126</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a3024ae27b85ddf7c9c3ff11299d01b05"><div class="ttname"><a href="structNeoMutt.html#a3024ae27b85ddf7c9c3ff11299d01b05">NeoMutt::commands</a></div><div class="ttdeci">struct CommandArray commands</div><div class="ttdoc">NeoMutt commands.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00051">neomutt.h:51</a></div></div>
<div class="ttc" id="asubset_8c_html_ac22ac8f8fd30068d1d00fd3fdd3394e5"><div class="ttname"><a href="subset_8c.html#ac22ac8f8fd30068d1d00fd3fdd3394e5">cs_subset_lookup</a></div><div class="ttdeci">struct HashElem * cs_subset_lookup(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Find an inherited config item.</div><div class="ttdef"><b>Definition</b> <a href="subset_8c_source.html#l00193">subset.c:193</a></div></div>
<div class="ttc" id="aversion_8c_html_ad4a3f719e02f32c690d0a68785481422"><div class="ttname"><a href="version_8c.html#ad4a3f719e02f32c690d0a68785481422">feature_enabled</a></div><div class="ttdeci">bool feature_enabled(const char *name)</div><div class="ttdoc">Test if a compile-time feature is enabled.</div><div class="ttdef"><b>Definition</b> <a href="version_8c_source.html#l00729">version.c:729</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga7cbe63c370a7829ae51728dc8e1dfa45_cgraph.svg" width="679" height="712"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga31dd8ee67b296a2f0ff92d621b348bdc" name="ga31dd8ee67b296a2f0ff92d621b348bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31dd8ee67b296a2f0ff92d621b348bdc">&#9670;&#160;</a></span>parse_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_finish </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'finish' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557ad52789638730c5e54305f009c8bec83e" title="Finish: Stop processing this file.">MUTT_CMD_FINISH</a></td><td>Stop processing the current file </td></tr>
    <tr><td class="paramname"><a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72" title="Warning: Help given to the user.">MUTT_CMD_WARNING</a></td><td>Failed</td></tr>
  </table>
  </dd>
</dl>
<p>If the 'finish' command is found, we should stop reading the current file.</p>
<p>Parse:</p><ul>
<li><code>finish</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ifdef_8c_source.html#l00156">156</a> of file <a class="el" href="ifdef_8c_source.html">ifdef.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>{</div>
<div class="line"><span class="lineno">  159</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  160</span>  {</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  163</span>  }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557ad52789638730c5e54305f009c8bec83e">MUTT_CMD_FINISH</a>;</div>
<div class="line"><span class="lineno">  166</span>}</div>
<div class="ttc" id="acommand_8h_html_ab263ddf6663365ed434ab750bf339557ad52789638730c5e54305f009c8bec83e"><div class="ttname"><a href="command_8h.html#ab263ddf6663365ed434ab750bf339557ad52789638730c5e54305f009c8bec83e">MUTT_CMD_FINISH</a></div><div class="ttdeci">@ MUTT_CMD_FINISH</div><div class="ttdoc">Finish: Stop processing this file.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00039">command.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga31dd8ee67b296a2f0ff92d621b348bdc_cgraph.svg" width="238" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga59ee9fc225abee5f4e573a62fb227b42" name="ga59ee9fc225abee5f4e573a62fb227b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59ee9fc225abee5f4e573a62fb227b42">&#9670;&#160;</a></span>parse_ignore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_ignore </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'ignore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>ignore { * | &lt;string&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ignore_8c_source.html#l00051">51</a> of file <a class="el" href="ignore_8c_source.html">ignore.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   55</span>  {</div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   58</span>  }</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   63</span>  {</div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_function" href="muttlib_8c.html#a1b422ce225f4eb96e3ce8e276467ae9f">remove_from_stailq</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#aedead725975fc1c761da7aba127d2586">UnIgnore</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_function" href="muttlib_8c.html#a2e3c864ac49cfb7bc862c32416baf81d">add_to_stailq</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#aad575fe844c4641824e4e80523c3098b">Ignore</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   67</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   71</span>}</div>
<div class="ttc" id="aemail_2globals_8c_html_aad575fe844c4641824e4e80523c3098b"><div class="ttname"><a href="email_2globals_8c.html#aad575fe844c4641824e4e80523c3098b">Ignore</a></div><div class="ttdeci">struct ListHead Ignore</div><div class="ttdoc">List of regexes to match mailing lists.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00038">globals.c:38</a></div></div>
<div class="ttc" id="aemail_2globals_8c_html_aedead725975fc1c761da7aba127d2586"><div class="ttname"><a href="email_2globals_8c.html#aedead725975fc1c761da7aba127d2586">UnIgnore</a></div><div class="ttdeci">struct ListHead UnIgnore</div><div class="ttdoc">List of regexes to exclude false matches in MailLists.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00050">globals.c:50</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a1b422ce225f4eb96e3ce8e276467ae9f"><div class="ttname"><a href="muttlib_8c.html#a1b422ce225f4eb96e3ce8e276467ae9f">remove_from_stailq</a></div><div class="ttdeci">void remove_from_stailq(struct ListHead *head, const char *str)</div><div class="ttdoc">Remove an item, matching a string, from a List.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l01064">muttlib.c:1064</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a2e3c864ac49cfb7bc862c32416baf81d"><div class="ttname"><a href="muttlib_8c.html#a2e3c864ac49cfb7bc862c32416baf81d">add_to_stailq</a></div><div class="ttdeci">void add_to_stailq(struct ListHead *head, const char *str)</div><div class="ttdoc">Add a string to a list.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l01039">muttlib.c:1039</a></div></div>
</div><!-- fragment --><div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga59ee9fc225abee5f4e573a62fb227b42_cgraph.svg" width="482" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gacfdbe4e52a691dfdbc4301eeda1aa69f" name="gacfdbe4e52a691dfdbc4301eeda1aa69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacfdbe4e52a691dfdbc4301eeda1aa69f">&#9670;&#160;</a></span>parse_unignore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unignore </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unignore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unignore { * | &lt;string&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="ignore_8c_source.html#l00079">79</a> of file <a class="el" href="ignore_8c_source.html">ignore.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{</div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   83</span>  {</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   86</span>  }</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   91</span>  {</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">/* don&#39;t add &quot;*&quot; to the unignore list */</span></div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">   96</span>      <a class="code hl_function" href="muttlib_8c.html#a2e3c864ac49cfb7bc862c32416baf81d">add_to_stailq</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#aedead725975fc1c761da7aba127d2586">UnIgnore</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_function" href="muttlib_8c.html#a1b422ce225f4eb96e3ce8e276467ae9f">remove_from_stailq</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#aad575fe844c4641824e4e80523c3098b">Ignore</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   99</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  102</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  103</span>}</div>
</div><!-- fragment --><div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gacfdbe4e52a691dfdbc4301eeda1aa69f_cgraph.svg" width="498" height="427"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaffa5ff30f5414f2eb4f109bf79d887d3" name="gaffa5ff30f5414f2eb4f109bf79d887d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffa5ff30f5414f2eb4f109bf79d887d3">&#9670;&#160;</a></span>parse_mailboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_mailboxes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'mailboxes' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>mailboxes [[ -label &lt;label&gt; ] | -nolabel ] [[ -notify | -nonotify ] [ -poll | -nopoll ] &lt;mailbox&gt; ] [ ... ]</code></li>
<li><code>named-mailboxes &lt;description&gt; &lt;mailbox&gt; [ &lt;description&gt; &lt;mailbox&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mailboxes_8c_source.html#l00171">171</a> of file <a class="el" href="mailboxes_8c_source.html">mailboxes.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>{</div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  175</span>  {</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  178</span>  }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *label = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  181</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *mailbox = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  182</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  183</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_folder = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;folder&quot;</span>);</div>
<div class="line"><span class="lineno">  186</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  187</span>  {</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordtype">bool</span> label_set = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8a">TriBool</a> notify = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa8590765ebea0944ef7d20b3ca011b132">TB_UNSET</a>;</div>
<div class="line"><span class="lineno">  190</span>    <span class="keyword">enum</span> <a class="code hl_enumeration" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8a">TriBool</a> poll = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa8590765ebea0944ef7d20b3ca011b132">TB_UNSET</a>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  193</span>    {</div>
<div class="line"><span class="lineno">  194</span>      <span class="comment">// Start by handling the options</span></div>
<div class="line"><span class="lineno">  195</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-label&quot;</span>))</div>
<div class="line"><span class="lineno">  198</span>      {</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  200</span>        {</div>
<div class="line"><span class="lineno">  201</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), <span class="stringliteral">&quot;mailboxes -label&quot;</span>);</div>
<div class="line"><span class="lineno">  202</span>          <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>        <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(label, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  206</span>        label_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  207</span>      }</div>
<div class="line"><span class="lineno">  208</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-nolabel&quot;</span>))</div>
<div class="line"><span class="lineno">  209</span>      {</div>
<div class="line"><span class="lineno">  210</span>        <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(label);</div>
<div class="line"><span class="lineno">  211</span>        label_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  212</span>      }</div>
<div class="line"><span class="lineno">  213</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-notify&quot;</span>))</div>
<div class="line"><span class="lineno">  214</span>      {</div>
<div class="line"><span class="lineno">  215</span>        notify = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa3e8425b49b43e6d4de2b9d44d3d3088c">TB_TRUE</a>;</div>
<div class="line"><span class="lineno">  216</span>      }</div>
<div class="line"><span class="lineno">  217</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-nonotify&quot;</span>))</div>
<div class="line"><span class="lineno">  218</span>      {</div>
<div class="line"><span class="lineno">  219</span>        notify = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa2ae7813f4b666113132e3d5d1b704b64">TB_FALSE</a>;</div>
<div class="line"><span class="lineno">  220</span>      }</div>
<div class="line"><span class="lineno">  221</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-poll&quot;</span>))</div>
<div class="line"><span class="lineno">  222</span>      {</div>
<div class="line"><span class="lineno">  223</span>        poll = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa3e8425b49b43e6d4de2b9d44d3d3088c">TB_TRUE</a>;</div>
<div class="line"><span class="lineno">  224</span>      }</div>
<div class="line"><span class="lineno">  225</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;-nopoll&quot;</span>))</div>
<div class="line"><span class="lineno">  226</span>      {</div>
<div class="line"><span class="lineno">  227</span>        poll = <a class="code hl_enumvalue" href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa2ae7813f4b666113132e3d5d1b704b64">TB_FALSE</a>;</div>
<div class="line"><span class="lineno">  228</span>      }</div>
<div class="line"><span class="lineno">  229</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaedf5fe840f54290093fdcf9a70a565b2">CMD_NAMED_MAILBOXES</a>) &amp;&amp; !label_set)</div>
<div class="line"><span class="lineno">  230</span>      {</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  232</span>        {</div>
<div class="line"><span class="lineno">  233</span>          <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  234</span>          <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  235</span>        }</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(label, token);</div>
<div class="line"><span class="lineno">  238</span>        label_set = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  239</span>      }</div>
<div class="line"><span class="lineno">  240</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  241</span>      {</div>
<div class="line"><span class="lineno">  242</span>        <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(mailbox, token);</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  244</span>      }</div>
<div class="line"><span class="lineno">  245</span>    } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(mailbox))</div>
<div class="line"><span class="lineno">  248</span>    {</div>
<div class="line"><span class="lineno">  249</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  250</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  251</span>    }</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    rc = <a class="code hl_function" href="mailboxes_8c.html#a17165848d4e2e997a3e7ee73ab38b17e">mailbox_add</a>(c_folder, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(mailbox),</div>
<div class="line"><span class="lineno">  254</span>                     label_set ? <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(label) : NULL, poll, notify, err);</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  256</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(label);</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(mailbox);</div>
<div class="line"><span class="lineno">  260</span>  }</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>done:</div>
<div class="line"><span class="lineno">  265</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;label);</div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;mailbox);</div>
<div class="line"><span class="lineno">  267</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  268</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="abuffer_8c_html_a3b1f80652b37dc26046f9acdd85a0b05"><div class="ttname"><a href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a></div><div class="ttdeci">void buf_reset(struct Buffer *buf)</div><div class="ttdoc">Reset an existing Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00076">buffer.c:76</a></div></div>
<div class="ttc" id="abuffer_8c_html_a4245e227baa2a9beb6991917404aab0d"><div class="ttname"><a href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a></div><div class="ttdeci">bool buf_is_empty(const struct Buffer *buf)</div><div class="ttdoc">Is the Buffer empty?</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00291">buffer.c:291</a></div></div>
<div class="ttc" id="abuffer_8c_html_ad68834195d667b0932da5133a5402d70"><div class="ttname"><a href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a></div><div class="ttdeci">size_t buf_copy(struct Buffer *dst, const struct Buffer *src)</div><div class="ttdoc">Copy a Buffer&#39;s contents to another Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00601">buffer.c:601</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aaedf5fe840f54290093fdcf9a70a565b2"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaedf5fe840f54290093fdcf9a70a565b2">CMD_NAMED_MAILBOXES</a></div><div class="ttdeci">@ CMD_NAMED_MAILBOXES</div><div class="ttdoc">:named-mailboxes</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00096">command.h:96</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a6b1589ee93ff51ef31f1d9324e138078"><div class="ttname"><a href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00291">helpers.c:291</a></div></div>
<div class="ttc" id="amailboxes_8c_html_a17165848d4e2e997a3e7ee73ab38b17e"><div class="ttname"><a href="mailboxes_8c.html#a17165848d4e2e997a3e7ee73ab38b17e">mailbox_add</a></div><div class="ttdeci">static enum CommandResult mailbox_add(const char *folder, const char *mailbox, const char *label, enum TriBool poll, enum TriBool notify, struct Buffer *err)</div><div class="ttdoc">Add a new Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8c_source.html#l00053">mailboxes.c:53</a></div></div>
<div class="ttc" id="amailboxes_8h_html_ac5b9e412e210f45a19bec2bcbfbb0b8a"><div class="ttname"><a href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8a">TriBool</a></div><div class="ttdeci">TriBool</div><div class="ttdoc">Tri-state boolean.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8h_source.html#l00035">mailboxes.h:36</a></div></div>
<div class="ttc" id="amailboxes_8h_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa2ae7813f4b666113132e3d5d1b704b64"><div class="ttname"><a href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa2ae7813f4b666113132e3d5d1b704b64">TB_FALSE</a></div><div class="ttdeci">@ TB_FALSE</div><div class="ttdoc">Value is false.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8h_source.html#l00038">mailboxes.h:38</a></div></div>
<div class="ttc" id="amailboxes_8h_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa3e8425b49b43e6d4de2b9d44d3d3088c"><div class="ttname"><a href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa3e8425b49b43e6d4de2b9d44d3d3088c">TB_TRUE</a></div><div class="ttdeci">@ TB_TRUE</div><div class="ttdoc">Value is true.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8h_source.html#l00039">mailboxes.h:39</a></div></div>
<div class="ttc" id="amailboxes_8h_html_ac5b9e412e210f45a19bec2bcbfbb0b8aa8590765ebea0944ef7d20b3ca011b132"><div class="ttname"><a href="mailboxes_8h.html#ac5b9e412e210f45a19bec2bcbfbb0b8aa8590765ebea0944ef7d20b3ca011b132">TB_UNSET</a></div><div class="ttdeci">@ TB_UNSET</div><div class="ttdoc">Value hasn&#39;t been set.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8h_source.html#l00037">mailboxes.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaffa5ff30f5414f2eb4f109bf79d887d3_cgraph.svg" width="632" height="582"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga4dd0ed6bd66a9e5975e826d7278f2897" name="ga4dd0ed6bd66a9e5975e826d7278f2897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4dd0ed6bd66a9e5975e826d7278f2897">&#9670;&#160;</a></span>parse_unmailboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unmailboxes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unmailboxes' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unmailboxes { * | &lt;mailbox&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mailboxes_8c_source.html#l00317">317</a> of file <a class="el" href="mailboxes_8c_source.html">mailboxes.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>{</div>
<div class="line"><span class="lineno">  320</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  321</span>  {</div>
<div class="line"><span class="lineno">  322</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  324</span>  }</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  329</span>  {</div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">  333</span>    {</div>
<div class="line"><span class="lineno">  334</span>      <a class="code hl_function" href="mailboxes_8c.html#a7a682ec69ec56de3c8498f11fa16db7c">do_unmailboxes_star</a>();</div>
<div class="line"><span class="lineno">  335</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(token);</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structAccount.html">Account</a> **ap = NULL;</div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_define" href="array_8h.html#a6b8ea5fb2f366d7716f5042b347093a6">ARRAY_FOREACH</a>(ap, &amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a2e28c145ba5138522ae8aad32b107687">accounts</a>)</div>
<div class="line"><span class="lineno">  342</span>    {</div>
<div class="line"><span class="lineno">  343</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structMailbox.html">Mailbox</a> *m = <a class="code hl_function" href="mx_8c.html#a71df9c2c4fd5582ee49766846dd8cbf1">mx_mbox_find</a>(*ap, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  344</span>      <span class="keywordflow">if</span> (m)</div>
<div class="line"><span class="lineno">  345</span>      {</div>
<div class="line"><span class="lineno">  346</span>        <a class="code hl_function" href="mailboxes_8c.html#ad99f485e120b50345092407b57f02497">do_unmailboxes</a>(m);</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  348</span>      }</div>
<div class="line"><span class="lineno">  349</span>    }</div>
<div class="line"><span class="lineno">  350</span>  }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>done:</div>
<div class="line"><span class="lineno">  353</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  354</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  355</span>}</div>
<div class="ttc" id="aarray_8h_html_a6b8ea5fb2f366d7716f5042b347093a6"><div class="ttname"><a href="array_8h.html#a6b8ea5fb2f366d7716f5042b347093a6">ARRAY_FOREACH</a></div><div class="ttdeci">#define ARRAY_FOREACH(elem, head)</div><div class="ttdoc">Iterate over all elements of the array.</div><div class="ttdef"><b>Definition</b> <a href="array_8h_source.html#l00214">array.h:214</a></div></div>
<div class="ttc" id="amailboxes_8c_html_a7a682ec69ec56de3c8498f11fa16db7c"><div class="ttname"><a href="mailboxes_8c.html#a7a682ec69ec56de3c8498f11fa16db7c">do_unmailboxes_star</a></div><div class="ttdeci">static void do_unmailboxes_star(void)</div><div class="ttdoc">Remove all Mailboxes from the Sidebar/notifications.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8c_source.html#l00299">mailboxes.c:299</a></div></div>
<div class="ttc" id="amailboxes_8c_html_ad99f485e120b50345092407b57f02497"><div class="ttname"><a href="mailboxes_8c.html#ad99f485e120b50345092407b57f02497">do_unmailboxes</a></div><div class="ttdeci">static void do_unmailboxes(struct Mailbox *m)</div><div class="ttdoc">Remove a Mailbox from the Sidebar/notifications.</div><div class="ttdef"><b>Definition</b> <a href="mailboxes_8c_source.html#l00275">mailboxes.c:275</a></div></div>
<div class="ttc" id="amuttlib_8c_html_adde3990a0490dfba609fc94dbdbfd6b3"><div class="ttname"><a href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a></div><div class="ttdeci">void buf_expand_path(struct Buffer *buf)</div><div class="ttdoc">Create the canonical path.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l00315">muttlib.c:315</a></div></div>
<div class="ttc" id="amx_8c_html_a71df9c2c4fd5582ee49766846dd8cbf1"><div class="ttname"><a href="mx_8c.html#a71df9c2c4fd5582ee49766846dd8cbf1">mx_mbox_find</a></div><div class="ttdeci">struct Mailbox * mx_mbox_find(struct Account *a, const char *path)</div><div class="ttdoc">Find a Mailbox on an Account.</div><div class="ttdef"><b>Definition</b> <a href="mx_8c_source.html#l01549">mx.c:1549</a></div></div>
<div class="ttc" id="astructAccount_html"><div class="ttname"><a href="structAccount.html">Account</a></div><div class="ttdoc">A group of associated Mailboxes.</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00035">account.h:36</a></div></div>
<div class="ttc" id="astructMailbox_html"><div class="ttname"><a href="structMailbox.html">Mailbox</a></div><div class="ttdoc">A mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00078">mailbox.h:79</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a2e28c145ba5138522ae8aad32b107687"><div class="ttname"><a href="structNeoMutt.html#a2e28c145ba5138522ae8aad32b107687">NeoMutt::accounts</a></div><div class="ttdeci">struct AccountArray accounts</div><div class="ttdoc">All Accounts.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00048">neomutt.h:48</a></div></div>
</div><!-- fragment --><div id="dynsection-23" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga4dd0ed6bd66a9e5975e826d7278f2897_cgraph.svg" width="526" height="531"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga96fc34f8592ea0477bcd2c31c28b12a6" name="ga96fc34f8592ea0477bcd2c31c28b12a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96fc34f8592ea0477bcd2c31c28b12a6">&#9670;&#160;</a></span>parse_my_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_my_hdr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'my_hdr' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>my_hdr &lt;string&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="my__hdr_8c_source.html#l00052">52</a> of file <a class="el" href="my__hdr_8c_source.html">my_hdr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{</div>
<div class="line"><span class="lineno">   55</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   56</span>  {</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   59</span>  }</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   62</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a> | <a class="code hl_define" href="extract_8h.html#a39c530f9e5a5519bd49982d2fcb05117">TOKEN_QUOTE</a>);</div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordtype">char</span> *p = strpbrk(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;: \t&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordflow">if</span> (!p || (*p != <span class="charliteral">&#39;:&#39;</span>))</div>
<div class="line"><span class="lineno">   67</span>  {</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;invalid header field&quot;</span>));</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   70</span>  }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structEventHeader.html">EventHeader</a> ev_h = { token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a> };</div>
<div class="line"><span class="lineno">   73</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structListNode.html">ListNode</a> *node = <a class="code hl_function" href="email_2email_8c.html#afe01890a3071413e9cc8e41f159720ad">header_find</a>(&amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>  <span class="keywordflow">if</span> (node)</div>
<div class="line"><span class="lineno">   76</span>  {</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_function" href="email_2email_8c.html#ae587d1b64d09838f9344c68cb808bb2c">header_update</a>(node, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_HEADER_CHANGE: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9">NT_HEADER</a>, <a class="code hl_enumvalue" href="email_8h.html#a32e989d0071364c3086b2f4b93beac1da93c6d5007a8a30a2b788561f3b76265f">NT_HEADER_CHANGE</a>, &amp;ev_h);</div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   82</span>  {</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_function" href="email_2email_8c.html#ad388addf64f1fc80598dd8cf70307ef9">header_add</a>(&amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_HEADER_ADD: %s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9">NT_HEADER</a>, <a class="code hl_enumvalue" href="email_8h.html#a32e989d0071364c3086b2f4b93beac1dade021951d390d8b9494522c6c88a80ba">NT_HEADER_ADD</a>, &amp;ev_h);</div>
<div class="line"><span class="lineno">   86</span>  }</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>done:</div>
<div class="line"><span class="lineno">   91</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   92</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">   93</span>}</div>
<div class="ttc" id="aemail_2email_8c_html_ad388addf64f1fc80598dd8cf70307ef9"><div class="ttname"><a href="email_2email_8c.html#ad388addf64f1fc80598dd8cf70307ef9">header_add</a></div><div class="ttdeci">struct ListNode * header_add(struct ListHead *hdrlist, const char *header)</div><div class="ttdoc">Add a header to a list.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00160">email.c:160</a></div></div>
<div class="ttc" id="aemail_2email_8c_html_ae587d1b64d09838f9344c68cb808bb2c"><div class="ttname"><a href="email_2email_8c.html#ae587d1b64d09838f9344c68cb808bb2c">header_update</a></div><div class="ttdeci">struct ListNode * header_update(struct ListNode *hdr, const char *header)</div><div class="ttdoc">Update an existing header.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00174">email.c:174</a></div></div>
<div class="ttc" id="aemail_2email_8c_html_afe01890a3071413e9cc8e41f159720ad"><div class="ttname"><a href="email_2email_8c.html#afe01890a3071413e9cc8e41f159720ad">header_find</a></div><div class="ttdeci">struct ListNode * header_find(const struct ListHead *hdrlist, const char *header)</div><div class="ttdoc">Find a header, matching on its field, in a list of headers.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00137">email.c:137</a></div></div>
<div class="ttc" id="aemail_8h_html_a32e989d0071364c3086b2f4b93beac1da93c6d5007a8a30a2b788561f3b76265f"><div class="ttname"><a href="email_8h.html#a32e989d0071364c3086b2f4b93beac1da93c6d5007a8a30a2b788561f3b76265f">NT_HEADER_CHANGE</a></div><div class="ttdeci">@ NT_HEADER_CHANGE</div><div class="ttdoc">An existing header has been changed.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00210">email.h:210</a></div></div>
<div class="ttc" id="aemail_8h_html_a32e989d0071364c3086b2f4b93beac1dade021951d390d8b9494522c6c88a80ba"><div class="ttname"><a href="email_8h.html#a32e989d0071364c3086b2f4b93beac1dade021951d390d8b9494522c6c88a80ba">NT_HEADER_ADD</a></div><div class="ttdeci">@ NT_HEADER_ADD</div><div class="ttdoc">Header has been added.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00208">email.h:208</a></div></div>
<div class="ttc" id="aglobals_8c_html_aa6af9b507b7033a8a1226c0c1946116d"><div class="ttname"><a href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a></div><div class="ttdeci">struct ListHead UserHeader</div><div class="ttdoc">List of custom headers to add to outgoing emails.</div><div class="ttdef"><b>Definition</b> <a href="globals_8c_source.html#l00049">globals.c:49</a></div></div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9">NT_HEADER</a></div><div class="ttdeci">@ NT_HEADER</div><div class="ttdoc">A header has changed, NotifyHeader EventHeader.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00047">notify_type.h:47</a></div></div>
<div class="ttc" id="astructEventHeader_html"><div class="ttname"><a href="structEventHeader.html">EventHeader</a></div><div class="ttdoc">An event that happened to a header.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00216">email.h:217</a></div></div>
<div class="ttc" id="astructListNode_html"><div class="ttname"><a href="structListNode.html">ListNode</a></div><div class="ttdoc">A List node for strings.</div><div class="ttdef"><b>Definition</b> <a href="list_8h_source.html#l00036">list.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-24" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga96fc34f8592ea0477bcd2c31c28b12a6_cgraph.svg" width="490" height="528"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-25" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga96fc34f8592ea0477bcd2c31c28b12a6_icgraph.svg" width="244" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga3e2398c238e8a9876f28bc2754c50628" name="ga3e2398c238e8a9876f28bc2754c50628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e2398c238e8a9876f28bc2754c50628">&#9670;&#160;</a></span>parse_unmy_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unmy_hdr </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unmy_hdr' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unmy_hdr { * | &lt;field&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="my__hdr_8c_source.html#l00101">101</a> of file <a class="el" href="my__hdr_8c_source.html">my_hdr.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>{</div>
<div class="line"><span class="lineno">  104</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  105</span>  {</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  108</span>  }</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structListNode.html">ListNode</a> *np = NULL, *tmp = NULL;</div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordtype">size_t</span> l;</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  116</span>  {</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  119</span>    {</div>
<div class="line"><span class="lineno">  120</span>      <span class="comment">/* Clear all headers, send a notification for each header */</span></div>
<div class="line"><span class="lineno">  121</span>      <a class="code hl_define" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(np, &amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>, entries)</div>
<div class="line"><span class="lineno">  122</span>      {</div>
<div class="line"><span class="lineno">  123</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_HEADER_DELETE: %s\n&quot;</span>, np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>);</div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structEventHeader.html">EventHeader</a> ev_h = { np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a> };</div>
<div class="line"><span class="lineno">  125</span>        <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9">NT_HEADER</a>, <a class="code hl_enumvalue" href="email_8h.html#a32e989d0071364c3086b2f4b93beac1dae734b19a94b55adb80cf6cffc2aa557e">NT_HEADER_DELETE</a>, &amp;ev_h);</div>
<div class="line"><span class="lineno">  126</span>      }</div>
<div class="line"><span class="lineno">  127</span>      <a class="code hl_function" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>(&amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>);</div>
<div class="line"><span class="lineno">  128</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  129</span>    }</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    l = <a class="code hl_function" href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a52e24da79941dc16d5577dac9dfc2698">buf_at</a>(token, l - 1) == <span class="charliteral">&#39;:&#39;</span>)</div>
<div class="line"><span class="lineno">  133</span>      l--;</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <a class="code hl_define" href="queue_8h.html#ac3203dcce73148c142df4586eb55ce55">STAILQ_FOREACH_SAFE</a>(np, &amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>, entries, tmp)</div>
<div class="line"><span class="lineno">  136</span>    {</div>
<div class="line"><span class="lineno">  137</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aefa17bf84a5a1cb4b41afb08cd91ceff">mutt_istrn_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, l) &amp;&amp; (np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>[l] == <span class="charliteral">&#39;:&#39;</span>))</div>
<div class="line"><span class="lineno">  138</span>      {</div>
<div class="line"><span class="lineno">  139</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_HEADER_DELETE: %s\n&quot;</span>, np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>);</div>
<div class="line"><span class="lineno">  140</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structEventHeader.html">EventHeader</a> ev_h = { np-&gt;<a class="code hl_variable" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a> };</div>
<div class="line"><span class="lineno">  141</span>        <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a827cf3ec3fa796b48315d5caf54a3bb9">NT_HEADER</a>, <a class="code hl_enumvalue" href="email_8h.html#a32e989d0071364c3086b2f4b93beac1dae734b19a94b55adb80cf6cffc2aa557e">NT_HEADER_DELETE</a>, &amp;ev_h);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        <a class="code hl_function" href="email_2email_8c.html#a5703ece919269004eecd74af794b424b">header_free</a>(&amp;<a class="code hl_variable" href="globals_8c.html#aa6af9b507b7033a8a1226c0c1946116d">UserHeader</a>, np);</div>
<div class="line"><span class="lineno">  144</span>      }</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  147</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="abuffer_8c_html_a52e24da79941dc16d5577dac9dfc2698"><div class="ttname"><a href="buffer_8c.html#a52e24da79941dc16d5577dac9dfc2698">buf_at</a></div><div class="ttdeci">char buf_at(const struct Buffer *buf, size_t offset)</div><div class="ttdoc">Return the character at the given offset.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00668">buffer.c:668</a></div></div>
<div class="ttc" id="aemail_2email_8c_html_a5703ece919269004eecd74af794b424b"><div class="ttname"><a href="email_2email_8c.html#a5703ece919269004eecd74af794b424b">header_free</a></div><div class="ttdeci">void header_free(struct ListHead *hdrlist, struct ListNode *target)</div><div class="ttdoc">Free and remove a header from a header list.</div><div class="ttdef"><b>Definition</b> <a href="email_2email_8c_source.html#l00202">email.c:202</a></div></div>
<div class="ttc" id="aemail_8h_html_a32e989d0071364c3086b2f4b93beac1dae734b19a94b55adb80cf6cffc2aa557e"><div class="ttname"><a href="email_8h.html#a32e989d0071364c3086b2f4b93beac1dae734b19a94b55adb80cf6cffc2aa557e">NT_HEADER_DELETE</a></div><div class="ttdeci">@ NT_HEADER_DELETE</div><div class="ttdoc">Header has been removed.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00209">email.h:209</a></div></div>
<div class="ttc" id="alist_8c_html_ab5c53ce94cc2aafa4299dbc81a37f4a4"><div class="ttname"><a href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a></div><div class="ttdeci">void mutt_list_free(struct ListHead *h)</div><div class="ttdoc">Free a List AND its strings.</div><div class="ttdef"><b>Definition</b> <a href="list_8c_source.html#l00123">list.c:123</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_acca6786b903b22a5924219f9db96e10d"><div class="ttname"><a href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a></div><div class="ttdeci">size_t mutt_str_len(const char *a)</div><div class="ttdoc">Calculate the length of a string, safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00500">string.c:500</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_aefa17bf84a5a1cb4b41afb08cd91ceff"><div class="ttname"><a href="mutt_2string_8c.html#aefa17bf84a5a1cb4b41afb08cd91ceff">mutt_istrn_equal</a></div><div class="ttdeci">bool mutt_istrn_equal(const char *a, const char *b, size_t num)</div><div class="ttdoc">Check for equality of two strings ignoring case (to a maximum), safely.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00457">string.c:457</a></div></div>
<div class="ttc" id="aqueue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00390">queue.h:390</a></div></div>
<div class="ttc" id="aqueue_8h_html_ac3203dcce73148c142df4586eb55ce55"><div class="ttname"><a href="queue_8h.html#ac3203dcce73148c142df4586eb55ce55">STAILQ_FOREACH_SAFE</a></div><div class="ttdeci">#define STAILQ_FOREACH_SAFE(var, head, field, tvar)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00400">queue.h:400</a></div></div>
<div class="ttc" id="astructListNode_html_aafe688d670318196766392d8235d00a7"><div class="ttname"><a href="structListNode.html#aafe688d670318196766392d8235d00a7">ListNode::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">String.</div><div class="ttdef"><b>Definition</b> <a href="list_8h_source.html#l00038">list.h:38</a></div></div>
</div><!-- fragment --><div id="dynsection-26" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga3e2398c238e8a9876f28bc2754c50628_cgraph.svg" width="506" height="643"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga16cdeea9166660519d527849dab1c77c" name="ga16cdeea9166660519d527849dab1c77c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16cdeea9166660519d527849dab1c77c">&#9670;&#160;</a></span>parse_cd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_cd </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'cd' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>cd [ &lt;directory&gt; ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2parse_8c_source.html#l00059">59</a> of file <a class="el" href="commands_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   62</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(token))</div>
<div class="line"><span class="lineno">   66</span>  {</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(token, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#ac181d2dd4b8f4acbcfe0b1878ebbfa08">home_dir</a>);</div>
<div class="line"><span class="lineno">   68</span>  }</div>
<div class="line"><span class="lineno">   69</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   70</span>  {</div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(token);</div>
<div class="line"><span class="lineno">   72</span>  }</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordflow">if</span> (chdir(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) != 0)</div>
<div class="line"><span class="lineno">   75</span>  {</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <span class="stringliteral">&quot;%s: %s&quot;</span>, cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>, strerror(errno));</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   78</span>  }</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>done:</div>
<div class="line"><span class="lineno">   83</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   84</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">   85</span>}</div>
<div class="ttc" id="astructNeoMutt_html_ac181d2dd4b8f4acbcfe0b1878ebbfa08"><div class="ttname"><a href="structNeoMutt.html#ac181d2dd4b8f4acbcfe0b1878ebbfa08">NeoMutt::home_dir</a></div><div class="ttdeci">char * home_dir</div><div class="ttdoc">User&#39;s home directory.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00054">neomutt.h:54</a></div></div>
</div><!-- fragment --><div id="dynsection-27" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga16cdeea9166660519d527849dab1c77c_cgraph.svg" width="456" height="427"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gae25de883eb426be9c30a20c71a00480b" name="gae25de883eb426be9c30a20c71a00480b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae25de883eb426be9c30a20c71a00480b">&#9670;&#160;</a></span>parse_echo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_echo </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'echo' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>echo &lt;message&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2parse_8c_source.html#l00093">93</a> of file <a class="el" href="commands_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>{</div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   97</span>  {</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  100</span>  }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  105</span>  <a class="code hl_variable" href="globals_8c.html#a7b478140982b38a32d3121b0b3fb5238">OptForceRefresh</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  106</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  107</span>  <a class="code hl_variable" href="globals_8c.html#a7b478140982b38a32d3121b0b3fb5238">OptForceRefresh</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  108</span>  <a class="code hl_function" href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a>(0);</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="aglobals_8c_html_a7b478140982b38a32d3121b0b3fb5238"><div class="ttname"><a href="globals_8c.html#a7b478140982b38a32d3121b0b3fb5238">OptForceRefresh</a></div><div class="ttdeci">bool OptForceRefresh</div><div class="ttdoc">(pseudo) refresh even during macros</div><div class="ttdef"><b>Definition</b> <a href="globals_8c_source.html#l00058">globals.c:58</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a6fbcbe533be7c4e05d99b0eb9cdb2581"><div class="ttname"><a href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a></div><div class="ttdeci">void mutt_sleep(short s)</div><div class="ttdoc">Sleep for a while.</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l00842">muttlib.c:842</a></div></div>
</div><!-- fragment --><div id="dynsection-28" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gae25de883eb426be9c30a20c71a00480b_cgraph.svg" width="472" height="312"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga3397504345268e8f15f7ca2202e96bed" name="ga3397504345268e8f15f7ca2202e96bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3397504345268e8f15f7ca2202e96bed">&#9670;&#160;</a></span>parse_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_version </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'version' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>version</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2parse_8c_source.html#l00120">120</a> of file <a class="el" href="commands_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>  <span class="comment">// silently ignore &#39;version&#39; if it&#39;s in a config file</span></div>
<div class="line"><span class="lineno">  124</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a>)</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  128</span>  {</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  131</span>  }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  134</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>  <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  FILE *fp_out = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  139</span>  <span class="keywordflow">if</span> (!fp_out)</div>
<div class="line"><span class="lineno">  140</span>  {</div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">// L10N: &#39;%s&#39; is the file name of the temporary file</span></div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not create temporary file %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile));</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  144</span>  }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>  <a class="code hl_function" href="version_8c.html#a90dc64edb5f0e8002f8947e784ec00cf">print_version</a>(fp_out, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  147</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp_out);</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerData.html">PagerData</a> pdata = { 0 };</div>
<div class="line"><span class="lineno">  150</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerView.html">PagerView</a> pview = { &amp;<a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a> };</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a>.<a class="code hl_variable" href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">fname</a> = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile);</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>  pview.<a class="code hl_variable" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>;</div>
<div class="line"><span class="lineno">  155</span>  pview.<a class="code hl_variable" href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">flags</a> = <a class="code hl_define" href="pager_2lib_8h.html#a0a536da5cd7ad9b881a8079052853818">MUTT_PAGER_NO_FLAGS</a>;</div>
<div class="line"><span class="lineno">  156</span>  pview.<a class="code hl_variable" href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">mode</a> = <a class="code hl_enumvalue" href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161">PAGER_MODE_OTHER</a>;</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  <a class="code hl_function" href="do__pager_8c.html#a9d3af21b7fdf24249c261a9a1aa9f3be">mutt_do_pager</a>(&amp;pview, NULL);</div>
<div class="line"><span class="lineno">  159</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>done:</div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno">  163</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  164</span>}</div>
<div class="ttc" id="aconfig_2set_8h_html_aaf8eacd4749948bf6d877a63eb886322"><div class="ttname"><a href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a></div><div class="ttdeci">bool StartupComplete</div><div class="ttdoc">When the config has been read.</div><div class="ttdef"><b>Definition</b> <a href="fuzz_2address_8c_source.html#l00013">address.c:13</a></div></div>
<div class="ttc" id="ado__pager_8c_html_a9d3af21b7fdf24249c261a9a1aa9f3be"><div class="ttname"><a href="do__pager_8c.html#a9d3af21b7fdf24249c261a9a1aa9f3be">mutt_do_pager</a></div><div class="ttdeci">int mutt_do_pager(struct PagerView *pview, struct Email *e)</div><div class="ttdoc">Display some page-able text to the user (help or attachment)</div><div class="ttdef"><b>Definition</b> <a href="do__pager_8c_source.html#l00122">do_pager.c:122</a></div></div>
<div class="ttc" id="afile_8h_html_a9b519e795f098be88b93cd72c49a35ec"><div class="ttname"><a href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a></div><div class="ttdeci">#define mutt_file_fclose(FP)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00139">file.h:139</a></div></div>
<div class="ttc" id="afile_8h_html_a9fa358d76519cb6bc8ffca5850976d46"><div class="ttname"><a href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a></div><div class="ttdeci">#define mutt_file_fopen(PATH, MODE)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00138">file.h:138</a></div></div>
<div class="ttc" id="apager_2lib_8h_html_a0a536da5cd7ad9b881a8079052853818"><div class="ttname"><a href="pager_2lib_8h.html#a0a536da5cd7ad9b881a8079052853818">MUTT_PAGER_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_PAGER_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="apager_2lib_8h_html_a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161"><div class="ttname"><a href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161">PAGER_MODE_OTHER</a></div><div class="ttdeci">@ PAGER_MODE_OTHER</div><div class="ttdoc">Pager is invoked via 3rd path. Non-email content is likely to be shown.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00140">lib.h:140</a></div></div>
<div class="ttc" id="astructPagerData_html"><div class="ttname"><a href="structPagerData.html">PagerData</a></div><div class="ttdoc">Data to be displayed by PagerView.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00158">lib.h:159</a></div></div>
<div class="ttc" id="astructPagerData_html_a00d514b3bce57dcd4d5e1e493045ae5e"><div class="ttname"><a href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">PagerData::fname</a></div><div class="ttdeci">const char * fname</div><div class="ttdoc">Name of the file to read.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00163">lib.h:163</a></div></div>
<div class="ttc" id="astructPagerView_html"><div class="ttname"><a href="structPagerView.html">PagerView</a></div><div class="ttdoc">Paged view into some data.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00169">lib.h:170</a></div></div>
<div class="ttc" id="astructPagerView_html_a29102d8862e5aabcfcfe86da4c8e3921"><div class="ttname"><a href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">PagerView::pdata</a></div><div class="ttdeci">struct PagerData * pdata</div><div class="ttdoc">Data that pager displays. NOTNULL.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00171">lib.h:171</a></div></div>
<div class="ttc" id="astructPagerView_html_a4f7074be59cdcb518630e81e5ef8c3b7"><div class="ttname"><a href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">PagerView::mode</a></div><div class="ttdeci">enum PagerMode mode</div><div class="ttdoc">Pager mode.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00172">lib.h:172</a></div></div>
<div class="ttc" id="astructPagerView_html_a8e4d312c9fefeba6f1c4fd8cf84eb101"><div class="ttname"><a href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">PagerView::flags</a></div><div class="ttdeci">PagerFlags flags</div><div class="ttdoc">Additional settings to tweak pager&#39;s function.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00173">lib.h:173</a></div></div>
<div class="ttc" id="astructPagerView_html_a90f35bb89f5efbd6cb5c23226f316e17"><div class="ttname"><a href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">PagerView::banner</a></div><div class="ttdeci">const char * banner</div><div class="ttdoc">Title to display in status bar.</div><div class="ttdef"><b>Definition</b> <a href="pager_2lib_8h_source.html#l00174">lib.h:174</a></div></div>
<div class="ttc" id="atmp_8h_html_a271a7828888985955df49205d7846a45"><div class="ttname"><a href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a></div><div class="ttdeci">#define buf_mktemp(buf)</div><div class="ttdef"><b>Definition</b> <a href="tmp_8h_source.html#l00033">tmp.h:33</a></div></div>
<div class="ttc" id="aversion_8c_html_a90dc64edb5f0e8002f8947e784ec00cf"><div class="ttname"><a href="version_8c.html#a90dc64edb5f0e8002f8947e784ec00cf">print_version</a></div><div class="ttdeci">bool print_version(FILE *fp, bool use_ansi)</div><div class="ttdoc">Print system and compile info to a file.</div><div class="ttdef"><b>Definition</b> <a href="version_8c_source.html#l00591">version.c:591</a></div></div>
</div><!-- fragment --><div id="dynsection-29" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga3397504345268e8f15f7ca2202e96bed_cgraph.svg" width="458" height="296"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gacdd09691d8d5ff8b2c13af5fb45eb730" name="gacdd09691d8d5ff8b2c13af5fb45eb730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdd09691d8d5ff8b2c13af5fb45eb730">&#9670;&#160;</a></span>parse_setenv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_setenv </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'setenv' and 'unsetenv' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>setenv { &lt;variable&gt;? | &lt;variable&gt; &lt;value&gt; }</code></li>
<li><code>unsetenv &lt;variable&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="setenv_8c_source.html#l00064">64</a> of file <a class="el" href="setenv_8c_source.html">setenv.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{</div>
<div class="line"><span class="lineno">   67</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   68</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = NULL;</div>
<div class="line"><span class="lineno">   69</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>  <span class="keywordtype">char</span> **envp = <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordtype">bool</span> query = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordtype">bool</span> prefix = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   75</span>  <span class="keywordtype">bool</span> unset = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aab9c70f57965ab8a71ba9e03050c96aab">CMD_UNSETENV</a>);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   78</span>  {</div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a>)</div>
<div class="line"><span class="lineno">   80</span>    {</div>
<div class="line"><span class="lineno">   81</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   82</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    FILE *fp_out = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> (!fp_out)</div>
<div class="line"><span class="lineno">   90</span>    {</div>
<div class="line"><span class="lineno">   91</span>      <span class="comment">// L10N: &#39;%s&#39; is the file name of the temporary file</span></div>
<div class="line"><span class="lineno">   92</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not create temporary file %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile));</div>
<div class="line"><span class="lineno">   93</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">   94</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   95</span>    }</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">for</span> (<span class="keywordtype">char</span> **env = <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>; *env; env++)</div>
<div class="line"><span class="lineno">   99</span>      count++;</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_function" href="qsort__r_8c.html#adb31a05f44d011c04f6df8752c8f05de">mutt_qsort_r</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>, count, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *), <a class="code hl_function" href="group__sort__api.html#ga387c03d3ad5d586efbe4cb66900ca57f">envlist_sort</a>, NULL);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">for</span> (<span class="keywordtype">char</span> **env = <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>; *env; env++)</div>
<div class="line"><span class="lineno">  104</span>      fprintf(fp_out, <span class="stringliteral">&quot;%s\n&quot;</span>, *env);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp_out);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structPagerData.html">PagerData</a> pdata = { 0 };</div>
<div class="line"><span class="lineno">  109</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structPagerView.html">PagerView</a> pview = { &amp;<a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a> };</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a>.<a class="code hl_variable" href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">fname</a> = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    pview.<a class="code hl_variable" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>;</div>
<div class="line"><span class="lineno">  114</span>    pview.<a class="code hl_variable" href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">flags</a> = <a class="code hl_define" href="pager_2lib_8h.html#a0a536da5cd7ad9b881a8079052853818">MUTT_PAGER_NO_FLAGS</a>;</div>
<div class="line"><span class="lineno">  115</span>    pview.<a class="code hl_variable" href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">mode</a> = <a class="code hl_enumvalue" href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161">PAGER_MODE_OTHER</a>;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_function" href="do__pager_8c.html#a9d3af21b7fdf24249c261a9a1aa9f3be">mutt_do_pager</a>(&amp;pview, NULL);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  121</span>  }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  124</span>  {</div>
<div class="line"><span class="lineno">  125</span>    query = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  126</span>    prefix = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">if</span> (unset)</div>
<div class="line"><span class="lineno">  129</span>    {</div>
<div class="line"><span class="lineno">  130</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t query option with the &#39;%s&#39; command&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  131</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  135</span>  }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>  <span class="comment">/* get variable name */</span></div>
<div class="line"><span class="lineno">  138</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a64ef0ce4d8a3c73c17f194272def1880">TOKEN_EQUAL</a> | <a class="code hl_define" href="extract_8h.html#ac237dcc2e1cefc5cf6276cc77b80b9c1">TOKEN_QUESTION</a>);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  141</span>  {</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> (unset)</div>
<div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t query option with the &#39;%s&#39; command&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  145</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  146</span>    }</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><span class="lineno">  149</span>    {</div>
<div class="line"><span class="lineno">  150</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t use a prefix when querying a variable&quot;</span>));</div>
<div class="line"><span class="lineno">  151</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    query = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  155</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  156</span>  }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordflow">if</span> (query)</div>
<div class="line"><span class="lineno">  159</span>  {</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">while</span> (envp &amp;&amp; *envp)</div>
<div class="line"><span class="lineno">  162</span>    {</div>
<div class="line"><span class="lineno">  163</span>      <span class="comment">/* This will display all matches for &quot;^QUERY&quot; */</span></div>
<div class="line"><span class="lineno">  164</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(*envp, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  165</span>      {</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> (!found)</div>
<div class="line"><span class="lineno">  167</span>        {</div>
<div class="line"><span class="lineno">  168</span>          <a class="code hl_function" href="curs__lib_8c.html#acd14d074d8b9e6cb21e851dd573cdec2">mutt_endwin</a>();</div>
<div class="line"><span class="lineno">  169</span>          found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span>        puts(*envp);</div>
<div class="line"><span class="lineno">  172</span>      }</div>
<div class="line"><span class="lineno">  173</span>      envp++;</div>
<div class="line"><span class="lineno">  174</span>    }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">if</span> (found)</div>
<div class="line"><span class="lineno">  177</span>    {</div>
<div class="line"><span class="lineno">  178</span>      <a class="code hl_function" href="curs__lib_8c.html#ab6a61cdfcf8c2c73ee59381c79c79774">mutt_any_key_to_continue</a>(NULL);</div>
<div class="line"><span class="lineno">  179</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  180</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is unset&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  185</span>  }</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">if</span> (unset)</div>
<div class="line"><span class="lineno">  188</span>  {</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="envlist_8c.html#adfd13ffecec0c62acf36151a8ea41ac2">envlist_unset</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  190</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  192</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is unset&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  195</span>  }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>  <span class="comment">/* set variable */</span></div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  203</span>  }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  206</span>  {</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  209</span>  }</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>  <span class="keywordtype">char</span> *varname = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  212</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  213</span>  <a class="code hl_function" href="envlist_8c.html#a8643dfebf12ab95f38021cf7fac716cc">envlist_set</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">env</a>, varname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  214</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;varname);</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>done:</div>
<div class="line"><span class="lineno">  219</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  220</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  222</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aab9c70f57965ab8a71ba9e03050c96aab"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aab9c70f57965ab8a71ba9e03050c96aab">CMD_UNSETENV</a></div><div class="ttdeci">@ CMD_UNSETENV</div><div class="ttdoc">:unsetenv</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00141">command.h:141</a></div></div>
<div class="ttc" id="aenvlist_8c_html_a8643dfebf12ab95f38021cf7fac716cc"><div class="ttname"><a href="envlist_8c.html#a8643dfebf12ab95f38021cf7fac716cc">envlist_set</a></div><div class="ttdeci">bool envlist_set(char ***envp, const char *name, const char *value, bool overwrite)</div><div class="ttdoc">Set an environment variable.</div><div class="ttdef"><b>Definition</b> <a href="envlist_8c_source.html#l00088">envlist.c:88</a></div></div>
<div class="ttc" id="aenvlist_8c_html_adfd13ffecec0c62acf36151a8ea41ac2"><div class="ttname"><a href="envlist_8c.html#adfd13ffecec0c62acf36151a8ea41ac2">envlist_unset</a></div><div class="ttdeci">bool envlist_unset(char ***envp, const char *name)</div><div class="ttdoc">Unset an environment variable.</div><div class="ttdef"><b>Definition</b> <a href="envlist_8c_source.html#l00136">envlist.c:136</a></div></div>
<div class="ttc" id="aextract_8h_html_a64ef0ce4d8a3c73c17f194272def1880"><div class="ttname"><a href="extract_8h.html#a64ef0ce4d8a3c73c17f194272def1880">TOKEN_EQUAL</a></div><div class="ttdeci">#define TOKEN_EQUAL</div><div class="ttdoc">Treat &#39;=&#39; as a special.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00046">extract.h:46</a></div></div>
<div class="ttc" id="aextract_8h_html_ac237dcc2e1cefc5cf6276cc77b80b9c1"><div class="ttname"><a href="extract_8h.html#ac237dcc2e1cefc5cf6276cc77b80b9c1">TOKEN_QUESTION</a></div><div class="ttdeci">#define TOKEN_QUESTION</div><div class="ttdoc">Treat &#39;?&#39; as a special.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00055">extract.h:55</a></div></div>
<div class="ttc" id="agroup__sort__api_html_ga387c03d3ad5d586efbe4cb66900ca57f"><div class="ttname"><a href="group__sort__api.html#ga387c03d3ad5d586efbe4cb66900ca57f">envlist_sort</a></div><div class="ttdeci">static int envlist_sort(const void *a, const void *b, void *sdata)</div><div class="ttdoc">Compare two environment strings - Implements sort_t -.</div><div class="ttdef"><b>Definition</b> <a href="setenv_8c_source.html#l00052">setenv.c:52</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00234">string.c:234</a></div></div>
<div class="ttc" id="aqsort__r_8c_html_adb31a05f44d011c04f6df8752c8f05de"><div class="ttname"><a href="qsort__r_8c.html#adb31a05f44d011c04f6df8752c8f05de">mutt_qsort_r</a></div><div class="ttdeci">void mutt_qsort_r(void *base, size_t nmemb, size_t size, sort_t compar, void *sdata)</div><div class="ttdoc">Sort an array, where the comparator has access to opaque data rather than requiring global variables.</div><div class="ttdef"><b>Definition</b> <a href="qsort__r_8c_source.html#l00067">qsort_r.c:67</a></div></div>
<div class="ttc" id="astring2_8h_html_aebd4477213a7b706515efaffdec64181"><div class="ttname"><a href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a></div><div class="ttdeci">#define SKIPWS(ch)</div><div class="ttdef"><b>Definition</b> <a href="string2_8h_source.html#l00052">string2.h:52</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a5410041863c473ba1f27b415c0a40482"><div class="ttname"><a href="structNeoMutt.html#a5410041863c473ba1f27b415c0a40482">NeoMutt::env</a></div><div class="ttdeci">char ** env</div><div class="ttdoc">Private copy of the environment variables.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00056">neomutt.h:56</a></div></div>
</div><!-- fragment --><div id="dynsection-30" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gacdd09691d8d5ff8b2c13af5fb45eb730_cgraph.svg" width="538" height="730"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga921328edb45bd0c6121fb1be4d0222db" name="ga921328edb45bd0c6121fb1be4d0222db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga921328edb45bd0c6121fb1be4d0222db">&#9670;&#160;</a></span>parse_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_source </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'source' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>source &lt;filename&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="source_8c_source.html#l00215">215</a> of file <a class="el" href="source_8c_source.html">source.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>{</div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  219</span>  {</div>
<div class="line"><span class="lineno">  220</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  222</span>  }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  225</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *path = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  226</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  229</span>  {</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a0350e25954f1055b666beb5ace06a92c">TOKEN_BACKTICK_VARS</a>) != 0)</div>
<div class="line"><span class="lineno">  231</span>    {</div>
<div class="line"><span class="lineno">  232</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;source: error at %s&quot;</span>), line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  233</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(path, token);</div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(path);</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="source_8c.html#ae940c8a2d277f104d28f9998cd73ead5">source_rc</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path), err) &lt; 0)</div>
<div class="line"><span class="lineno">  239</span>    {</div>
<div class="line"><span class="lineno">  240</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;source: file %s could not be sourced&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path));</div>
<div class="line"><span class="lineno">  241</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  242</span>    }</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>done:</div>
<div class="line"><span class="lineno">  249</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;path);</div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  251</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  252</span>}</div>
<div class="ttc" id="aextract_8h_html_a0350e25954f1055b666beb5ace06a92c"><div class="ttname"><a href="extract_8h.html#a0350e25954f1055b666beb5ace06a92c">TOKEN_BACKTICK_VARS</a></div><div class="ttdeci">#define TOKEN_BACKTICK_VARS</div><div class="ttdoc">Expand variables within backticks.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00053">extract.h:53</a></div></div>
<div class="ttc" id="asource_8c_html_ae940c8a2d277f104d28f9998cd73ead5"><div class="ttname"><a href="source_8c.html#ae940c8a2d277f104d28f9998cd73ead5">source_rc</a></div><div class="ttdeci">int source_rc(const char *rcfile_path, struct Buffer *err)</div><div class="ttdoc">Read an initialization file.</div><div class="ttdef"><b>Definition</b> <a href="source_8c_source.html#l00066">source.c:66</a></div></div>
</div><!-- fragment --><div id="dynsection-31" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga921328edb45bd0c6121fb1be4d0222db_cgraph.svg" width="483" height="391"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaa6b02f787ed01ad3d8a958e02f1e2cb1" name="gaa6b02f787ed01ad3d8a958e02f1e2cb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6b02f787ed01ad3d8a958e02f1e2cb1">&#9670;&#160;</a></span>parse_nospam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_nospam </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'nospam' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>nospam { * | &lt;regex&gt; }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="spam_8c_source.html#l00051">51</a> of file <a class="el" href="spam_8c_source.html">spam.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   55</span>  {</div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   58</span>  }</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   61</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>  <span class="comment">// Extract the first token, a regex or &quot;*&quot;</span></div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   67</span>  {</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   70</span>  }</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>  <span class="comment">// &quot;*&quot; is special - clear both spam and nospam lists</span></div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">   74</span>  {</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4cd5feab8463aea0a18d195f6c3a704d">mutt_replacelist_free</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a06af023ff2bcf95bde2927fe57a02343">SpamList</a>);</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a2c9214257c0c29629a4481d8937a8be3">mutt_regexlist_free</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#ac34f386d975c81dc32e3b0bc079dba40">NoSpamList</a>);</div>
<div class="line"><span class="lineno">   77</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   79</span>  }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>  <span class="comment">// If it&#39;s on the spam list, just remove it</span></div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a10e50965e40cc0fe521c15c77d1e4841">mutt_replacelist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a06af023ff2bcf95bde2927fe57a02343">SpamList</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) != 0)</div>
<div class="line"><span class="lineno">   83</span>  {</div>
<div class="line"><span class="lineno">   84</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   86</span>  }</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  <span class="comment">// Otherwise, add it to the nospam list</span></div>
<div class="line"><span class="lineno">   89</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a305eb49ea76a2bc81bf89c1b5417c308">mutt_regexlist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#ac34f386d975c81dc32e3b0bc079dba40">NoSpamList</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), REG_ICASE, err) != 0)</div>
<div class="line"><span class="lineno">   90</span>  {</div>
<div class="line"><span class="lineno">   91</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   93</span>  }</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>done:</div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   99</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="aemail_2globals_8c_html_a06af023ff2bcf95bde2927fe57a02343"><div class="ttname"><a href="email_2globals_8c.html#a06af023ff2bcf95bde2927fe57a02343">SpamList</a></div><div class="ttdeci">struct ReplaceList SpamList</div><div class="ttdoc">List of regexes to match subscribed mailing lists.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00046">globals.c:46</a></div></div>
<div class="ttc" id="aemail_2globals_8c_html_ac34f386d975c81dc32e3b0bc079dba40"><div class="ttname"><a href="email_2globals_8c.html#ac34f386d975c81dc32e3b0bc079dba40">NoSpamList</a></div><div class="ttdeci">struct RegexList NoSpamList</div><div class="ttdoc">List of regexes and patterns to match spam emails.</div><div class="ttdef"><b>Definition</b> <a href="email_2globals_8c_source.html#l00044">globals.c:44</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_a10e50965e40cc0fe521c15c77d1e4841"><div class="ttname"><a href="mutt_2regex_8c.html#a10e50965e40cc0fe521c15c77d1e4841">mutt_replacelist_remove</a></div><div class="ttdeci">int mutt_replacelist_remove(struct ReplaceList *rl, const char *pat)</div><div class="ttdoc">Remove a pattern from a list.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00566">regex.c:566</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_a2c9214257c0c29629a4481d8937a8be3"><div class="ttname"><a href="mutt_2regex_8c.html#a2c9214257c0c29629a4481d8937a8be3">mutt_regexlist_free</a></div><div class="ttdeci">void mutt_regexlist_free(struct RegexList *rl)</div><div class="ttdoc">Free a RegexList object.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00179">regex.c:179</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_a4cd5feab8463aea0a18d195f6c3a704d"><div class="ttname"><a href="mutt_2regex_8c.html#a4cd5feab8463aea0a18d195f6c3a704d">mutt_replacelist_free</a></div><div class="ttdeci">void mutt_replacelist_free(struct ReplaceList *rl)</div><div class="ttdoc">Free a ReplaceList object.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00450">regex.c:450</a></div></div>
</div><!-- fragment --><div id="dynsection-32" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaa6b02f787ed01ad3d8a958e02f1e2cb1_cgraph.svg" width="518" height="527"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gad96f8b4a0cfdc9981de60f5fc81fd768" name="gad96f8b4a0cfdc9981de60f5fc81fd768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad96f8b4a0cfdc9981de60f5fc81fd768">&#9670;&#160;</a></span>parse_spam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_spam </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'spam' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>spam &lt;regex&gt; &lt;format&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="spam_8c_source.html#l00108">108</a> of file <a class="el" href="spam_8c_source.html">spam.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  112</span>  {</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  118</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *templ = NULL;</div>
<div class="line"><span class="lineno">  119</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>  <span class="comment">// Extract the first token, a regex</span></div>
<div class="line"><span class="lineno">  122</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// If there&#39;s a second parameter, it&#39;s a template for the spam tag</span></div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  126</span>  {</div>
<div class="line"><span class="lineno">  127</span>    templ = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(templ, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">// Add to the spam list</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2regex_8c.html#a7b0b955eaca9b1208ff025f30a98aef0">mutt_replacelist_add</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#a06af023ff2bcf95bde2927fe57a02343">SpamList</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(templ), err) != 0)</div>
<div class="line"><span class="lineno">  132</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  133</span>  }</div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  135</span>  {</div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// If not, try to remove from the nospam list</span></div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_function" href="mutt_2regex_8c.html#a4fd9f92b6c20e595b9487f874cb75f02">mutt_regexlist_remove</a>(&amp;<a class="code hl_variable" href="email_2globals_8c.html#ac34f386d975c81dc32e3b0bc079dba40">NoSpamList</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  138</span>  }</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>done:</div>
<div class="line"><span class="lineno">  143</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;templ);</div>
<div class="line"><span class="lineno">  144</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  145</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  146</span>}</div>
<div class="ttc" id="amutt_2regex_8c_html_a7b0b955eaca9b1208ff025f30a98aef0"><div class="ttname"><a href="mutt_2regex_8c.html#a7b0b955eaca9b1208ff025f30a98aef0">mutt_replacelist_add</a></div><div class="ttdeci">int mutt_replacelist_add(struct ReplaceList *rl, const char *pat, const char *templ, struct Buffer *err)</div><div class="ttdoc">Add a pattern and a template to a list.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2regex_8c_source.html#l00271">regex.c:271</a></div></div>
</div><!-- fragment --><div id="dynsection-33" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gad96f8b4a0cfdc9981de60f5fc81fd768_cgraph.svg" width="492" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaaa953f9a4aee683d7ce1f888a3d48ed4" name="gaaa953f9a4aee683d7ce1f888a3d48ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa953f9a4aee683d7ce1f888a3d48ed4">&#9670;&#160;</a></span>parse_stailq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_stailq </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a list command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>alternative_order &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ]</code></li>
<li><code>auto_view &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ]</code></li>
<li><code>hdr_order &lt;header&gt; [ &lt;header&gt; ... ]</code></li>
<li><code>mailto_allow { * | &lt;header-field&gt; ... }</code></li>
<li><code>mime_lookup &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="stailq_8c_source.html#l00054">54</a> of file <a class="el" href="stailq_8c_source.html">stailq.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   58</span>  {</div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   61</span>  }</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   66</span>  {</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="muttlib_8c.html#a2e3c864ac49cfb7bc862c32416baf81d">add_to_stailq</a>((<span class="keyword">struct</span> ListHead *) cmd-&gt;<a class="code hl_variable" href="structCommand.html#aa5fe18d852766cc28e9641ff4d0e3b6f">data</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   69</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   72</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   73</span>}</div>
<div class="ttc" id="astructCommand_html_aa5fe18d852766cc28e9641ff4d0e3b6f"><div class="ttname"><a href="structCommand.html#aa5fe18d852766cc28e9641ff4d0e3b6f">Command::data</a></div><div class="ttdeci">intptr_t data</div><div class="ttdoc">Data or flags to pass to the command.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00178">command.h:178</a></div></div>
</div><!-- fragment --><div id="dynsection-34" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaaa953f9a4aee683d7ce1f888a3d48ed4_cgraph.svg" width="474" height="323"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gad80ead47161995f955c843847d93627a" name="gad80ead47161995f955c843847d93627a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad80ead47161995f955c843847d93627a">&#9670;&#160;</a></span>parse_unstailq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unstailq </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse an unlist command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unalternative_order { * | [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ] }</code></li>
<li><code>unauto_view { * | [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ] }</code></li>
<li><code>unhdr_order { * | &lt;header&gt; ... }</code></li>
<li><code>unmailto_allow { * | &lt;header-field&gt; ... }</code></li>
<li><code>unmime_lookup { * | [ &lt;mime-type&gt;[/&lt;mime-subtype&gt; ] ... ] }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="stailq_8c_source.html#l00085">85</a> of file <a class="el" href="stailq_8c_source.html">stailq.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{</div>
<div class="line"><span class="lineno">   88</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   89</span>  {</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   92</span>  }</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   97</span>  {</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   99</span>    <span class="comment">/* Check for deletion of entire list */</span></div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">  101</span>    {</div>
<div class="line"><span class="lineno">  102</span>      <a class="code hl_function" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>((<span class="keyword">struct</span> ListHead *) cmd-&gt;<a class="code hl_variable" href="structCommand.html#aa5fe18d852766cc28e9641ff4d0e3b6f">data</a>);</div>
<div class="line"><span class="lineno">  103</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_function" href="muttlib_8c.html#a1b422ce225f4eb96e3ce8e276467ae9f">remove_from_stailq</a>((<span class="keyword">struct</span> ListHead *) cmd-&gt;<a class="code hl_variable" href="structCommand.html#aa5fe18d852766cc28e9641ff4d0e3b6f">data</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  106</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  110</span>}</div>
</div><!-- fragment --><div id="dynsection-35" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gad80ead47161995f955c843847d93627a_cgraph.svg" width="490" height="406"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gafbf6ee74716c63dba6361734793b4216" name="gafbf6ee74716c63dba6361734793b4216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbf6ee74716c63dba6361734793b4216">&#9670;&#160;</a></span>parse_subjectrx_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_subjectrx_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'subjectrx' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>subjectrx &lt;regex&gt; &lt;replacement&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="subjectrx_8c_source.html#l00192">192</a> of file <a class="el" href="subjectrx_8c_source.html">subjectrx.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  194</span>{</div>
<div class="line"><span class="lineno">  195</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  196</span>  {</div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  199</span>  }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>  rc = <a class="code hl_function" href="subjectrx_8c.html#a3968d95bc498eac92ff9338fceb20475">parse_replace_list</a>(cmd, line, &amp;<a class="code hl_variable" href="subjectrx_8c.html#ac5ee57652ba13d90bddb8417180cebbf">SubjectRegexList</a>, err);</div>
<div class="line"><span class="lineno">  204</span>  <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  205</span>  {</div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_SUBJRX_ADD: %s\n&quot;</span>, cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_variable" href="subjectrx_8c.html#a72343b47d0523ff9eab70a56a067302d">SubjRxNotify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ade428b222669b3e9a9c344f7cdb9d3ba">NT_SUBJRX</a>, <a class="code hl_enumvalue" href="subjectrx_8h.html#a087faf9e4ba38d97770e69333a4ce6c8aaa379e5d3478324b0eabaf5f2e17f35e">NT_SUBJRX_ADD</a>, NULL);</div>
<div class="line"><span class="lineno">  208</span>  }</div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  210</span>}</div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8ade428b222669b3e9a9c344f7cdb9d3ba"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ade428b222669b3e9a9c344f7cdb9d3ba">NT_SUBJRX</a></div><div class="ttdeci">@ NT_SUBJRX</div><div class="ttdoc">Subject Regex has changed, NotifySubjRx.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00055">notify_type.h:55</a></div></div>
<div class="ttc" id="asubjectrx_8c_html_a3968d95bc498eac92ff9338fceb20475"><div class="ttname"><a href="subjectrx_8c.html#a3968d95bc498eac92ff9338fceb20475">parse_replace_list</a></div><div class="ttdeci">static enum CommandResult parse_replace_list(const struct Command *cmd, struct Buffer *line, struct ReplaceList *list, struct Buffer *err)</div><div class="ttdoc">Parse a string replacement rule.</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8c_source.html#l00107">subjectrx.c:107</a></div></div>
<div class="ttc" id="asubjectrx_8c_html_a72343b47d0523ff9eab70a56a067302d"><div class="ttname"><a href="subjectrx_8c.html#a72343b47d0523ff9eab70a56a067302d">SubjRxNotify</a></div><div class="ttdeci">static struct Notify * SubjRxNotify</div><div class="ttdoc">Notifications: NotifySubjRx.</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8c_source.html#l00040">subjectrx.c:40</a></div></div>
<div class="ttc" id="asubjectrx_8c_html_ac5ee57652ba13d90bddb8417180cebbf"><div class="ttname"><a href="subjectrx_8c.html#ac5ee57652ba13d90bddb8417180cebbf">SubjectRegexList</a></div><div class="ttdeci">static struct ReplaceList SubjectRegexList</div><div class="ttdoc">List of subjectrx rules for modifying the Subject:</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8c_source.html#l00039">subjectrx.c:39</a></div></div>
<div class="ttc" id="asubjectrx_8h_html_a087faf9e4ba38d97770e69333a4ce6c8aaa379e5d3478324b0eabaf5f2e17f35e"><div class="ttname"><a href="subjectrx_8h.html#a087faf9e4ba38d97770e69333a4ce6c8aaa379e5d3478324b0eabaf5f2e17f35e">NT_SUBJRX_ADD</a></div><div class="ttdeci">@ NT_SUBJRX_ADD</div><div class="ttdoc">Subject Regex has been added.</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8h_source.html#l00042">subjectrx.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-36" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gafbf6ee74716c63dba6361734793b4216_cgraph.svg" width="463" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga377505573b8064b0859282f6eb752586" name="ga377505573b8064b0859282f6eb752586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga377505573b8064b0859282f6eb752586">&#9670;&#160;</a></span>parse_unsubjectrx_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unsubjectrx_list </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unsubjectrx' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unsubjectrx { * | &lt;regex&gt; }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="subjectrx_8c_source.html#l00218">218</a> of file <a class="el" href="subjectrx_8c_source.html">subjectrx.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>{</div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  222</span>  {</div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  225</span>  }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc;</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  rc = <a class="code hl_function" href="subjectrx_8c.html#a6e57aee3b100c26bc1cf16ecf7b74b54">parse_unreplace_list</a>(cmd, line, &amp;<a class="code hl_variable" href="subjectrx_8c.html#ac5ee57652ba13d90bddb8417180cebbf">SubjectRegexList</a>, err);</div>
<div class="line"><span class="lineno">  230</span>  <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  231</span>  {</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_SUBJRX_DELETE: %s\n&quot;</span>, cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_variable" href="subjectrx_8c.html#a72343b47d0523ff9eab70a56a067302d">SubjRxNotify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8ade428b222669b3e9a9c344f7cdb9d3ba">NT_SUBJRX</a>, <a class="code hl_enumvalue" href="subjectrx_8h.html#a087faf9e4ba38d97770e69333a4ce6c8a9cdf32d10084644e1b54d899997f3e76">NT_SUBJRX_DELETE</a>, NULL);</div>
<div class="line"><span class="lineno">  234</span>  }</div>
<div class="line"><span class="lineno">  235</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  236</span>}</div>
<div class="ttc" id="asubjectrx_8c_html_a6e57aee3b100c26bc1cf16ecf7b74b54"><div class="ttname"><a href="subjectrx_8c.html#a6e57aee3b100c26bc1cf16ecf7b74b54">parse_unreplace_list</a></div><div class="ttdeci">static enum CommandResult parse_unreplace_list(const struct Command *cmd, struct Buffer *line, struct ReplaceList *list, struct Buffer *err)</div><div class="ttdoc">Remove a string replacement rule.</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8c_source.html#l00071">subjectrx.c:71</a></div></div>
<div class="ttc" id="asubjectrx_8h_html_a087faf9e4ba38d97770e69333a4ce6c8a9cdf32d10084644e1b54d899997f3e76"><div class="ttname"><a href="subjectrx_8h.html#a087faf9e4ba38d97770e69333a4ce6c8a9cdf32d10084644e1b54d899997f3e76">NT_SUBJRX_DELETE</a></div><div class="ttdeci">@ NT_SUBJRX_DELETE</div><div class="ttdoc">Subject Regex has been deleted.</div><div class="ttdef"><b>Definition</b> <a href="subjectrx_8h_source.html#l00043">subjectrx.h:43</a></div></div>
</div><!-- fragment --><div id="dynsection-37" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga377505573b8064b0859282f6eb752586_cgraph.svg" width="495" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga18fcc0ac5a07bdc1984530da10ee94a0" name="ga18fcc0ac5a07bdc1984530da10ee94a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18fcc0ac5a07bdc1984530da10ee94a0">&#9670;&#160;</a></span>parse_tag_formats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_tag_formats </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'tag-formats' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse config like: <code>tag-formats pgp GP</code></p>
<dl class="section note"><dt>Note</dt><dd>This maps format -&gt; tag</dd></dl>
<p>Parse:</p><ul>
<li><code>tag-formats &lt;tag&gt; &lt;format-string&gt; { tag format-string ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2tags_8c_source.html#l00054">54</a> of file <a class="el" href="commands_2tags_8c_source.html">tags.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   58</span>  {</div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   61</span>  }</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tag = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   64</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *fmt = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   67</span>  {</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(tag, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(tag))</div>
<div class="line"><span class="lineno">   70</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(fmt, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/* avoid duplicates */</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *tmp = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="email_2tags_8c.html#a7aff994ecdbb3ec877067e5885388102">TagFormats</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(fmt));</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (tmp)</div>
<div class="line"><span class="lineno">   77</span>    {</div>
<div class="line"><span class="lineno">   78</span>      <a class="code hl_define" href="group__logging__api.html#ga377d6ae04687e3cac3da87e05bc7de5d">mutt_warning</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;tag format &#39;%s&#39; already registered as &#39;%s&#39;&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(fmt), tmp);</div>
<div class="line"><span class="lineno">   79</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(<a class="code hl_variable" href="email_2tags_8c.html#a7aff994ecdbb3ec877067e5885388102">TagFormats</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(fmt), <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(tag));</div>
<div class="line"><span class="lineno">   83</span>  }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tag);</div>
<div class="line"><span class="lineno">   86</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;fmt);</div>
<div class="line"><span class="lineno">   87</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="abuffer_8c_html_ad76477cc0c660bc50162393e997233eb"><div class="ttname"><a href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a></div><div class="ttdeci">char * buf_strdup(const struct Buffer *buf)</div><div class="ttdoc">Copy a Buffer&#39;s string.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00571">buffer.c:571</a></div></div>
<div class="ttc" id="aemail_2tags_8c_html_a7aff994ecdbb3ec877067e5885388102"><div class="ttname"><a href="email_2tags_8c.html#a7aff994ecdbb3ec877067e5885388102">TagFormats</a></div><div class="ttdeci">struct HashTable * TagFormats</div><div class="ttdoc">Hash Table: &quot;inbox&quot; -&gt; &quot;GI&quot; - Tag format strings.</div><div class="ttdef"><b>Definition</b> <a href="email_2tags_8c_source.html#l00042">tags.c:42</a></div></div>
<div class="ttc" id="agroup__logging__api_html_ga377d6ae04687e3cac3da87e05bc7de5d"><div class="ttname"><a href="group__logging__api.html#ga377d6ae04687e3cac3da87e05bc7de5d">mutt_warning</a></div><div class="ttdeci">#define mutt_warning(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00092">logging2.h:92</a></div></div>
<div class="ttc" id="ahash_8c_html_a10bd305a8183db9829caee9ea1bac2f5"><div class="ttname"><a href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a></div><div class="ttdeci">struct HashElem * mutt_hash_insert(struct HashTable *table, const char *strkey, void *data)</div><div class="ttdoc">Add a new element to the Hash Table (with string keys)</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00336">hash.c:336</a></div></div>
<div class="ttc" id="ahash_8c_html_a21cfc2c56db496fc57d3d85a71c03215"><div class="ttname"><a href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00363">hash.c:363</a></div></div>
</div><!-- fragment --><div id="dynsection-38" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga18fcc0ac5a07bdc1984530da10ee94a0_cgraph.svg" width="518" height="483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gae7a151568a2ed2a3509a2b86f9e8c2bd" name="gae7a151568a2ed2a3509a2b86f9e8c2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7a151568a2ed2a3509a2b86f9e8c2bd">&#9670;&#160;</a></span>parse_tag_transforms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_tag_transforms </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'tag-transforms' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse config like: <code>tag-transforms pgp P</code></p>
<dl class="section note"><dt>Note</dt><dd>This maps tag -&gt; transform</dd></dl>
<p>Parse:</p><ul>
<li><code>tag-transforms &lt;tag&gt; &lt;transformed-string&gt; { tag transformed-string ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="commands_2tags_8c_source.html#l00100">100</a> of file <a class="el" href="commands_2tags_8c_source.html">tags.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>{</div>
<div class="line"><span class="lineno">  103</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  104</span>  {</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  107</span>  }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tag = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  110</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *trans = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  113</span>  {</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(tag, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(tag))</div>
<div class="line"><span class="lineno">  116</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(trans, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  119</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *trn = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(trans);</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">/* avoid duplicates */</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *tmp = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="email_2tags_8c.html#aadb38a7004cb2dfa0550d53004eb74d1">TagTransforms</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tag));</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (tmp)</div>
<div class="line"><span class="lineno">  124</span>    {</div>
<div class="line"><span class="lineno">  125</span>      <a class="code hl_define" href="group__logging__api.html#ga377d6ae04687e3cac3da87e05bc7de5d">mutt_warning</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;tag transform &#39;%s&#39; already registered as &#39;%s&#39;&quot;</span>),</div>
<div class="line"><span class="lineno">  126</span>                   <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tag), tmp);</div>
<div class="line"><span class="lineno">  127</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(<a class="code hl_variable" href="email_2tags_8c.html#aadb38a7004cb2dfa0550d53004eb74d1">TagTransforms</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tag), <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(trn));</div>
<div class="line"><span class="lineno">  131</span>  }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tag);</div>
<div class="line"><span class="lineno">  134</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;trans);</div>
<div class="line"><span class="lineno">  135</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="aemail_2tags_8c_html_aadb38a7004cb2dfa0550d53004eb74d1"><div class="ttname"><a href="email_2tags_8c.html#aadb38a7004cb2dfa0550d53004eb74d1">TagTransforms</a></div><div class="ttdeci">struct HashTable * TagTransforms</div><div class="ttdoc">Hash Table: &quot;inbox&quot; -&gt; &quot;i&quot; - Alternative tag names.</div><div class="ttdef"><b>Definition</b> <a href="email_2tags_8c_source.html#l00041">tags.c:41</a></div></div>
</div><!-- fragment --><div id="dynsection-39" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gae7a151568a2ed2a3509a2b86f9e8c2bd_cgraph.svg" width="536" height="483"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga772ea55995b42cacf940af6684cb6c54" name="ga772ea55995b42cacf940af6684cb6c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga772ea55995b42cacf940af6684cb6c54">&#9670;&#160;</a></span>parse_hooks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hooks </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'hooks' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>hooks</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2dump_8c_source.html#l00224">224</a> of file <a class="el" href="hooks_2dump_8c_source.html">dump.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  226</span>{</div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  228</span>  {</div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  231</span>  }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a>)</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="queue_8h.html#ac3c9da7ac712eacbbad5cc54d7a3477e">TAILQ_EMPTY</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>))</div>
<div class="line"><span class="lineno">  237</span>  {</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: No Hooks are configured&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  240</span>  }</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  243</span>  <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>  FILE *fp = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>  <span class="keywordflow">if</span> (!fp)</div>
<div class="line"><span class="lineno">  247</span>  {</div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not create temporary file %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile));</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  251</span>  }</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *buf = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>  <a class="code hl_function" href="hooks_2dump_8c.html#adf8cbcc3af4a8c2af9210a528a782cc1">hooks_dump_simple</a>(buf);</div>
<div class="line"><span class="lineno">  256</span>  <a class="code hl_function" href="hooks_2dump_8c.html#aa7dc362731302b399a755129b27a8e62">hooks_dump_index</a>(buf);</div>
<div class="line"><span class="lineno">  257</span>  <a class="code hl_function" href="hooks_2dump_8c.html#a035a2622820cbf93bdf2bd1cf47737f1">hooks_dump_charset</a>(buf);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  <a class="code hl_function" href="file_8c.html#af27dd517394cd25f1cb021c7a3629a74">mutt_file_save_str</a>(fp, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(buf));</div>
<div class="line"><span class="lineno">  260</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno">  261</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;buf);</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerData.html">PagerData</a> pdata = { 0 };</div>
<div class="line"><span class="lineno">  264</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerView.html">PagerView</a> pview = { &amp;<a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a> };</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a>.<a class="code hl_variable" href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">fname</a> = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile);</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>  pview.<a class="code hl_variable" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a> = <span class="stringliteral">&quot;hooks&quot;</span>;</div>
<div class="line"><span class="lineno">  269</span>  pview.<a class="code hl_variable" href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">flags</a> = <a class="code hl_define" href="pager_2lib_8h.html#a0a536da5cd7ad9b881a8079052853818">MUTT_PAGER_NO_FLAGS</a>;</div>
<div class="line"><span class="lineno">  270</span>  pview.<a class="code hl_variable" href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">mode</a> = <a class="code hl_enumvalue" href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161">PAGER_MODE_OTHER</a>;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>  <a class="code hl_function" href="do__pager_8c.html#a9d3af21b7fdf24249c261a9a1aa9f3be">mutt_do_pager</a>(&amp;pview, NULL);</div>
<div class="line"><span class="lineno">  273</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno">  274</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  275</span>}</div>
<div class="ttc" id="afile_8c_html_af27dd517394cd25f1cb021c7a3629a74"><div class="ttname"><a href="file_8c.html#af27dd517394cd25f1cb021c7a3629a74">mutt_file_save_str</a></div><div class="ttdeci">size_t mutt_file_save_str(FILE *fp, const char *str)</div><div class="ttdoc">Save a string to a file.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01573">file.c:1573</a></div></div>
<div class="ttc" id="ahooks_2dump_8c_html_a035a2622820cbf93bdf2bd1cf47737f1"><div class="ttname"><a href="hooks_2dump_8c.html#a035a2622820cbf93bdf2bd1cf47737f1">hooks_dump_charset</a></div><div class="ttdeci">static void hooks_dump_charset(struct Buffer *buf)</div><div class="ttdoc">Dump the Charset Hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2dump_8c_source.html#l00173">dump.c:173</a></div></div>
<div class="ttc" id="ahooks_2dump_8c_html_aa7dc362731302b399a755129b27a8e62"><div class="ttname"><a href="hooks_2dump_8c.html#aa7dc362731302b399a755129b27a8e62">hooks_dump_index</a></div><div class="ttdeci">static void hooks_dump_index(struct Buffer *buf)</div><div class="ttdoc">Dump the Index Format Hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2dump_8c_source.html#l00134">dump.c:134</a></div></div>
<div class="ttc" id="ahooks_2dump_8c_html_adf8cbcc3af4a8c2af9210a528a782cc1"><div class="ttname"><a href="hooks_2dump_8c.html#adf8cbcc3af4a8c2af9210a528a782cc1">hooks_dump_simple</a></div><div class="ttdeci">static void hooks_dump_simple(struct Buffer *buf)</div><div class="ttdoc">Dump the simple Hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2dump_8c_source.html#l00094">dump.c:94</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a972b6dffb799adc5f7e8d91438317d64"><div class="ttname"><a href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a></div><div class="ttdeci">struct HookList Hooks</div><div class="ttdoc">All simple hooks, e.g. CMD_FOLDER_HOOK.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l00049">parse.c:49</a></div></div>
</div><!-- fragment --><div id="dynsection-40" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga772ea55995b42cacf940af6684cb6c54_cgraph.svg" width="486" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga93ab7ffcbd7129004f56f309adf129a5" name="ga93ab7ffcbd7129004f56f309adf129a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93ab7ffcbd7129004f56f309adf129a5">&#9670;&#160;</a></span>parse_hook_charset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_charset </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse charset <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>charset-hook &lt;alias&gt; &lt;charset&gt;</code></li>
<li><code>iconv-hook &lt;charset&gt; &lt;local-charset&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00064">64</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{</div>
<div class="line"><span class="lineno">   67</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   68</span>  {</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *alias = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   74</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *charset = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   75</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(alias, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>) &lt; 0)</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(charset, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>) &lt; 0)</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>  <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4a">LookupType</a> type = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1388bde1b9daabe9d15dbdb34fe50540">CMD_ICONV_HOOK</a>) ? <a class="code hl_enumvalue" href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4aadb54e12de4bd2494e86573e4728b4956">MUTT_LOOKUP_ICONV</a> :</div>
<div class="line"><span class="lineno">   83</span>                                                             <a class="code hl_enumvalue" href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4aaf70d36a04a9e6e5ecd554392626886d4">MUTT_LOOKUP_CHARSET</a>;</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(alias) || <a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(charset))</div>
<div class="line"><span class="lineno">   86</span>  {</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   88</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   89</span>  }</div>
<div class="line"><span class="lineno">   90</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   91</span>  {</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(line); <span class="comment">// clean up buffer to avoid a mess with further rcfile processing</span></div>
<div class="line"><span class="lineno">   94</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   95</span>  }</div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2charset_8c.html#a495d768c7996bc40c64980efbbb191c8">mutt_ch_lookup_add</a>(type, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(alias), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(charset), err))</div>
<div class="line"><span class="lineno">   97</span>  {</div>
<div class="line"><span class="lineno">   98</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   99</span>  }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>done:</div>
<div class="line"><span class="lineno">  102</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;alias);</div>
<div class="line"><span class="lineno">  103</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;charset);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  106</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa1388bde1b9daabe9d15dbdb34fe50540"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1388bde1b9daabe9d15dbdb34fe50540">CMD_ICONV_HOOK</a></div><div class="ttdeci">@ CMD_ICONV_HOOK</div><div class="ttdoc">:iconv-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00080">command.h:80</a></div></div>
<div class="ttc" id="amutt_2charset_8c_html_a495d768c7996bc40c64980efbbb191c8"><div class="ttname"><a href="mutt_2charset_8c.html#a495d768c7996bc40c64980efbbb191c8">mutt_ch_lookup_add</a></div><div class="ttdeci">bool mutt_ch_lookup_add(enum LookupType type, const char *pat, const char *replace, struct Buffer *err)</div><div class="ttdoc">Add a new character set lookup.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2charset_8c_source.html#l00495">charset.c:495</a></div></div>
<div class="ttc" id="amutt_2charset_8h_html_a677743e89f8cc2c57a0e6e91a47bdc4a"><div class="ttname"><a href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4a">LookupType</a></div><div class="ttdeci">LookupType</div><div class="ttdoc">Types of character set lookups.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2charset_8h_source.html#l00060">charset.h:61</a></div></div>
<div class="ttc" id="amutt_2charset_8h_html_a677743e89f8cc2c57a0e6e91a47bdc4aadb54e12de4bd2494e86573e4728b4956"><div class="ttname"><a href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4aadb54e12de4bd2494e86573e4728b4956">MUTT_LOOKUP_ICONV</a></div><div class="ttdeci">@ MUTT_LOOKUP_ICONV</div><div class="ttdoc">Character set conversion.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2charset_8h_source.html#l00063">charset.h:63</a></div></div>
<div class="ttc" id="amutt_2charset_8h_html_a677743e89f8cc2c57a0e6e91a47bdc4aaf70d36a04a9e6e5ecd554392626886d4"><div class="ttname"><a href="mutt_2charset_8h.html#a677743e89f8cc2c57a0e6e91a47bdc4aaf70d36a04a9e6e5ecd554392626886d4">MUTT_LOOKUP_CHARSET</a></div><div class="ttdeci">@ MUTT_LOOKUP_CHARSET</div><div class="ttdoc">Alias for another character set.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2charset_8h_source.html#l00062">charset.h:62</a></div></div>
</div><!-- fragment --><div id="dynsection-41" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga93ab7ffcbd7129004f56f309adf129a5_cgraph.svg" width="655" height="427"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga7be990b45e51131eb11018c4f3549e0d" name="ga7be990b45e51131eb11018c4f3549e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7be990b45e51131eb11018c4f3549e0d">&#9670;&#160;</a></span>parse_hook_global()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_global </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse global <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>shutdown-hook &lt;command&gt;</code></li>
<li><code>startup-hook &lt;command&gt;</code></li>
<li><code>timeout-hook &lt;command&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00116">116</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{</div>
<div class="line"><span class="lineno">  119</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  120</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// TOKEN_SPACE allows the command to contain whitespace, without quoting</span></div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  128</span>  {</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  130</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  132</span>  }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  135</span>  {</div>
<div class="line"><span class="lineno">  136</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  137</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  139</span>  }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>  <span class="comment">/* check to make sure that a matching Hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  142</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  143</span>  {</div>
<div class="line"><span class="lineno">  144</span>    <span class="comment">/* Ignore duplicate global Hooks */</span></div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command)))</div>
<div class="line"><span class="lineno">  146</span>    {</div>
<div class="line"><span class="lineno">  147</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  148</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  149</span>    }</div>
<div class="line"><span class="lineno">  150</span>  }</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  153</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  154</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  155</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  156</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  157</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  158</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = NULL;</div>
<div class="line"><span class="lineno">  159</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  160</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  163</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>cleanup:</div>
<div class="line"><span class="lineno">  166</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  167</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  168</span>}</div>
<div class="ttc" id="ahook_8c_html_a56a2eaebdff2ef8176e66bbdc1ac74d7"><div class="ttname"><a href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a></div><div class="ttdeci">struct Hook * hook_new(void)</div><div class="ttdoc">Create a Hook.</div><div class="ttdef"><b>Definition</b> <a href="hook_8c_source.html#l00071">hook.c:71</a></div></div>
<div class="ttc" id="asource_8c_html_aef2d030e6e9498e89343f12c2fa918b8"><div class="ttname"><a href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a></div><div class="ttdeci">char * mutt_get_sourced_cwd(void)</div><div class="ttdoc">Get the current file path that is being parsed.</div><div class="ttdef"><b>Definition</b> <a href="source_8c_source.html#l00292">source.c:292</a></div></div>
<div class="ttc" id="astructHook_html"><div class="ttname"><a href="structHook.html">Hook</a></div><div class="ttdoc">A list of user hooks.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00033">hook.h:34</a></div></div>
<div class="ttc" id="astructHook_html_a1c1956f17958dd3142d9cb2c171fb035"><div class="ttname"><a href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">Hook::pattern</a></div><div class="ttdeci">struct PatternList * pattern</div><div class="ttdoc">Used for fcc,save,send-hook.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00039">hook.h:39</a></div></div>
<div class="ttc" id="astructHook_html_a1c6336f4645125bf795ad741e925bd86"><div class="ttname"><a href="structHook.html#a1c6336f4645125bf795ad741e925bd86">Hook::regex</a></div><div class="ttdeci">struct Regex regex</div><div class="ttdoc">Regular expression.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00036">hook.h:36</a></div></div>
<div class="ttc" id="astructHook_html_aa4ee5764f7c353182f66e90520a77420"><div class="ttname"><a href="structHook.html#aa4ee5764f7c353182f66e90520a77420">Hook::command</a></div><div class="ttdeci">char * command</div><div class="ttdoc">Filename, command or pattern to execute.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00037">hook.h:37</a></div></div>
<div class="ttc" id="astructHook_html_ac53e0f153a033bf8dba3f71d0a200647"><div class="ttname"><a href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">Hook::expando</a></div><div class="ttdeci">struct Expando * expando</div><div class="ttdoc">Used for format hooks.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00040">hook.h:40</a></div></div>
<div class="ttc" id="astructHook_html_ac8569451e3f3cdfc4b5fde7ddd5b0846"><div class="ttname"><a href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">Hook::id</a></div><div class="ttdeci">enum CommandId id</div><div class="ttdoc">Hook CommandId, e.g. CMD_FOLDER_HOOK.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00035">hook.h:35</a></div></div>
<div class="ttc" id="astructHook_html_ae2de65a4826224a0380d0d78f30cb20b"><div class="ttname"><a href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">Hook::source_file</a></div><div class="ttdeci">char * source_file</div><div class="ttdoc">Used for relative-directory source.</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00038">hook.h:38</a></div></div>
<div class="ttc" id="astructRegex_html_a91a347ac006d49f161382d291f0edd99"><div class="ttname"><a href="structRegex.html#a91a347ac006d49f161382d291f0edd99">Regex::pattern</a></div><div class="ttdeci">char * pattern</div><div class="ttdoc">printable version</div><div class="ttdef"><b>Definition</b> <a href="regex3_8h_source.html#l00087">regex3.h:87</a></div></div>
<div class="ttc" id="astructRegex_html_adf40b2d25dabe5abb853946f35fe7c44"><div class="ttname"><a href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">Regex::pat_not</a></div><div class="ttdeci">bool pat_not</div><div class="ttdoc">do not match</div><div class="ttdef"><b>Definition</b> <a href="regex3_8h_source.html#l00089">regex3.h:89</a></div></div>
<div class="ttc" id="astructRegex_html_af9ccc25da6324c9055e53966abe9a7b3"><div class="ttname"><a href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">Regex::regex</a></div><div class="ttdeci">regex_t * regex</div><div class="ttdoc">compiled expression</div><div class="ttdef"><b>Definition</b> <a href="regex3_8h_source.html#l00088">regex3.h:88</a></div></div>
</div><!-- fragment --><div id="dynsection-42" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga7be990b45e51131eb11018c4f3549e0d_cgraph.svg" width="534" height="519"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga3da28e60a0288519fb3567b69c95a764" name="ga3da28e60a0288519fb3567b69c95a764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3da28e60a0288519fb3567b69c95a764">&#9670;&#160;</a></span>parse_hook_pattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_pattern </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse pattern-based <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>message-hook &lt;pattern&gt; &lt;command&gt;</code></li>
<li><code>reply-hook &lt;pattern&gt; &lt;command&gt;</code></li>
<li><code>send-hook &lt;pattern&gt; &lt;command&gt;</code></li>
<li><code>send2-hook &lt;pattern&gt; &lt;command&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00179">179</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{</div>
<div class="line"><span class="lineno">  182</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  183</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  184</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  185</span>  <span class="keyword">struct </span>PatternList *pat = NULL;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  188</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *pattern = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  191</span>  {</div>
<div class="line"><span class="lineno">  192</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  193</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  194</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  195</span>  }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(pattern, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  202</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  204</span>  }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>  <span class="comment">// TOKEN_SPACE allows the command to contain whitespace, without quoting</span></div>
<div class="line"><span class="lineno">  207</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  210</span>  {</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  212</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  214</span>  }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  217</span>  {</div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  219</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  221</span>  }</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_default_hook = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;default_hook&quot;</span>);</div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span> (c_default_hook)</div>
<div class="line"><span class="lineno">  225</span>  {</div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_function" href="pattern_2lib_8h.html#a6cee22aa2e3cb0c24cbbcdcc175d7ac6">mutt_check_simple</a>(pattern, c_default_hook);</div>
<div class="line"><span class="lineno">  227</span>  }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  230</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  231</span>  {</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(pattern), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  234</span>    {</div>
<div class="line"><span class="lineno">  235</span>      <span class="comment">/* these hooks allow multiple commands with the same pattern,</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment">       * so if we&#39;ve already seen this pattern/command pair,</span></div>
<div class="line"><span class="lineno">  237</span><span class="comment">       * just ignore it instead of creating a duplicate */</span></div>
<div class="line"><span class="lineno">  238</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command)))</div>
<div class="line"><span class="lineno">  239</span>      {</div>
<div class="line"><span class="lineno">  240</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  242</span>      }</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span>  }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>  <a class="code hl_typedef" href="pattern_2lib_8h.html#a1d78529336f13dffb6168735b63f0384">PatternCompFlags</a> comp_flags;</div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordflow">if</span> (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa5a9d4edd51e19a12612fad9f7b9fcfcb">CMD_SEND2_HOOK</a>)</div>
<div class="line"><span class="lineno">  248</span>    comp_flags = <a class="code hl_define" href="pattern_2lib_8h.html#a19e1fc1179278ed2bfa410eed8be237b">MUTT_PC_SEND_MODE_SEARCH</a>;</div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa0bddb74d77fbd3c5117a1f200c65e926">CMD_SEND_HOOK</a>)</div>
<div class="line"><span class="lineno">  250</span>    comp_flags = <a class="code hl_define" href="pattern_2lib_8h.html#a80fbfd937c06de3e40a261d2a2bc3c90">MUTT_PC_NO_FLAGS</a>;</div>
<div class="line"><span class="lineno">  251</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  252</span>    comp_flags = <a class="code hl_define" href="pattern_2lib_8h.html#a258bbc9499cea3d5d1c3c0454ee8b31a">MUTT_PC_FULL_MSG</a>;</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMailboxView.html">MailboxView</a> *mv_cur = <a class="code hl_function" href="index_8c.html#a5915d8b932eb86633f1d7d65a8c83289">get_current_mailbox_view</a>();</div>
<div class="line"><span class="lineno">  255</span>  pat = <a class="code hl_function" href="compile_8c.html#a43039fbeb001087dad2a07081ca9526e">mutt_pattern_comp</a>(mv_cur, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(<a class="code hl_variable" href="structMailboxView.html#af8fca3e8597f3f4fd45d49666e2772d3">pattern</a>), comp_flags, err);</div>
<div class="line"><span class="lineno">  256</span>  <span class="keywordflow">if</span> (!pat)</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  260</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  261</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  262</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  263</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = pat;</div>
<div class="line"><span class="lineno">  264</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(<a class="code hl_variable" href="structMailboxView.html#af8fca3e8597f3f4fd45d49666e2772d3">pattern</a>);</div>
<div class="line"><span class="lineno">  265</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = NULL;</div>
<div class="line"><span class="lineno">  266</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  267</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  270</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>cleanup:</div>
<div class="line"><span class="lineno">  273</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  274</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;<a class="code hl_variable" href="structMailboxView.html#af8fca3e8597f3f4fd45d49666e2772d3">pattern</a>);</div>
<div class="line"><span class="lineno">  275</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  276</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa0bddb74d77fbd3c5117a1f200c65e926"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa0bddb74d77fbd3c5117a1f200c65e926">CMD_SEND_HOOK</a></div><div class="ttdeci">@ CMD_SEND_HOOK</div><div class="ttdoc">:send-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00105">command.h:105</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa5a9d4edd51e19a12612fad9f7b9fcfcb"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa5a9d4edd51e19a12612fad9f7b9fcfcb">CMD_SEND2_HOOK</a></div><div class="ttdeci">@ CMD_SEND2_HOOK</div><div class="ttdoc">:send2-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00104">command.h:104</a></div></div>
<div class="ttc" id="acompile_8c_html_a43039fbeb001087dad2a07081ca9526e"><div class="ttname"><a href="compile_8c.html#a43039fbeb001087dad2a07081ca9526e">mutt_pattern_comp</a></div><div class="ttdeci">struct PatternList * mutt_pattern_comp(struct MailboxView *mv, const char *s, PatternCompFlags flags, struct Buffer *err)</div><div class="ttdoc">Create a Pattern.</div><div class="ttdef"><b>Definition</b> <a href="compile_8c_source.html#l00903">compile.c:903</a></div></div>
<div class="ttc" id="aindex_8c_html_a5915d8b932eb86633f1d7d65a8c83289"><div class="ttname"><a href="index_8c.html#a5915d8b932eb86633f1d7d65a8c83289">get_current_mailbox_view</a></div><div class="ttdeci">struct MailboxView * get_current_mailbox_view(void)</div><div class="ttdoc">Get the current Mailbox view.</div><div class="ttdef"><b>Definition</b> <a href="index_8c_source.html#l00689">index.c:689</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_a19e1fc1179278ed2bfa410eed8be237b"><div class="ttname"><a href="pattern_2lib_8h.html#a19e1fc1179278ed2bfa410eed8be237b">MUTT_PC_SEND_MODE_SEARCH</a></div><div class="ttdeci">#define MUTT_PC_SEND_MODE_SEARCH</div><div class="ttdoc">Allow send-mode body searching.</div><div class="ttdef"><b>Definition</b> <a href="pattern_2lib_8h_source.html#l00071">lib.h:71</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_a1d78529336f13dffb6168735b63f0384"><div class="ttname"><a href="pattern_2lib_8h.html#a1d78529336f13dffb6168735b63f0384">PatternCompFlags</a></div><div class="ttdeci">uint8_t PatternCompFlags</div><div class="ttdoc">Flags for mutt_pattern_comp(), e.g. MUTT_PC_FULL_MSG.</div><div class="ttdef"><b>Definition</b> <a href="pattern_2lib_8h_source.html#l00067">lib.h:67</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_a258bbc9499cea3d5d1c3c0454ee8b31a"><div class="ttname"><a href="pattern_2lib_8h.html#a258bbc9499cea3d5d1c3c0454ee8b31a">MUTT_PC_FULL_MSG</a></div><div class="ttdeci">#define MUTT_PC_FULL_MSG</div><div class="ttdoc">Enable body and header matching.</div><div class="ttdef"><b>Definition</b> <a href="pattern_2lib_8h_source.html#l00069">lib.h:69</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_a6cee22aa2e3cb0c24cbbcdcc175d7ac6"><div class="ttname"><a href="pattern_2lib_8h.html#a6cee22aa2e3cb0c24cbbcdcc175d7ac6">mutt_check_simple</a></div><div class="ttdeci">void mutt_check_simple(struct Buffer *s, const char *simple)</div><div class="ttdoc">Convert a simple search into a real request.</div><div class="ttdef"><b>Definition</b> <a href="pattern_8c_source.html#l00109">pattern.c:109</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_a80fbfd937c06de3e40a261d2a2bc3c90"><div class="ttname"><a href="pattern_2lib_8h.html#a80fbfd937c06de3e40a261d2a2bc3c90">MUTT_PC_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_PC_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition</b> <a href="pattern_2lib_8h_source.html#l00068">lib.h:68</a></div></div>
<div class="ttc" id="astructMailboxView_html"><div class="ttname"><a href="structMailboxView.html">MailboxView</a></div><div class="ttdoc">View of a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mview_8h_source.html#l00039">mview.h:40</a></div></div>
<div class="ttc" id="astructMailboxView_html_af8fca3e8597f3f4fd45d49666e2772d3"><div class="ttname"><a href="structMailboxView.html#af8fca3e8597f3f4fd45d49666e2772d3">MailboxView::pattern</a></div><div class="ttdeci">char * pattern</div><div class="ttdoc">Limit pattern string.</div><div class="ttdef"><b>Definition</b> <a href="mview_8h_source.html#l00042">mview.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-43" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga3da28e60a0288519fb3567b69c95a764_cgraph.svg" width="562" height="748"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga747ebcbb4b9075d36a63123ca72afdba" name="ga747ebcbb4b9075d36a63123ca72afdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga747ebcbb4b9075d36a63123ca72afdba">&#9670;&#160;</a></span>parse_hook_mailbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_mailbox </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse mailbox pattern hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>fcc-hook &lt;pattern&gt; &lt;mailbox&gt;</code></li>
<li><code>fcc-save-hook &lt;pattern&gt; &lt;mailbox&gt;</code></li>
<li><code>save-hook &lt;pattern&gt; &lt;mailbox&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00347">347</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  349</span>{</div>
<div class="line"><span class="lineno">  350</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  351</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *pattern = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  354</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *mailbox = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  357</span>  {</div>
<div class="line"><span class="lineno">  358</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  359</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  360</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  361</span>  }</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(pattern, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  366</span>  {</div>
<div class="line"><span class="lineno">  367</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  368</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  370</span>  }</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(mailbox, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(mailbox))</div>
<div class="line"><span class="lineno">  375</span>  {</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  377</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  379</span>  }</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  382</span>  {</div>
<div class="line"><span class="lineno">  383</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  384</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  386</span>  }</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_default_hook = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;default_hook&quot;</span>);</div>
<div class="line"><span class="lineno">  389</span>  <span class="keywordflow">if</span> (c_default_hook)</div>
<div class="line"><span class="lineno">  390</span>  {</div>
<div class="line"><span class="lineno">  391</span>    <a class="code hl_function" href="pattern_2lib_8h.html#a6cee22aa2e3cb0c24cbbcdcc175d7ac6">mutt_check_simple</a>(pattern, c_default_hook);</div>
<div class="line"><span class="lineno">  392</span>  }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>  <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(mailbox);</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>  <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa48a814ab790724b70285f2f484b3581f">CMD_FCC_HOOK</a>) || (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa11ba0ccbb96aabcce11d164e6d9ca6ef">CMD_FCC_SAVE_HOOK</a>))</div>
<div class="line"><span class="lineno">  397</span>  {</div>
<div class="line"><span class="lineno">  398</span>    rc = <a class="code hl_function" href="hooks_2parse_8c.html#a88c7b75470d318e7db183f48bbe89629">add_mailbox_hook</a>(<a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa48a814ab790724b70285f2f484b3581f">CMD_FCC_HOOK</a>, mailbox, pattern, pat_not, err);</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  400</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  401</span>  }</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">if</span> ((cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa9ed8999d92e4eef1e1fbe869238449c9">CMD_SAVE_HOOK</a>) || (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa11ba0ccbb96aabcce11d164e6d9ca6ef">CMD_FCC_SAVE_HOOK</a>))</div>
<div class="line"><span class="lineno">  404</span>  {</div>
<div class="line"><span class="lineno">  405</span>    rc = <a class="code hl_function" href="hooks_2parse_8c.html#a88c7b75470d318e7db183f48bbe89629">add_mailbox_hook</a>(<a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa9ed8999d92e4eef1e1fbe869238449c9">CMD_SAVE_HOOK</a>, mailbox, pattern, pat_not, err);</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  407</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  408</span>  }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>cleanup:</div>
<div class="line"><span class="lineno">  413</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;pattern);</div>
<div class="line"><span class="lineno">  414</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;mailbox);</div>
<div class="line"><span class="lineno">  415</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  416</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa11ba0ccbb96aabcce11d164e6d9ca6ef"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa11ba0ccbb96aabcce11d164e6d9ca6ef">CMD_FCC_SAVE_HOOK</a></div><div class="ttdeci">@ CMD_FCC_SAVE_HOOK</div><div class="ttdoc">:fcc-save-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00074">command.h:74</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa48a814ab790724b70285f2f484b3581f"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa48a814ab790724b70285f2f484b3581f">CMD_FCC_HOOK</a></div><div class="ttdeci">@ CMD_FCC_HOOK</div><div class="ttdoc">:fcc-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00073">command.h:73</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa9ed8999d92e4eef1e1fbe869238449c9"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa9ed8999d92e4eef1e1fbe869238449c9">CMD_SAVE_HOOK</a></div><div class="ttdeci">@ CMD_SAVE_HOOK</div><div class="ttdoc">:save-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00102">command.h:102</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a88c7b75470d318e7db183f48bbe89629"><div class="ttname"><a href="hooks_2parse_8c.html#a88c7b75470d318e7db183f48bbe89629">add_mailbox_hook</a></div><div class="ttdeci">enum CommandResult add_mailbox_hook(enum CommandId id, struct Buffer *mailbox, struct Buffer *pattern, bool pat_not, struct Buffer *err)</div><div class="ttdoc">Add a Mailbox Hook.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l00287">parse.c:287</a></div></div>
</div><!-- fragment --><div id="dynsection-44" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga747ebcbb4b9075d36a63123ca72afdba_cgraph.svg" width="527" height="486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga3f43a059a463a96c142c8a0cf637c8a2" name="ga3f43a059a463a96c142c8a0cf637c8a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f43a059a463a96c142c8a0cf637c8a2">&#9670;&#160;</a></span>parse_hook_regex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_regex </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse regex-based hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>account-hook &lt;regex&gt; &lt;command&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00424">424</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  426</span>{</div>
<div class="line"><span class="lineno">  427</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  428</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  429</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  430</span>  regex_t *rx = NULL;</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *regex = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  433</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  436</span>  {</div>
<div class="line"><span class="lineno">  437</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  438</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  439</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  440</span>  }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  445</span>  {</div>
<div class="line"><span class="lineno">  446</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  447</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  449</span>  }</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  454</span>  {</div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  456</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  458</span>  }</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  461</span>  {</div>
<div class="line"><span class="lineno">  462</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  463</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  465</span>  }</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  468</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  469</span>  {</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  471</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span>      <span class="comment">// Ignore duplicate hooks</span></div>
<div class="line"><span class="lineno">  474</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command)))</div>
<div class="line"><span class="lineno">  475</span>      {</div>
<div class="line"><span class="lineno">  476</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  478</span>      }</div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="line"><span class="lineno">  480</span>  }</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>  <span class="comment">/* Hooks not allowing full patterns: Check syntax of regex */</span></div>
<div class="line"><span class="lineno">  483</span>  rx = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, regex_t);</div>
<div class="line"><span class="lineno">  484</span>  <span class="keywordtype">int</span> rc2 = <a class="code hl_define" href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a>(rx, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), 0);</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">if</span> (rc2 != 0)</div>
<div class="line"><span class="lineno">  486</span>  {</div>
<div class="line"><span class="lineno">  487</span>    regerror(rc2, rx, err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>);</div>
<div class="line"><span class="lineno">  488</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;rx);</div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  490</span>  }</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  493</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  494</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  495</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  496</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  497</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(regex);</div>
<div class="line"><span class="lineno">  498</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = rx;</div>
<div class="line"><span class="lineno">  499</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  500</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  503</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>cleanup:</div>
<div class="line"><span class="lineno">  506</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;regex);</div>
<div class="line"><span class="lineno">  507</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  508</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  509</span>}</div>
<div class="ttc" id="amemory_8h_html_a9aaf8f21a29735767a069ff1aee9d7d9"><div class="ttname"><a href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a></div><div class="ttdeci">#define MUTT_MEM_CALLOC(n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00048">memory.h:48</a></div></div>
<div class="ttc" id="aregex3_8h_html_a349838a3143be1dd9b0500bfbe54d48f"><div class="ttname"><a href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a></div><div class="ttdeci">#define REG_COMP(preg, regex, cflags)</div><div class="ttdoc">Compile a regular expression.</div><div class="ttdef"><b>Definition</b> <a href="regex3_8h_source.html#l00050">regex3.h:50</a></div></div>
<div class="ttc" id="astructBuffer_html_a1d9ee60bcf94de702b15ec2b5d811995"><div class="ttname"><a href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">Buffer::dsize</a></div><div class="ttdeci">size_t dsize</div><div class="ttdoc">Length of data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00039">buffer.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-45" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga3f43a059a463a96c142c8a0cf637c8a2_cgraph.svg" width="531" height="519"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga20b775e9396be58083a5d95866e6aff3" name="ga20b775e9396be58083a5d95866e6aff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20b775e9396be58083a5d95866e6aff3">&#9670;&#160;</a></span>parse_hook_folder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_folder </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse folder hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>folder-hook [ -noregex ] &lt;regex&gt; &lt;command&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00517">517</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{</div>
<div class="line"><span class="lineno">  520</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  521</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  522</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  523</span>  <span class="keywordtype">bool</span> use_regex = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  524</span>  regex_t *rx = NULL;</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *regex = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  527</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  530</span>  {</div>
<div class="line"><span class="lineno">  531</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  533</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  534</span>  }</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  537</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), <span class="stringliteral">&quot;-noregex&quot;</span>))</div>
<div class="line"><span class="lineno">  538</span>  {</div>
<div class="line"><span class="lineno">  539</span>    use_regex = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  541</span>    {</div>
<div class="line"><span class="lineno">  542</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  543</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  544</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="line"><span class="lineno">  546</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  547</span>  }</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  550</span>  {</div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  552</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  554</span>  }</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  559</span>  {</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  561</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  563</span>  }</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  566</span>  {</div>
<div class="line"><span class="lineno">  567</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  568</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  570</span>  }</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>  <span class="comment">/* Accidentally using the ^ mailbox shortcut in the .neomuttrc is a</span></div>
<div class="line"><span class="lineno">  573</span><span class="comment">   * common mistake */</span></div>
<div class="line"><span class="lineno">  574</span>  <span class="keywordflow">if</span> ((<a class="code hl_function" href="buffer_8c.html#a52e24da79941dc16d5577dac9dfc2698">buf_at</a>(regex, 0) == <span class="charliteral">&#39;^&#39;</span>) &amp;&amp; !<a class="code hl_variable" href="globals_8c.html#a972299f89841a17ed8c5e6e3f283660c">CurrentFolder</a>)</div>
<div class="line"><span class="lineno">  575</span>  {</div>
<div class="line"><span class="lineno">  576</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;current mailbox shortcut &#39;^&#39; is unset&quot;</span>));</div>
<div class="line"><span class="lineno">  577</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  578</span>  }</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tmp = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  581</span>  <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(tmp, regex);</div>
<div class="line"><span class="lineno">  582</span>  <a class="code hl_function" href="muttlib_8c.html#a3ffd45805a0aa4478b3f176602f3082f">buf_expand_path_regex</a>(tmp, use_regex);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>  <span class="comment">/* Check for other mailbox shortcuts that expand to the empty string.</span></div>
<div class="line"><span class="lineno">  585</span><span class="comment">   * This is likely a mistake too */</span></div>
<div class="line"><span class="lineno">  586</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(tmp) &amp;&amp; !<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(regex))</div>
<div class="line"><span class="lineno">  587</span>  {</div>
<div class="line"><span class="lineno">  588</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;mailbox shortcut expanded to empty regex&quot;</span>));</div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tmp);</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  591</span>  }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>  <span class="keywordflow">if</span> (use_regex)</div>
<div class="line"><span class="lineno">  594</span>  {</div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(regex, tmp);</div>
<div class="line"><span class="lineno">  596</span>  }</div>
<div class="line"><span class="lineno">  597</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  598</span>  {</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_function" href="file_8c.html#a3d65ddb42b63f7e5d0d965e8162b8d63">mutt_file_sanitize_regex</a>(regex, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tmp));</div>
<div class="line"><span class="lineno">  600</span>  }</div>
<div class="line"><span class="lineno">  601</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tmp);</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  604</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  605</span>  {</div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  607</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  608</span>    {</div>
<div class="line"><span class="lineno">  609</span>      <span class="comment">// Ignore duplicate hooks</span></div>
<div class="line"><span class="lineno">  610</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command)))</div>
<div class="line"><span class="lineno">  611</span>      {</div>
<div class="line"><span class="lineno">  612</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  613</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span>    }</div>
<div class="line"><span class="lineno">  616</span>  }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>  <span class="comment">/* Hooks not allowing full patterns: Check syntax of regex */</span></div>
<div class="line"><span class="lineno">  619</span>  rx = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, regex_t);</div>
<div class="line"><span class="lineno">  620</span>  <span class="keywordtype">int</span> rc2 = <a class="code hl_define" href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a>(rx, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), 0);</div>
<div class="line"><span class="lineno">  621</span>  <span class="keywordflow">if</span> (rc2 != 0)</div>
<div class="line"><span class="lineno">  622</span>  {</div>
<div class="line"><span class="lineno">  623</span>    regerror(rc2, rx, err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>);</div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;rx);</div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  626</span>  }</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  629</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  630</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  631</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  632</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  633</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(regex);</div>
<div class="line"><span class="lineno">  634</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = rx;</div>
<div class="line"><span class="lineno">  635</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  636</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  639</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>cleanup:</div>
<div class="line"><span class="lineno">  642</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;regex);</div>
<div class="line"><span class="lineno">  643</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  645</span>}</div>
<div class="ttc" id="afile_8c_html_a3d65ddb42b63f7e5d0d965e8162b8d63"><div class="ttname"><a href="file_8c.html#a3d65ddb42b63f7e5d0d965e8162b8d63">mutt_file_sanitize_regex</a></div><div class="ttdeci">int mutt_file_sanitize_regex(struct Buffer *dest, const char *src)</div><div class="ttdoc">Escape any regex-magic characters in a string.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00632">file.c:632</a></div></div>
<div class="ttc" id="aglobals_8c_html_a972299f89841a17ed8c5e6e3f283660c"><div class="ttname"><a href="globals_8c.html#a972299f89841a17ed8c5e6e3f283660c">CurrentFolder</a></div><div class="ttdeci">char * CurrentFolder</div><div class="ttdoc">Currently selected mailbox.</div><div class="ttdef"><b>Definition</b> <a href="globals_8c_source.html#l00039">globals.c:39</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a3ffd45805a0aa4478b3f176602f3082f"><div class="ttname"><a href="muttlib_8c.html#a3ffd45805a0aa4478b3f176602f3082f">buf_expand_path_regex</a></div><div class="ttdeci">void buf_expand_path_regex(struct Buffer *buf, bool regex)</div><div class="ttdoc">Create the canonical path (with regex char escaping)</div><div class="ttdef"><b>Definition</b> <a href="muttlib_8c_source.html#l00122">muttlib.c:122</a></div></div>
</div><!-- fragment --><div id="dynsection-46" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga20b775e9396be58083a5d95866e6aff3_cgraph.svg" width="542" height="775"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac54f67a6e9cd9ebd35b63596b854b239" name="gac54f67a6e9cd9ebd35b63596b854b239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac54f67a6e9cd9ebd35b63596b854b239">&#9670;&#160;</a></span>parse_hook_crypt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_crypt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse crypt hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>crypt-hook &lt;regex&gt; &lt;keyid&gt;</code></li>
<li><code>pgp-hook</code> is a deprecated synonym for <code>crypt-hook</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00654">654</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  656</span>{</div>
<div class="line"><span class="lineno">  657</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  658</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  659</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  660</span>  regex_t *rx = NULL;</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *regex = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  663</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *keyid = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  666</span>  {</div>
<div class="line"><span class="lineno">  667</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  668</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  669</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  670</span>  }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  675</span>  {</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  677</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  678</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  679</span>  }</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(keyid, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(keyid))</div>
<div class="line"><span class="lineno">  684</span>  {</div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  686</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  688</span>  }</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  691</span>  {</div>
<div class="line"><span class="lineno">  692</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  693</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  695</span>  }</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  698</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  699</span>  {</div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  701</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  702</span>    {</div>
<div class="line"><span class="lineno">  703</span>      <span class="comment">// Ignore duplicate hooks</span></div>
<div class="line"><span class="lineno">  704</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keyid)))</div>
<div class="line"><span class="lineno">  705</span>      {</div>
<div class="line"><span class="lineno">  706</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  708</span>      }</div>
<div class="line"><span class="lineno">  709</span>    }</div>
<div class="line"><span class="lineno">  710</span>  }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>  <span class="comment">/* Hooks not allowing full patterns: Check syntax of regex */</span></div>
<div class="line"><span class="lineno">  713</span>  rx = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, regex_t);</div>
<div class="line"><span class="lineno">  714</span>  <span class="keywordtype">int</span> rc2 = <a class="code hl_define" href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a>(rx, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), REG_ICASE);</div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordflow">if</span> (rc2 != 0)</div>
<div class="line"><span class="lineno">  716</span>  {</div>
<div class="line"><span class="lineno">  717</span>    regerror(rc2, rx, err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>);</div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;rx);</div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  720</span>  }</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  723</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  724</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(keyid);</div>
<div class="line"><span class="lineno">  725</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  726</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  727</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(regex);</div>
<div class="line"><span class="lineno">  728</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = rx;</div>
<div class="line"><span class="lineno">  729</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  730</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  733</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>cleanup:</div>
<div class="line"><span class="lineno">  736</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;regex);</div>
<div class="line"><span class="lineno">  737</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;keyid);</div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  739</span>}</div>
</div><!-- fragment --><div id="dynsection-47" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gac54f67a6e9cd9ebd35b63596b854b239_cgraph.svg" width="528" height="519"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac65134ac5e189e1f1beb95b695012023" name="gac65134ac5e189e1f1beb95b695012023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac65134ac5e189e1f1beb95b695012023">&#9670;&#160;</a></span>parse_hook_mbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_mbox </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse mbox hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>mbox-hook [ -noregex ] &lt;regex&gt; &lt;mailbox&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00747">747</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  749</span>{</div>
<div class="line"><span class="lineno">  750</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  751</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  752</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  753</span>  <span class="keywordtype">bool</span> use_regex = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  754</span>  regex_t *rx = NULL;</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *regex = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  757</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  760</span>  {</div>
<div class="line"><span class="lineno">  761</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  762</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  763</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  764</span>  }</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  767</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), <span class="stringliteral">&quot;-noregex&quot;</span>))</div>
<div class="line"><span class="lineno">  768</span>  {</div>
<div class="line"><span class="lineno">  769</span>    use_regex = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  770</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  771</span>    {</div>
<div class="line"><span class="lineno">  772</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  773</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  774</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  775</span>    }</div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  777</span>  }</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  780</span>  {</div>
<div class="line"><span class="lineno">  781</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  782</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  784</span>  }</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  789</span>  {</div>
<div class="line"><span class="lineno">  790</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  791</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  792</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  793</span>  }</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  796</span>  {</div>
<div class="line"><span class="lineno">  797</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  798</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  800</span>  }</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>  <span class="comment">/* Accidentally using the ^ mailbox shortcut in the .neomuttrc is a</span></div>
<div class="line"><span class="lineno">  803</span><span class="comment">   * common mistake */</span></div>
<div class="line"><span class="lineno">  804</span>  <span class="keywordflow">if</span> ((<a class="code hl_function" href="buffer_8c.html#a52e24da79941dc16d5577dac9dfc2698">buf_at</a>(regex, 0) == <span class="charliteral">&#39;^&#39;</span>) &amp;&amp; !<a class="code hl_variable" href="globals_8c.html#a972299f89841a17ed8c5e6e3f283660c">CurrentFolder</a>)</div>
<div class="line"><span class="lineno">  805</span>  {</div>
<div class="line"><span class="lineno">  806</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;current mailbox shortcut &#39;^&#39; is unset&quot;</span>));</div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  808</span>  }</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tmp = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  811</span>  <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(tmp, regex);</div>
<div class="line"><span class="lineno">  812</span>  <a class="code hl_function" href="muttlib_8c.html#a3ffd45805a0aa4478b3f176602f3082f">buf_expand_path_regex</a>(tmp, use_regex);</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>  <span class="comment">/* Check for other mailbox shortcuts that expand to the empty string.</span></div>
<div class="line"><span class="lineno">  815</span><span class="comment">   * This is likely a mistake too */</span></div>
<div class="line"><span class="lineno">  816</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(tmp) &amp;&amp; !<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(regex))</div>
<div class="line"><span class="lineno">  817</span>  {</div>
<div class="line"><span class="lineno">  818</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;mailbox shortcut expanded to empty regex&quot;</span>));</div>
<div class="line"><span class="lineno">  819</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tmp);</div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  821</span>  }</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>  <span class="keywordflow">if</span> (use_regex)</div>
<div class="line"><span class="lineno">  824</span>  {</div>
<div class="line"><span class="lineno">  825</span>    <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(regex, tmp);</div>
<div class="line"><span class="lineno">  826</span>  }</div>
<div class="line"><span class="lineno">  827</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  828</span>  {</div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_function" href="file_8c.html#a3d65ddb42b63f7e5d0d965e8162b8d63">mutt_file_sanitize_regex</a>(regex, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tmp));</div>
<div class="line"><span class="lineno">  830</span>  }</div>
<div class="line"><span class="lineno">  831</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tmp);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>  <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(command);</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  836</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  837</span>  {</div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  839</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  840</span>    {</div>
<div class="line"><span class="lineno">  841</span>      <span class="comment">// Update an existing hook</span></div>
<div class="line"><span class="lineno">  842</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>);</div>
<div class="line"><span class="lineno">  843</span>      hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  844</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a>);</div>
<div class="line"><span class="lineno">  845</span>      hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>      <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a>);</div>
<div class="line"><span class="lineno">  848</span>      hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = <a class="code hl_function" href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command), <a class="code hl_variable" href="hooks_2parse_8c.html#a8d5153764fd13e903e7ded2c7ca8c989">IndexFormatDef</a>, err);</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  851</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  852</span>    }</div>
<div class="line"><span class="lineno">  853</span>  }</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>  <span class="comment">/* Hooks not allowing full patterns: Check syntax of regex */</span></div>
<div class="line"><span class="lineno">  856</span>  rx = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, regex_t);</div>
<div class="line"><span class="lineno">  857</span>  <span class="keywordtype">int</span> rc2 = <a class="code hl_define" href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a>(rx, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), 0);</div>
<div class="line"><span class="lineno">  858</span>  <span class="keywordflow">if</span> (rc2 != 0)</div>
<div class="line"><span class="lineno">  859</span>  {</div>
<div class="line"><span class="lineno">  860</span>    regerror(rc2, rx, err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>);</div>
<div class="line"><span class="lineno">  861</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;rx);</div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  863</span>  }</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structExpando.html">Expando</a> *exp = <a class="code hl_function" href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command), <a class="code hl_variable" href="hooks_2parse_8c.html#a8d5153764fd13e903e7ded2c7ca8c989">IndexFormatDef</a>, err);</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  868</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  869</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  870</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  871</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  872</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(regex);</div>
<div class="line"><span class="lineno">  873</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = rx;</div>
<div class="line"><span class="lineno">  874</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  875</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = exp;</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  878</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>cleanup:</div>
<div class="line"><span class="lineno">  881</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;regex);</div>
<div class="line"><span class="lineno">  882</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  883</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  884</span>}</div>
<div class="ttc" id="aexpando_2expando_8c_html_a301a11afc09d7f98e652604400c6680b"><div class="ttname"><a href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a></div><div class="ttdeci">struct Expando * expando_parse(const char *str, const struct ExpandoDefinition *defs, struct Buffer *err)</div><div class="ttdoc">Parse an Expando string.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8c_source.html#l00081">expando.c:81</a></div></div>
<div class="ttc" id="aexpando_2expando_8c_html_a949d8a4d7721966b8f8fdba9e9db10b3"><div class="ttname"><a href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a></div><div class="ttdeci">void expando_free(struct Expando **ptr)</div><div class="ttdoc">Free an Expando object.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8c_source.html#l00061">expando.c:61</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a8d5153764fd13e903e7ded2c7ca8c989"><div class="ttname"><a href="hooks_2parse_8c.html#a8d5153764fd13e903e7ded2c7ca8c989">IndexFormatDef</a></div><div class="ttdeci">const struct ExpandoDefinition IndexFormatDef[]</div><div class="ttdoc">Expando definitions.</div><div class="ttdef"><b>Definition</b> <a href="mutt__config_8c_source.html#l00320">mutt_config.c:320</a></div></div>
<div class="ttc" id="astructExpando_html"><div class="ttname"><a href="structExpando.html">Expando</a></div><div class="ttdoc">Parsed Expando trees.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8h_source.html#l00040">expando.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-48" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gac65134ac5e189e1f1beb95b695012023_cgraph.svg" width="750" height="910"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga438fcc31438511c08ced9cd557a222dd" name="ga438fcc31438511c08ced9cd557a222dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga438fcc31438511c08ced9cd557a222dd">&#9670;&#160;</a></span>parse_hook_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_compress </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse compress hook commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>append-hook &lt;regex&gt; &lt;shell-command&gt;</code></li>
<li><code>close-hook &lt;regex&gt; &lt;shell-command&gt;</code></li>
<li><code>open-hook &lt;regex&gt; &lt;shell-command&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l00894">894</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  896</span>{</div>
<div class="line"><span class="lineno">  897</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno">  898</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  899</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  900</span>  regex_t *rx = NULL;</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *regex = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  903</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *command = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno">  906</span>  {</div>
<div class="line"><span class="lineno">  907</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  909</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  910</span>  }</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(regex, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  915</span>  {</div>
<div class="line"><span class="lineno">  916</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  917</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  919</span>  }</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>  <span class="comment">// TOKEN_SPACE allows the command to contain whitespace, without quoting</span></div>
<div class="line"><span class="lineno">  922</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(command, line, <a class="code hl_define" href="extract_8h.html#a353479c59d2069c4456ac5561d255a5d">TOKEN_SPACE</a>);</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(command))</div>
<div class="line"><span class="lineno">  925</span>  {</div>
<div class="line"><span class="lineno">  926</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  927</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  929</span>  }</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  932</span>  {</div>
<div class="line"><span class="lineno">  933</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  934</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  936</span>  }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="compmbox_2compress_8c.html#ab77ea42f102d3aced8ea915e95a83bd4">mutt_comp_valid_command</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(command)) == 0)</div>
<div class="line"><span class="lineno">  939</span>  {</div>
<div class="line"><span class="lineno">  940</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;badly formatted command string&quot;</span>));</div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  942</span>  }</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno">  945</span>  <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, &amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, entries)</div>
<div class="line"><span class="lineno">  946</span>  {</div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> == cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>) &amp;&amp; (hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno">  948</span>        <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno">  949</span>    {</div>
<div class="line"><span class="lineno">  950</span>      <span class="comment">// Update an existing hook</span></div>
<div class="line"><span class="lineno">  951</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a>);</div>
<div class="line"><span class="lineno">  952</span>      hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  953</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a>);</div>
<div class="line"><span class="lineno">  954</span>      hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>      rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  957</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  958</span>    }</div>
<div class="line"><span class="lineno">  959</span>  }</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>  <span class="comment">/* Hooks not allowing full patterns: Check syntax of regex */</span></div>
<div class="line"><span class="lineno">  962</span>  rx = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, regex_t);</div>
<div class="line"><span class="lineno">  963</span>  <span class="keywordtype">int</span> rc2 = <a class="code hl_define" href="regex3_8h.html#a349838a3143be1dd9b0500bfbe54d48f">REG_COMP</a>(rx, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(regex), 0);</div>
<div class="line"><span class="lineno">  964</span>  <span class="keywordflow">if</span> (rc2 != 0)</div>
<div class="line"><span class="lineno">  965</span>  {</div>
<div class="line"><span class="lineno">  966</span>    regerror(rc2, rx, err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>);</div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;rx);</div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno">  969</span>  }</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno">  972</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>;</div>
<div class="line"><span class="lineno">  973</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(command);</div>
<div class="line"><span class="lineno">  974</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno">  975</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = NULL;</div>
<div class="line"><span class="lineno">  976</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(regex);</div>
<div class="line"><span class="lineno">  977</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = rx;</div>
<div class="line"><span class="lineno">  978</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno">  979</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = NULL;</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(&amp;<a class="code hl_variable" href="hooks_2parse_8c.html#a972b6dffb799adc5f7e8d91438317d64">Hooks</a>, hook, entries);</div>
<div class="line"><span class="lineno">  982</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>cleanup:</div>
<div class="line"><span class="lineno">  985</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;regex);</div>
<div class="line"><span class="lineno">  986</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;command);</div>
<div class="line"><span class="lineno">  987</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  988</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_ab77ea42f102d3aced8ea915e95a83bd4"><div class="ttname"><a href="compmbox_2compress_8c.html#ab77ea42f102d3aced8ea915e95a83bd4">mutt_comp_valid_command</a></div><div class="ttdeci">int mutt_comp_valid_command(const char *cmd)</div><div class="ttdoc">Is this command string allowed?</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00391">compress.c:391</a></div></div>
</div><!-- fragment --><div id="dynsection-49" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga438fcc31438511c08ced9cd557a222dd_cgraph.svg" width="584" height="636"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga48a52701d3d6829a85e1cd92fe55c690" name="ga48a52701d3d6829a85e1cd92fe55c690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48a52701d3d6829a85e1cd92fe55c690">&#9670;&#160;</a></span>parse_hook_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_hook_index </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the index format hook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>index-format-hook &lt;name&gt; [ ! ]&lt;pattern&gt; &lt;format-string&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l01043">1043</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1045</span>{</div>
<div class="line"><span class="lineno"> 1046</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno"> 1047</span>  {</div>
<div class="line"><span class="lineno"> 1048</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno"> 1050</span>  }</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1053</span>  <span class="keywordtype">bool</span> pat_not = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *name = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1056</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *pattern = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1057</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *fmt = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structExpando.html">Expando</a> *exp = NULL;</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a>)</div>
<div class="line"><span class="lineno"> 1061</span>  {</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_variable" href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a> = <a class="code hl_function" href="hash_8c.html#a75439958fb5faf57c039faec79d19998">mutt_hash_new</a>(30, <a class="code hl_define" href="hash_8h.html#a8ab2e3b7f4fa1549400be41d58fc765c">MUTT_HASH_STRDUP_KEYS</a>);</div>
<div class="line"><span class="lineno"> 1063</span>    <a class="code hl_function" href="hash_8c.html#a8fdd3fbf2f93e78267168d3a8d2b4d79">mutt_hash_set_destructor</a>(<a class="code hl_variable" href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a>, <a class="code hl_function" href="group__hash__hdata__free__api.html#ga6c55d68e0ab13d9aaf342c1fd33f3399">idxfmt_hashelem_free</a>, 0);</div>
<div class="line"><span class="lineno"> 1064</span>  }</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(name, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 1067</span>  <span class="keyword">struct </span>HookList *hl = <a class="code hl_function" href="hash_8c.html#a21cfc2c56db496fc57d3d85a71c03215">mutt_hash_find</a>(<a class="code hl_variable" href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(name));</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;!&#39;</span>)</div>
<div class="line"><span class="lineno"> 1070</span>  {</div>
<div class="line"><span class="lineno"> 1071</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno"> 1072</span>    <a class="code hl_define" href="string2_8h.html#aebd4477213a7b706515efaffdec64181">SKIPWS</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno"> 1073</span>    pat_not = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1074</span>  }</div>
<div class="line"><span class="lineno"> 1075</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(pattern, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno"> 1078</span>  {</div>
<div class="line"><span class="lineno"> 1079</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1081</span>  }</div>
<div class="line"><span class="lineno"> 1082</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(fmt, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>  exp = <a class="code hl_function" href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(fmt), <a class="code hl_variable" href="hooks_2parse_8c.html#a8d5153764fd13e903e7ded2c7ca8c989">IndexFormatDef</a>, err);</div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keywordflow">if</span> (!exp)</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno"> 1089</span>  {</div>
<div class="line"><span class="lineno"> 1090</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1092</span>  }</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_default_hook = <a class="code hl_function" href="config_2helpers_8c.html#a6b1589ee93ff51ef31f1d9324e138078">cs_subset_string</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;default_hook&quot;</span>);</div>
<div class="line"><span class="lineno"> 1095</span>  <span class="keywordflow">if</span> (c_default_hook)</div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_function" href="pattern_2lib_8h.html#a6cee22aa2e3cb0c24cbbcdcc175d7ac6">mutt_check_simple</a>(pattern, c_default_hook);</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>  <span class="comment">/* check to make sure that a matching hook doesn&#39;t already exist */</span></div>
<div class="line"><span class="lineno"> 1099</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structHook.html">Hook</a> *hook = NULL;</div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordflow">if</span> (hl)</div>
<div class="line"><span class="lineno"> 1101</span>  {</div>
<div class="line"><span class="lineno"> 1102</span>    <a class="code hl_define" href="queue_8h.html#a16e5fc168e7f3494d4b1df54447d871e">TAILQ_FOREACH</a>(hook, hl, entries)</div>
<div class="line"><span class="lineno"> 1103</span>    {</div>
<div class="line"><span class="lineno"> 1104</span>      <span class="comment">// Update an existing hook</span></div>
<div class="line"><span class="lineno"> 1105</span>      <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> == pat_not) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1106</span>          <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a>), hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a>))</div>
<div class="line"><span class="lineno"> 1107</span>      {</div>
<div class="line"><span class="lineno"> 1108</span>        <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a>);</div>
<div class="line"><span class="lineno"> 1109</span>        hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = exp;</div>
<div class="line"><span class="lineno"> 1110</span>        exp = NULL;</div>
<div class="line"><span class="lineno"> 1111</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1112</span>        <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1113</span>      }</div>
<div class="line"><span class="lineno"> 1114</span>    }</div>
<div class="line"><span class="lineno"> 1115</span>  }</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>  <span class="comment">/* MUTT_PC_PATTERN_DYNAMIC sets so that date ranges are regenerated during</span></div>
<div class="line"><span class="lineno"> 1118</span><span class="comment">   * matching.  This of course is slower, but index-format-hook is commonly</span></div>
<div class="line"><span class="lineno"> 1119</span><span class="comment">   * used for date ranges, and they need to be evaluated relative to &quot;now&quot;, not</span></div>
<div class="line"><span class="lineno"> 1120</span><span class="comment">   * the hook compilation time.  */</span></div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMailboxView.html">MailboxView</a> *mv_cur = <a class="code hl_function" href="index_8c.html#a5915d8b932eb86633f1d7d65a8c83289">get_current_mailbox_view</a>();</div>
<div class="line"><span class="lineno"> 1122</span>  <span class="keyword">struct </span>PatternList *pat = <a class="code hl_function" href="compile_8c.html#a43039fbeb001087dad2a07081ca9526e">mutt_pattern_comp</a>(mv_cur, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(pattern),</div>
<div class="line"><span class="lineno"> 1123</span>                                              <a class="code hl_define" href="pattern_2lib_8h.html#a258bbc9499cea3d5d1c3c0454ee8b31a">MUTT_PC_FULL_MSG</a> | <a class="code hl_define" href="pattern_2lib_8h.html#af80a0826f8de1e8a8580be5eb2b00535">MUTT_PC_PATTERN_DYNAMIC</a>,</div>
<div class="line"><span class="lineno"> 1124</span>                                              err);</div>
<div class="line"><span class="lineno"> 1125</span>  <span class="keywordflow">if</span> (!pat)</div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordflow">goto</span> out;</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>  hook = <a class="code hl_function" href="hook_8c.html#a56a2eaebdff2ef8176e66bbdc1ac74d7">hook_new</a>();</div>
<div class="line"><span class="lineno"> 1129</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac8569451e3f3cdfc4b5fde7ddd5b0846">id</a> = <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1bb0a5df63f0d5583adfcf0d2c364c74">CMD_INDEX_FORMAT_HOOK</a>;</div>
<div class="line"><span class="lineno"> 1130</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#aa4ee5764f7c353182f66e90520a77420">command</a> = NULL;</div>
<div class="line"><span class="lineno"> 1131</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ae2de65a4826224a0380d0d78f30cb20b">source_file</a> = <a class="code hl_function" href="source_8c.html#aef2d030e6e9498e89343f12c2fa918b8">mutt_get_sourced_cwd</a>();</div>
<div class="line"><span class="lineno"> 1132</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c1956f17958dd3142d9cb2c171fb035">pattern</a> = pat;</div>
<div class="line"><span class="lineno"> 1133</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(pattern);</div>
<div class="line"><span class="lineno"> 1134</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#af9ccc25da6324c9055e53966abe9a7b3">regex</a> = NULL;</div>
<div class="line"><span class="lineno"> 1135</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#a1c6336f4645125bf795ad741e925bd86">regex</a>.<a class="code hl_variable" href="structRegex.html#adf40b2d25dabe5abb853946f35fe7c44">pat_not</a> = pat_not;</div>
<div class="line"><span class="lineno"> 1136</span>  hook-&gt;<a class="code hl_variable" href="structHook.html#ac53e0f153a033bf8dba3f71d0a200647">expando</a> = exp;</div>
<div class="line"><span class="lineno"> 1137</span>  exp = NULL;</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  <span class="keywordflow">if</span> (!hl)</div>
<div class="line"><span class="lineno"> 1140</span>  {</div>
<div class="line"><span class="lineno"> 1141</span>    hl = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, <span class="keyword">struct</span> HookList);</div>
<div class="line"><span class="lineno"> 1142</span>    <a class="code hl_define" href="queue_8h.html#a449d224023780e46253b83b61e0a50a9">TAILQ_INIT</a>(hl);</div>
<div class="line"><span class="lineno"> 1143</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(<a class="code hl_variable" href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(name), hl);</div>
<div class="line"><span class="lineno"> 1144</span>  }</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>  <a class="code hl_define" href="queue_8h.html#a512bee16b46f601078c96c776d2648c3">TAILQ_INSERT_TAIL</a>(hl, hook, entries);</div>
<div class="line"><span class="lineno"> 1147</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1148</span> </div>
<div class="line"><span class="lineno"> 1149</span>out:</div>
<div class="line"><span class="lineno"> 1150</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;name);</div>
<div class="line"><span class="lineno"> 1151</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;pattern);</div>
<div class="line"><span class="lineno"> 1152</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;fmt);</div>
<div class="line"><span class="lineno"> 1153</span>  <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;exp);</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa1bb0a5df63f0d5583adfcf0d2c364c74"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1bb0a5df63f0d5583adfcf0d2c364c74">CMD_INDEX_FORMAT_HOOK</a></div><div class="ttdeci">@ CMD_INDEX_FORMAT_HOOK</div><div class="ttdoc">:index-format-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00084">command.h:84</a></div></div>
<div class="ttc" id="agroup__hash__hdata__free__api_html_ga6c55d68e0ab13d9aaf342c1fd33f3399"><div class="ttname"><a href="group__hash__hdata__free__api.html#ga6c55d68e0ab13d9aaf342c1fd33f3399">idxfmt_hashelem_free</a></div><div class="ttdeci">static void idxfmt_hashelem_free(int type, void *obj, intptr_t data)</div><div class="ttdoc">Free our hash table data - Implements hash_hdata_free_t -.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l01014">parse.c:1014</a></div></div>
<div class="ttc" id="ahash_8c_html_a75439958fb5faf57c039faec79d19998"><div class="ttname"><a href="hash_8c.html#a75439958fb5faf57c039faec79d19998">mutt_hash_new</a></div><div class="ttdeci">struct HashTable * mutt_hash_new(size_t num_elems, HashFlags flags)</div><div class="ttdoc">Create a new Hash Table (with string keys)</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00260">hash.c:260</a></div></div>
<div class="ttc" id="ahash_8c_html_a8fdd3fbf2f93e78267168d3a8d2b4d79"><div class="ttname"><a href="hash_8c.html#a8fdd3fbf2f93e78267168d3a8d2b4d79">mutt_hash_set_destructor</a></div><div class="ttdeci">void mutt_hash_set_destructor(struct HashTable *table, hash_hdata_free_t fn, intptr_t fn_data)</div><div class="ttdoc">Set the destructor for a Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00302">hash.c:302</a></div></div>
<div class="ttc" id="ahash_8h_html_a8ab2e3b7f4fa1549400be41d58fc765c"><div class="ttname"><a href="hash_8h.html#a8ab2e3b7f4fa1549400be41d58fc765c">MUTT_HASH_STRDUP_KEYS</a></div><div class="ttdeci">#define MUTT_HASH_STRDUP_KEYS</div><div class="ttdoc">make a copy of the keys</div><div class="ttdef"><b>Definition</b> <a href="hash_8h_source.html#l00113">hash.h:113</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a1ca53f19587562575952e7626c839056"><div class="ttname"><a href="hooks_2parse_8c.html#a1ca53f19587562575952e7626c839056">IdxFmtHooks</a></div><div class="ttdeci">struct HashTable * IdxFmtHooks</div><div class="ttdoc">All Index Format hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l00052">parse.c:52</a></div></div>
<div class="ttc" id="apattern_2lib_8h_html_af80a0826f8de1e8a8580be5eb2b00535"><div class="ttname"><a href="pattern_2lib_8h.html#af80a0826f8de1e8a8580be5eb2b00535">MUTT_PC_PATTERN_DYNAMIC</a></div><div class="ttdeci">#define MUTT_PC_PATTERN_DYNAMIC</div><div class="ttdoc">Enable runtime date range evaluation.</div><div class="ttdef"><b>Definition</b> <a href="pattern_2lib_8h_source.html#l00070">lib.h:70</a></div></div>
<div class="ttc" id="aqueue_8h_html_a449d224023780e46253b83b61e0a50a9"><div class="ttname"><a href="queue_8h.html#a449d224023780e46253b83b61e0a50a9">TAILQ_INIT</a></div><div class="ttdeci">#define TAILQ_INIT(head)</div><div class="ttdef"><b>Definition</b> <a href="queue_8h_source.html#l00822">queue.h:822</a></div></div>
</div><!-- fragment --><div id="dynsection-50" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga48a52701d3d6829a85e1cd92fe55c690_cgraph.svg" width="550" height="1080"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga25140e97e12146f8316d67713fce0ac7" name="ga25140e97e12146f8316d67713fce0ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25140e97e12146f8316d67713fce0ac7">&#9670;&#160;</a></span>parse_unhook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unhook </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the unhook command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unhook { * | &lt;hook-type&gt; }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="hooks_2parse_8c_source.html#l01164">1164</a> of file <a class="el" href="hooks_2parse_8c_source.html">parse.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1166</span>{</div>
<div class="line"><span class="lineno"> 1167</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno"> 1168</span>  {</div>
<div class="line"><span class="lineno"> 1169</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno"> 1170</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno"> 1171</span>  }</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1174</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno"> 1177</span>  {</div>
<div class="line"><span class="lineno"> 1178</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno"> 1179</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno"> 1180</span>    {</div>
<div class="line"><span class="lineno"> 1181</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="hooks_2parse_8c.html#a035dff239b7396d32e5ac65490c31cac">CurrentHookId</a> != <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>)</div>
<div class="line"><span class="lineno"> 1182</span>      {</div>
<div class="line"><span class="lineno"> 1183</span>        <a class="code hl_function" href="buffer_8c.html#a9924e74ddcb5280ab380e4627d1fba99">buf_addstr</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;unhook: Can&#39;t do unhook * from within a hook&quot;</span>));</div>
<div class="line"><span class="lineno"> 1184</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1185</span>      }</div>
<div class="line"><span class="lineno"> 1186</span>      <a class="code hl_function" href="hooks_2parse_8c.html#a45d192929924e15580eca983319585d4">mutt_delete_hooks</a>(<a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa93c1ce1fac89139d9f4df4b6db21b1cc">CMD_NONE</a>);</div>
<div class="line"><span class="lineno"> 1187</span>      <a class="code hl_function" href="hooks_2parse_8c.html#a5158a12937ec41e078fe95c10d332217">delete_idxfmt_hooks</a>();</div>
<div class="line"><span class="lineno"> 1188</span>      <a class="code hl_function" href="mutt_2charset_8c.html#a1b4218535731ab6b94715522af613e00">mutt_ch_lookup_remove</a>();</div>
<div class="line"><span class="lineno"> 1189</span>    }</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1191</span>    {</div>
<div class="line"><span class="lineno"> 1192</span>      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structCommand.html">Command</a> *hook = <a class="code hl_function" href="commands_2commands_8c.html#a4c0d901e40e21da4b09b52df4d75b41e">command_find_by_name</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a3024ae27b85ddf7c9c3ff11299d01b05">commands</a>,</div>
<div class="line"><span class="lineno"> 1193</span>                                                        <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno"> 1194</span>      <span class="keywordflow">if</span> (!hook)</div>
<div class="line"><span class="lineno"> 1195</span>      {</div>
<div class="line"><span class="lineno"> 1196</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;unhook: unknown hook type: %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno"> 1197</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1198</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1199</span>      }</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>      <span class="keywordflow">if</span> ((hook-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa84a6ac3d58e0dbcf2bbbd140b7beab77">CMD_CHARSET_HOOK</a>) || (hook-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1388bde1b9daabe9d15dbdb34fe50540">CMD_ICONV_HOOK</a>))</div>
<div class="line"><span class="lineno"> 1202</span>      {</div>
<div class="line"><span class="lineno"> 1203</span>        <a class="code hl_function" href="mutt_2charset_8c.html#a1b4218535731ab6b94715522af613e00">mutt_ch_lookup_remove</a>();</div>
<div class="line"><span class="lineno"> 1204</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1206</span>      }</div>
<div class="line"><span class="lineno"> 1207</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="hooks_2parse_8c.html#a035dff239b7396d32e5ac65490c31cac">CurrentHookId</a> == hook-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>)</div>
<div class="line"><span class="lineno"> 1208</span>      {</div>
<div class="line"><span class="lineno"> 1209</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;unhook: Can&#39;t delete a %s from within a %s&quot;</span>),</div>
<div class="line"><span class="lineno"> 1210</span>                   <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno"> 1211</span>        rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno"> 1212</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 1213</span>      }</div>
<div class="line"><span class="lineno"> 1214</span>      <span class="keywordflow">if</span> (hook-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1bb0a5df63f0d5583adfcf0d2c364c74">CMD_INDEX_FORMAT_HOOK</a>)</div>
<div class="line"><span class="lineno"> 1215</span>        <a class="code hl_function" href="hooks_2parse_8c.html#a5158a12937ec41e078fe95c10d332217">delete_idxfmt_hooks</a>();</div>
<div class="line"><span class="lineno"> 1216</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1217</span>        <a class="code hl_function" href="hooks_2parse_8c.html#a45d192929924e15580eca983319585d4">mutt_delete_hooks</a>(hook-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>);</div>
<div class="line"><span class="lineno"> 1218</span>    }</div>
<div class="line"><span class="lineno"> 1219</span>  }</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>done:</div>
<div class="line"><span class="lineno"> 1224</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno"> 1225</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno"> 1226</span>}</div>
<div class="ttc" id="abuffer_8c_html_a9924e74ddcb5280ab380e4627d1fba99"><div class="ttname"><a href="buffer_8c.html#a9924e74ddcb5280ab380e4627d1fba99">buf_addstr</a></div><div class="ttdeci">size_t buf_addstr(struct Buffer *buf, const char *s)</div><div class="ttdoc">Add a string to a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00226">buffer.c:226</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa84a6ac3d58e0dbcf2bbbd140b7beab77"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa84a6ac3d58e0dbcf2bbbd140b7beab77">CMD_CHARSET_HOOK</a></div><div class="ttdeci">@ CMD_CHARSET_HOOK</div><div class="ttdoc">:charset-hook</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00067">command.h:67</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa93c1ce1fac89139d9f4df4b6db21b1cc"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa93c1ce1fac89139d9f4df4b6db21b1cc">CMD_NONE</a></div><div class="ttdeci">@ CMD_NONE</div><div class="ttdoc">No Command.</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00057">command.h:57</a></div></div>
<div class="ttc" id="acommands_2commands_8c_html_a4c0d901e40e21da4b09b52df4d75b41e"><div class="ttname"><a href="commands_2commands_8c.html#a4c0d901e40e21da4b09b52df4d75b41e">command_find_by_name</a></div><div class="ttdeci">const struct Command * command_find_by_name(const struct CommandArray *ca, const char *name)</div><div class="ttdoc">Find a NeoMutt Command by its name.</div><div class="ttdef"><b>Definition</b> <a href="commands_2commands_8c_source.html#l00319">commands.c:319</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a035dff239b7396d32e5ac65490c31cac"><div class="ttname"><a href="hooks_2parse_8c.html#a035dff239b7396d32e5ac65490c31cac">CurrentHookId</a></div><div class="ttdeci">enum CommandId CurrentHookId</div><div class="ttdoc">The ID of the Hook currently being executed, e.g. CMD_SAVE_HOOK.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l00055">parse.c:55</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a45d192929924e15580eca983319585d4"><div class="ttname"><a href="hooks_2parse_8c.html#a45d192929924e15580eca983319585d4">mutt_delete_hooks</a></div><div class="ttdeci">void mutt_delete_hooks(enum CommandId id)</div><div class="ttdoc">Delete matching hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l00996">parse.c:996</a></div></div>
<div class="ttc" id="ahooks_2parse_8c_html_a5158a12937ec41e078fe95c10d332217"><div class="ttname"><a href="hooks_2parse_8c.html#a5158a12937ec41e078fe95c10d332217">delete_idxfmt_hooks</a></div><div class="ttdeci">static void delete_idxfmt_hooks(void)</div><div class="ttdoc">Delete all the index-format-hooks.</div><div class="ttdef"><b>Definition</b> <a href="hooks_2parse_8c_source.html#l01032">parse.c:1032</a></div></div>
<div class="ttc" id="amutt_2charset_8c_html_a1b4218535731ab6b94715522af613e00"><div class="ttname"><a href="mutt_2charset_8c.html#a1b4218535731ab6b94715522af613e00">mutt_ch_lookup_remove</a></div><div class="ttdeci">void mutt_ch_lookup_remove(void)</div><div class="ttdoc">Remove all the character set lookups.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2charset_8c_source.html#l00527">charset.c:527</a></div></div>
<div class="ttc" id="astructCommand_html"><div class="ttname"><a href="structCommand.html">Command</a></div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00157">command.h:158</a></div></div>
</div><!-- fragment --><div id="dynsection-51" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga25140e97e12146f8316d67713fce0ac7_cgraph.svg" width="518" height="579"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf7281af848d324eeb1dea8b6035e79e9" name="gaf7281af848d324eeb1dea8b6035e79e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7281af848d324eeb1dea8b6035e79e9">&#9670;&#160;</a></span>parse_subscribe_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_subscribe_to </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'subscribe-to' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>The 'subscribe-to' command allows to subscribe to an IMAP-Mailbox. Patterns are not supported.</p>
<p>Parse:</p><ul>
<li><code>subscribe-to &lt;imap-folder-uri&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="imap_8c_source.html#l00090">90</a> of file <a class="el" href="imap_8c_source.html">imap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{</div>
<div class="line"><span class="lineno">   93</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   94</span>  {</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   97</span>  }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  100</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>  <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(err);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  107</span>  {</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  110</span>  }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  <span class="comment">// Expand and subscribe</span></div>
<div class="line"><span class="lineno">  113</span>  <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(token);</div>
<div class="line"><span class="lineno">  114</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="imap_8c.html#a6f4e11266212cfbe82f0a123bfd27a8f">imap_subscribe</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="keyword">true</span>) != 0)</div>
<div class="line"><span class="lineno">  115</span>  {</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not subscribe to %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  117</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  119</span>  }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Subscribed to %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  122</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>done:</div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  127</span>}</div>
<div class="ttc" id="aimap_8c_html_a6f4e11266212cfbe82f0a123bfd27a8f"><div class="ttname"><a href="imap_8c.html#a6f4e11266212cfbe82f0a123bfd27a8f">imap_subscribe</a></div><div class="ttdeci">int imap_subscribe(const char *path, bool subscribe)</div><div class="ttdoc">Subscribe to a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l01339">imap.c:1339</a></div></div>
</div><!-- fragment --><div id="dynsection-52" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaf7281af848d324eeb1dea8b6035e79e9_cgraph.svg" width="648" height="379"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga048d85d7258b4adaa06fa19a6e5a59ea" name="ga048d85d7258b4adaa06fa19a6e5a59ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga048d85d7258b4adaa06fa19a6e5a59ea">&#9670;&#160;</a></span>parse_unsubscribe_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unsubscribe_from </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unsubscribe-from' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>The 'unsubscribe-from' command allows to unsubscribe from an IMAP-Mailbox. Patterns are not supported.</p>
<p>Parse:</p><ul>
<li><code>unsubscribe-from &lt;imap-folder-uri&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="imap_8c_source.html#l00138">138</a> of file <a class="el" href="imap_8c_source.html">imap.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  142</span>  {</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  145</span>  }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  148</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  153</span>  {</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  156</span>  }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  <span class="comment">// Expand and unsubscribe</span></div>
<div class="line"><span class="lineno">  159</span>  <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(token);</div>
<div class="line"><span class="lineno">  160</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="imap_8c.html#a6f4e11266212cfbe82f0a123bfd27a8f">imap_subscribe</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="keyword">false</span>) != 0)</div>
<div class="line"><span class="lineno">  161</span>  {</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not unsubscribe from %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  163</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  165</span>  }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unsubscribed from %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  168</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>done:</div>
<div class="line"><span class="lineno">  171</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  173</span>}</div>
</div><!-- fragment --><div id="dynsection-53" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga048d85d7258b4adaa06fa19a6e5a59ea_cgraph.svg" width="554" height="362"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga1144e8aa9df44e04e97e7d8b47e7bdb0" name="ga1144e8aa9df44e04e97e7d8b47e7bdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1144e8aa9df44e04e97e7d8b47e7bdb0">&#9670;&#160;</a></span>parse_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_push </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'push' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>push &lt;string&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="key_2commands_8c_source.html#l00310">310</a> of file <a class="el" href="key_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>{</div>
<div class="line"><span class="lineno">  313</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  314</span>  {</div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  317</span>  }</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  320</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a672e649702e820a97200b3da0b54ddf3">TOKEN_CONDENSE</a>);</div>
<div class="line"><span class="lineno">  323</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  324</span>  {</div>
<div class="line"><span class="lineno">  325</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  327</span>  }</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>  <a class="code hl_function" href="get_8c.html#a1f157e0ebacb030d667f47135a76210a">generic_tokenize_push_string</a>(token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>);</div>
<div class="line"><span class="lineno">  330</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>done:</div>
<div class="line"><span class="lineno">  333</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  334</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  335</span>}</div>
<div class="ttc" id="aextract_8h_html_a672e649702e820a97200b3da0b54ddf3"><div class="ttname"><a href="extract_8h.html#a672e649702e820a97200b3da0b54ddf3">TOKEN_CONDENSE</a></div><div class="ttdeci">#define TOKEN_CONDENSE</div><div class="ttdoc">^(char) to control chars (macros)</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00047">extract.h:47</a></div></div>
<div class="ttc" id="aget_8c_html_a1f157e0ebacb030d667f47135a76210a"><div class="ttname"><a href="get_8c.html#a1f157e0ebacb030d667f47135a76210a">generic_tokenize_push_string</a></div><div class="ttdeci">void generic_tokenize_push_string(char *s)</div><div class="ttdoc">Parse and queue a &#39;push&#39; command.</div><div class="ttdef"><b>Definition</b> <a href="get_8c_source.html#l00348">get.c:348</a></div></div>
</div><!-- fragment --><div id="dynsection-54" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga1144e8aa9df44e04e97e7d8b47e7bdb0_cgraph.svg" width="490" height="252"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gac44ec79cbd056f5f14eafa23fd4f1145" name="gac44ec79cbd056f5f14eafa23fd4f1145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac44ec79cbd056f5f14eafa23fd4f1145">&#9670;&#160;</a></span>parse_bind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_bind </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'bind' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>bind menu-name <code>&lt;key_sequence&gt;</code> function-name</p>
<p>Parse:</p><ul>
<li><code>bind &lt;map&gt;[,&lt;map&gt; ... ] &lt;key&gt; &lt;function&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="key_2commands_8c_source.html#l00345">345</a> of file <a class="el" href="key_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a>)</div>
<div class="line"><span class="lineno">  349</span>  {</div>
<div class="line"><span class="lineno">  350</span>    <span class="comment">// Save and restore the offset in `line` because parse_bind_macro() might change it</span></div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordtype">char</span> *dptr = line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>;</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#ga6939e8e4e9c591a188025b7a66c291cd">parse_bind_macro</a>(cmd, line, err) == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  353</span>    {</div>
<div class="line"><span class="lineno">  354</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  355</span>    }</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(err))</div>
<div class="line"><span class="lineno">  357</span>    {</div>
<div class="line"><span class="lineno">  358</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> = dptr;</div>
<div class="line"><span class="lineno">  361</span>  }</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  364</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *keystr = NULL;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structMenuFuncOp.html">MenuFuncOp</a> *funcs = NULL;</div>
<div class="line"><span class="lineno">  367</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> mtypes[<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>];</div>
<div class="line"><span class="lineno">  368</span>  <span class="keywordtype">int</span> num_menus = 0;</div>
<div class="line"><span class="lineno">  369</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>  <span class="keywordtype">char</span> *key = <a class="code hl_function" href="key_2commands_8c.html#a70cab218969532c54f72c3061b1bb3f6">parse_keymap</a>(mtypes, line, <a class="code hl_define" href="memory_8h.html#a13aaf9e9e194ebfd84f90bcf4e264aca">countof</a>(mtypes), &amp;num_menus, err, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">if</span> (!key)</div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>  <span class="comment">/* function to execute */</span></div>
<div class="line"><span class="lineno">  376</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  378</span>  {</div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  381</span>  }</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;noop&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  386</span>  {</div>
<div class="line"><span class="lineno">  387</span>    keystr = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_menus; i++)</div>
<div class="line"><span class="lineno">  389</span>    {</div>
<div class="line"><span class="lineno">  390</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(key, mtypes[i], OP_NULL, NULL, NULL, NULL); <span class="comment">/* the &#39;unbind&#39; command */</span></div>
<div class="line"><span class="lineno">  391</span>      funcs = <a class="code hl_function" href="key_2lib_8c.html#ac73ba4b4de1642f905738d2da0e79d91">km_get_table</a>(mtypes[i]);</div>
<div class="line"><span class="lineno">  392</span>      <span class="keywordflow">if</span> (funcs)</div>
<div class="line"><span class="lineno">  393</span>      {</div>
<div class="line"><span class="lineno">  394</span>        <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(keystr);</div>
<div class="line"><span class="lineno">  395</span>        <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(key, keystr);</div>
<div class="line"><span class="lineno">  396</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(mtypes[i], <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_BINDING_DELETE: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structMenuFuncOp.html#a9b0871a1dbef5ed0907e9ae681cc4abd">op</a> = <a class="code hl_function" href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a>(<a class="code hl_variable" href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_function" href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a>(token));</div>
<div class="line"><span class="lineno">  400</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { mtypes[i], <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, <a class="code hl_variable" href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">op</a> };</div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>, <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a379b524231af6bf9c9acfa1eeb756838">NT_BINDING_DELETE</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  402</span>      }</div>
<div class="line"><span class="lineno">  403</span>    }</div>
<div class="line"><span class="lineno">  404</span>  }</div>
<div class="line"><span class="lineno">  405</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  406</span>  {</div>
<div class="line"><span class="lineno">  407</span>    keystr = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_menus; i++)</div>
<div class="line"><span class="lineno">  409</span>    {</div>
<div class="line"><span class="lineno">  410</span>      <span class="comment">/* The pager and editor menus don&#39;t use the generic map,</span></div>
<div class="line"><span class="lineno">  411</span><span class="comment">       * however for other menus try generic first. */</span></div>
<div class="line"><span class="lineno">  412</span>      <span class="keywordflow">if</span> ((mtypes[i] != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>) &amp;&amp; (mtypes[i] != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>) &amp;&amp; (mtypes[i] != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>))</div>
<div class="line"><span class="lineno">  413</span>      {</div>
<div class="line"><span class="lineno">  414</span>        rc = <a class="code hl_function" href="key_2commands_8c.html#ad06fa9e5028db083ad4da72556f92c5f">try_bind</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, mtypes[i], token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, <a class="code hl_variable" href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a>, err);</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  416</span>        {</div>
<div class="line"><span class="lineno">  417</span>          <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(keystr);</div>
<div class="line"><span class="lineno">  418</span>          <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, keystr);</div>
<div class="line"><span class="lineno">  419</span>          <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(mtypes[i], <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  420</span>          <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_BINDING_NEW: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">op</a> = <a class="code hl_function" href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a>(<a class="code hl_variable" href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_function" href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a>(token));</div>
<div class="line"><span class="lineno">  423</span>          <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { mtypes[i], <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, <a class="code hl_variable" href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">op</a> };</div>
<div class="line"><span class="lineno">  424</span>          <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>, <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a57e49018dcf6ad0768008cd4574b1459">NT_BINDING_ADD</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  425</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  426</span>        }</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>)</div>
<div class="line"><span class="lineno">  428</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  429</span>      }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>      <span class="comment">/* Clear any error message, we&#39;re going to try again */</span></div>
<div class="line"><span class="lineno">  432</span>      err-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  433</span>      funcs = <a class="code hl_function" href="key_2lib_8c.html#ac73ba4b4de1642f905738d2da0e79d91">km_get_table</a>(mtypes[i]);</div>
<div class="line"><span class="lineno">  434</span>      <span class="keywordflow">if</span> (funcs)</div>
<div class="line"><span class="lineno">  435</span>      {</div>
<div class="line"><span class="lineno">  436</span>        rc = <a class="code hl_function" href="key_2commands_8c.html#ad06fa9e5028db083ad4da72556f92c5f">try_bind</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, mtypes[i], token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, funcs, err);</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  438</span>        {</div>
<div class="line"><span class="lineno">  439</span>          <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(keystr);</div>
<div class="line"><span class="lineno">  440</span>          <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, keystr);</div>
<div class="line"><span class="lineno">  441</span>          <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(mtypes[i], <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  442</span>          <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_BINDING_NEW: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>          <span class="keywordtype">int</span> <a class="code hl_variable" href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">op</a> = <a class="code hl_function" href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a>(funcs, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_function" href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a>(token));</div>
<div class="line"><span class="lineno">  445</span>          <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { mtypes[i], <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, <a class="code hl_variable" href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">op</a> };</div>
<div class="line"><span class="lineno">  446</span>          <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>, <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a57e49018dcf6ad0768008cd4574b1459">NT_BINDING_ADD</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  447</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  448</span>        }</div>
<div class="line"><span class="lineno">  449</span>      }</div>
<div class="line"><span class="lineno">  450</span>    }</div>
<div class="line"><span class="lineno">  451</span>  }</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>done:</div>
<div class="line"><span class="lineno">  454</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>);</div>
<div class="line"><span class="lineno">  455</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;keystr);</div>
<div class="line"><span class="lineno">  456</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  458</span>}</div>
<div class="ttc" id="abuffer_8c_html_a2914dc2d9a9d77e4c9970b4249be9370"><div class="ttname"><a href="buffer_8c.html#a2914dc2d9a9d77e4c9970b4249be9370">buf_len</a></div><div class="ttdeci">size_t buf_len(const struct Buffer *buf)</div><div class="ttdoc">Calculate the length of a Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00491">buffer.c:491</a></div></div>
<div class="ttc" id="agroup__command__parse_html_ga6939e8e4e9c591a188025b7a66c291cd"><div class="ttname"><a href="#ga6939e8e4e9c591a188025b7a66c291cd">parse_bind_macro</a></div><div class="ttdeci">enum CommandResult parse_bind_macro(const struct Command *cmd, struct Buffer *line, struct Buffer *err)</div><div class="ttdoc">Parse &#39;bind&#39; and &#39;macro&#39; commands - Implements Command::parse() -.</div><div class="ttdef"><b>Definition</b> <a href="key_2dump_8c_source.html#l00176">dump.c:176</a></div></div>
<div class="ttc" id="agui_2functions_8c_html_a3457ad68df60a03b25a1a85b71a22822"><div class="ttname"><a href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a></div><div class="ttdeci">const struct MenuFuncOp OpGeneric[]</div><div class="ttdoc">Functions for the Generic Menu.</div><div class="ttdef"><b>Definition</b> <a href="gui_2functions_8c_source.html#l00069">functions.c:69</a></div></div>
<div class="ttc" id="akey_2commands_8c_html_a11591b7917643bd6420fa3816d48abe2"><div class="ttname"><a href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a></div><div class="ttdeci">enum CommandResult km_bind(const char *s, enum MenuType mtype, int op, char *macro, char *desc, struct Buffer *err)</div><div class="ttdoc">Set up a key binding.</div><div class="ttdef"><b>Definition</b> <a href="key_2commands_8c_source.html#l00056">commands.c:56</a></div></div>
<div class="ttc" id="akey_2commands_8c_html_a70cab218969532c54f72c3061b1bb3f6"><div class="ttname"><a href="key_2commands_8c.html#a70cab218969532c54f72c3061b1bb3f6">parse_keymap</a></div><div class="ttdeci">char * parse_keymap(enum MenuType *mtypes, struct Buffer *line, int max_menus, int *num_menus, struct Buffer *err, bool bind)</div><div class="ttdoc">Parse a user-config key binding.</div><div class="ttdef"><b>Definition</b> <a href="key_2commands_8c_source.html#l00189">commands.c:189</a></div></div>
<div class="ttc" id="akey_2commands_8c_html_ad06fa9e5028db083ad4da72556f92c5f"><div class="ttname"><a href="key_2commands_8c.html#ad06fa9e5028db083ad4da72556f92c5f">try_bind</a></div><div class="ttdeci">static enum CommandResult try_bind(char *key, enum MenuType mtype, char *func, const struct MenuFuncOp *funcs, struct Buffer *err)</div><div class="ttdoc">Try to make a key binding.</div><div class="ttdef"><b>Definition</b> <a href="key_2commands_8c_source.html#l00286">commands.c:286</a></div></div>
<div class="ttc" id="akey_2keymap_8c_html_a6a3eb9319222d6f57a788cfa9521b073"><div class="ttname"><a href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a></div><div class="ttdeci">void keymap_expand_string(const char *str, struct Buffer *buf)</div><div class="ttdoc">Get a human-readable key string.</div><div class="ttdef"><b>Definition</b> <a href="key_2keymap_8c_source.html#l00247">keymap.c:247</a></div></div>
<div class="ttc" id="akey_2lib_8c_html_ac73ba4b4de1642f905738d2da0e79d91"><div class="ttname"><a href="key_2lib_8c.html#ac73ba4b4de1642f905738d2da0e79d91">km_get_table</a></div><div class="ttdeci">const struct MenuFuncOp * km_get_table(enum MenuType mtype)</div><div class="ttdoc">Lookup a Menu&#39;s functions.</div><div class="ttdef"><b>Definition</b> <a href="key_2lib_8c_source.html#l00086">lib.c:86</a></div></div>
<div class="ttc" id="akey_2lib_8h_html_a18ae8a0c8776ebaa9867a112b4f5a4c3"><div class="ttname"><a href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a></div><div class="ttdeci">int km_get_op(const struct MenuFuncOp *funcs, const char *start, size_t len)</div><div class="ttdoc">Get the function by its name.</div><div class="ttdef"><b>Definition</b> <a href="key_2menu_8c_source.html#l00063">menu.c:63</a></div></div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8a379b524231af6bf9c9acfa1eeb756838"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a379b524231af6bf9c9acfa1eeb756838">NT_BINDING_DELETE</a></div><div class="ttdeci">@ NT_BINDING_DELETE</div><div class="ttdoc">Key binding has been deleted.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00048">notify.h:48</a></div></div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8a57e49018dcf6ad0768008cd4574b1459"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a57e49018dcf6ad0768008cd4574b1459">NT_BINDING_ADD</a></div><div class="ttdeci">@ NT_BINDING_ADD</div><div class="ttdoc">Key binding has been added.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00047">notify.h:47</a></div></div>
<div class="ttc" id="amapping_8c_html_ae52d375da6dc3039d2341ae4ace4f557"><div class="ttname"><a href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a></div><div class="ttdeci">const char * mutt_map_get_name(int val, const struct Mapping *map)</div><div class="ttdoc">Lookup a string for a constant.</div><div class="ttdef"><b>Definition</b> <a href="mapping_8c_source.html#l00042">mapping.c:42</a></div></div>
<div class="ttc" id="amemory_8h_html_a13aaf9e9e194ebfd84f90bcf4e264aca"><div class="ttname"><a href="memory_8h.html#a13aaf9e9e194ebfd84f90bcf4e264aca">countof</a></div><div class="ttdeci">#define countof(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00045">memory.h:45</a></div></div>
<div class="ttc" id="anotify__type_8h_html_addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc"><div class="ttname"><a href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a></div><div class="ttdeci">@ NT_BINDING</div><div class="ttdoc">Key binding has changed, NotifyBinding, EventBinding.</div><div class="ttdef"><b>Definition</b> <a href="notify__type_8h_source.html#l00040">notify_type.h:40</a></div></div>
<div class="ttc" id="astructEventBinding_html"><div class="ttname"><a href="structEventBinding.html">EventBinding</a></div><div class="ttdoc">A key binding Event.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00031">notify.h:32</a></div></div>
<div class="ttc" id="astructEventBinding_html_a0ad733d233568d1be0c2b320c7290c61"><div class="ttname"><a href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">EventBinding::key</a></div><div class="ttdeci">const char * key</div><div class="ttdoc">Key string being bound (for new bind/macro)</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00034">notify.h:34</a></div></div>
<div class="ttc" id="astructEventBinding_html_a598d0913e664bdf76e0691351fbe0c5c"><div class="ttname"><a href="structEventBinding.html#a598d0913e664bdf76e0691351fbe0c5c">EventBinding::op</a></div><div class="ttdeci">int op</div><div class="ttdoc">Operation the key&#39;s bound to (for bind), e.g. OP_DELETE.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00035">notify.h:35</a></div></div>
<div class="ttc" id="astructMenuFuncOp_html"><div class="ttname"><a href="structMenuFuncOp.html">MenuFuncOp</a></div><div class="ttdoc">Mapping between a function and an operation.</div><div class="ttdef"><b>Definition</b> <a href="menu_8h_source.html#l00036">menu.h:37</a></div></div>
<div class="ttc" id="astructMenuFuncOp_html_a9b0871a1dbef5ed0907e9ae681cc4abd"><div class="ttname"><a href="structMenuFuncOp.html#a9b0871a1dbef5ed0907e9ae681cc4abd">MenuFuncOp::op</a></div><div class="ttdeci">int op</div><div class="ttdoc">Operation, e.g. OP_DELETE.</div><div class="ttdef"><b>Definition</b> <a href="menu_8h_source.html#l00039">menu.h:39</a></div></div>
<div class="ttc" id="atype_8c_html_aec7b36115a7f7b0ba3e11eae75b229f5"><div class="ttname"><a href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a></div><div class="ttdeci">const struct Mapping MenuNames[]</div><div class="ttdoc">Menu name lookup table.</div><div class="ttdef"><b>Definition</b> <a href="type_8c_source.html#l00037">type.c:37</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a></div><div class="ttdeci">MenuType</div><div class="ttdoc">Types of GUI selections.</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00034">type.h:35</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a></div><div class="ttdeci">@ MENU_GENERIC</div><div class="ttdoc">Generic selection list.</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00045">type.h:45</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a></div><div class="ttdeci">@ MENU_PAGER</div><div class="ttdoc">Pager pager (email viewer)</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00047">type.h:47</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a></div><div class="ttdeci">@ MENU_MAX</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00052">type.h:52</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a></div><div class="ttdeci">@ MENU_EDITOR</div><div class="ttdoc">Text entry area.</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00044">type.h:44</a></div></div>
</div><!-- fragment --><div id="dynsection-55" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gac44ec79cbd056f5f14eafa23fd4f1145_cgraph.svg" width="834" height="1251"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gaf2cf5727cd4c3b3c4d92b42640b0de2d" name="gaf2cf5727cd4c3b3c4d92b42640b0de2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2cf5727cd4c3b3c4d92b42640b0de2d">&#9670;&#160;</a></span>parse_unbind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unbind </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unbind' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p><a class="el" href="structCommand.html">Command</a> unbinds:</p><ul>
<li>one binding in one menu-name</li>
<li>one binding in all menu-names</li>
<li>all bindings in all menu-names</li>
</ul>
<p>Parse:</p><ul>
<li><code>unbind { * | &lt;menu&gt;[,&lt;menu&gt; ... ] } [ &lt;key&gt; ]</code></li>
<li><code>unmacro { * | &lt;menu&gt;[,&lt;menu&gt; ... ] } [ &lt;key&gt; ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="key_2commands_8c_source.html#l00472">472</a> of file <a class="el" href="key_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  474</span>{</div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  476</span>  {</div>
<div class="line"><span class="lineno">  477</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  479</span>  }</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  482</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>  <span class="keywordtype">bool</span> menu_matches[<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordtype">bool</span> all_keys = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  486</span>  <span class="keywordtype">char</span> *key = NULL;</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  489</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">  490</span>  {</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">for</span> (<span class="keyword">enum</span> <a class="code hl_enumeration" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> i = 1; i &lt; <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>; i++)</div>
<div class="line"><span class="lineno">  492</span>      menu_matches[i] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  493</span>  }</div>
<div class="line"><span class="lineno">  494</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  495</span>  {</div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_function" href="key_2commands_8c.html#abc3f606dc22c10c7af39dd8cafc906e4">parse_menu</a>(menu_matches, token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, err);</div>
<div class="line"><span class="lineno">  497</span>  }</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  500</span>  {</div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  502</span>    key = token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div>
<div class="line"><span class="lineno">  503</span>  }</div>
<div class="line"><span class="lineno">  504</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  505</span>  {</div>
<div class="line"><span class="lineno">  506</span>    all_keys = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  507</span>  }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  510</span>  {</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  513</span>  }</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>  <span class="keywordflow">for</span> (<span class="keyword">enum</span> <a class="code hl_enumeration" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> i = 1; i &lt; <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>; i++)</div>
<div class="line"><span class="lineno">  516</span>  {</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">if</span> (!menu_matches[i])</div>
<div class="line"><span class="lineno">  518</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">if</span> (all_keys)</div>
<div class="line"><span class="lineno">  521</span>    {</div>
<div class="line"><span class="lineno">  522</span>      <a class="code hl_function" href="key_2commands_8c.html#a38a695f1bbfde2b1aaa5325b9ca78240">km_unbind_all</a>(&amp;<a class="code hl_variable" href="key_2lib_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a>[i], cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a>);</div>
<div class="line"><span class="lineno">  523</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;&lt;enter&gt;&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>, OP_GENERIC_SELECT_ENTRY, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  524</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;&lt;return&gt;&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>, OP_GENERIC_SELECT_ENTRY, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  525</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;&lt;enter&gt;&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4a0afea51eb66be4c2e856b047b0db4cd7">MENU_INDEX</a>, OP_DISPLAY_MESSAGE, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  526</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;&lt;return&gt;&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4a0afea51eb66be4c2e856b047b0db4cd7">MENU_INDEX</a>, OP_DISPLAY_MESSAGE, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  527</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;&lt;backspace&gt;&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>, OP_EDITOR_BACKSPACE, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  528</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;\177&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>, OP_EDITOR_BACKSPACE, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  529</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;:&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>, OP_ENTER_COMMAND, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  530</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;:&quot;</span>, <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>, OP_ENTER_COMMAND, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  531</span>      <span class="keywordflow">if</span> (i != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>)</div>
<div class="line"><span class="lineno">  532</span>      {</div>
<div class="line"><span class="lineno">  533</span>        <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;?&quot;</span>, i, OP_HELP, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  534</span>        <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<span class="stringliteral">&quot;q&quot;</span>, i, OP_EXIT, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  535</span>      }</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>      <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(i, <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  538</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_MACRO_DELETE_ALL: %s\n&quot;</span>, mname);</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { i, NULL, OP_NULL };</div>
<div class="line"><span class="lineno">  541</span>      <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>,</div>
<div class="line"><span class="lineno">  542</span>                  (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1cd1ddfa5f266df2142f0fdf61611d07">CMD_UNMACRO</a>) ? <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a29308e212d9cecf34aaf3df131be0928">NT_MACRO_DELETE_ALL</a> : <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8afa66cceb085f5be3d000701f5446bb17">NT_BINDING_DELETE_ALL</a>,</div>
<div class="line"><span class="lineno">  543</span>                  &amp;ev_b);</div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  546</span>    {</div>
<div class="line"><span class="lineno">  547</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *keystr = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  548</span>      <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(key, keystr);</div>
<div class="line"><span class="lineno">  549</span>      <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(i, <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  550</span>      <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_MACRO_DELETE: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  551</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;keystr);</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>      <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(key, i, OP_NULL, NULL, NULL, NULL);</div>
<div class="line"><span class="lineno">  554</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { i, <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, OP_NULL };</div>
<div class="line"><span class="lineno">  555</span>      <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>,</div>
<div class="line"><span class="lineno">  556</span>                  (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1cd1ddfa5f266df2142f0fdf61611d07">CMD_UNMACRO</a>) ? <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a24fc9cfb2ccc8aa2809d36cde522ebd6">NT_MACRO_DELETE</a> : <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a379b524231af6bf9c9acfa1eeb756838">NT_BINDING_DELETE</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  557</span>    }</div>
<div class="line"><span class="lineno">  558</span>  }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>done:</div>
<div class="line"><span class="lineno">  563</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  564</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  565</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aa1cd1ddfa5f266df2142f0fdf61611d07"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa1cd1ddfa5f266df2142f0fdf61611d07">CMD_UNMACRO</a></div><div class="ttdeci">@ CMD_UNMACRO</div><div class="ttdoc">:unmacro</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00133">command.h:133</a></div></div>
<div class="ttc" id="akey_2commands_8c_html_a38a695f1bbfde2b1aaa5325b9ca78240"><div class="ttname"><a href="key_2commands_8c.html#a38a695f1bbfde2b1aaa5325b9ca78240">km_unbind_all</a></div><div class="ttdeci">static void km_unbind_all(struct KeymapList *km_list, enum CommandId id)</div><div class="ttdoc">Free all the keys in the supplied Keymap.</div><div class="ttdef"><b>Definition</b> <a href="key_2commands_8c_source.html#l00161">commands.c:161</a></div></div>
<div class="ttc" id="akey_2commands_8c_html_abc3f606dc22c10c7af39dd8cafc906e4"><div class="ttname"><a href="key_2commands_8c.html#abc3f606dc22c10c7af39dd8cafc906e4">parse_menu</a></div><div class="ttdeci">void * parse_menu(bool *menus, const char *s, struct Buffer *err)</div><div class="ttdoc">Parse menu-names into an array.</div><div class="ttdef"><b>Definition</b> <a href="key_2commands_8c_source.html#l00253">commands.c:253</a></div></div>
<div class="ttc" id="akey_2lib_8c_html_a786f5d70631dfcec23d9e9439304d52e"><div class="ttname"><a href="key_2lib_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a></div><div class="ttdeci">struct KeymapList Keymaps[MENU_MAX]</div><div class="ttdoc">Array of key mappings, one for each MenuType.</div><div class="ttdef"><b>Definition</b> <a href="key_2lib_8c_source.html#l00056">lib.c:56</a></div></div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8a24fc9cfb2ccc8aa2809d36cde522ebd6"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a24fc9cfb2ccc8aa2809d36cde522ebd6">NT_MACRO_DELETE</a></div><div class="ttdeci">@ NT_MACRO_DELETE</div><div class="ttdoc">Key macro has been deleted.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00052">notify.h:52</a></div></div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8a29308e212d9cecf34aaf3df131be0928"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a29308e212d9cecf34aaf3df131be0928">NT_MACRO_DELETE_ALL</a></div><div class="ttdeci">@ NT_MACRO_DELETE_ALL</div><div class="ttdoc">All key macros have been deleted.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00053">notify.h:53</a></div></div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8afa66cceb085f5be3d000701f5446bb17"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8afa66cceb085f5be3d000701f5446bb17">NT_BINDING_DELETE_ALL</a></div><div class="ttdeci">@ NT_BINDING_DELETE_ALL</div><div class="ttdoc">All key bindings have been deleted.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00049">notify.h:49</a></div></div>
<div class="ttc" id="atype_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4a0afea51eb66be4c2e856b047b0db4cd7"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4a0afea51eb66be4c2e856b047b0db4cd7">MENU_INDEX</a></div><div class="ttdeci">@ MENU_INDEX</div><div class="ttdoc">Index panel (list of emails)</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00046">type.h:46</a></div></div>
</div><!-- fragment --><div id="dynsection-56" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gaf2cf5727cd4c3b3c4d92b42640b0de2d_cgraph.svg" width="527" height="623"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga727bd820b00f1f2e40405a32ecc2df5b" name="ga727bd820b00f1f2e40405a32ecc2df5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga727bd820b00f1f2e40405a32ecc2df5b">&#9670;&#160;</a></span>parse_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_macro </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'macro' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>macro &lt;menu&gt;[,&lt;menu&gt; ... ] &lt;key&gt; &lt;sequence&gt; [ &lt;description&gt; ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="key_2commands_8c_source.html#l00573">573</a> of file <a class="el" href="key_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  575</span>{</div>
<div class="line"><span class="lineno">  576</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="config_2set_8h.html#aaf8eacd4749948bf6d877a63eb886322">StartupComplete</a>)</div>
<div class="line"><span class="lineno">  577</span>  {</div>
<div class="line"><span class="lineno">  578</span>    <span class="comment">// Save and restore the offset in `line` because parse_bind_macro() might change it</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordtype">char</span> *dptr = line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>;</div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#ga6939e8e4e9c591a188025b7a66c291cd">parse_bind_macro</a>(cmd, line, err) == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  581</span>    {</div>
<div class="line"><span class="lineno">  582</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  583</span>    }</div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="buffer_8c.html#a4245e227baa2a9beb6991917404aab0d">buf_is_empty</a>(err))</div>
<div class="line"><span class="lineno">  585</span>    {</div>
<div class="line"><span class="lineno">  586</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  587</span>    }</div>
<div class="line"><span class="lineno">  588</span>    line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> = dptr;</div>
<div class="line"><span class="lineno">  589</span>  }</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> mtypes[<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>];</div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordtype">int</span> num_menus = 0;</div>
<div class="line"><span class="lineno">  593</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  594</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *keystr = NULL;</div>
<div class="line"><span class="lineno">  595</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>  <span class="keywordtype">char</span> *key = <a class="code hl_function" href="key_2commands_8c.html#a70cab218969532c54f72c3061b1bb3f6">parse_keymap</a>(mtypes, line, <a class="code hl_define" href="memory_8h.html#a13aaf9e9e194ebfd84f90bcf4e264aca">countof</a>(mtypes), &amp;num_menus, err, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  598</span>  <span class="keywordflow">if</span> (!key)</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a672e649702e820a97200b3da0b54ddf3">TOKEN_CONDENSE</a>);</div>
<div class="line"><span class="lineno">  602</span>  <span class="comment">/* make sure the macro sequence is not an empty string */</span></div>
<div class="line"><span class="lineno">  603</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="buffer_8c.html#a52e24da79941dc16d5577dac9dfc2698">buf_at</a>(token, 0) == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">  604</span>  {</div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;macro: empty key sequence&quot;</span>));</div>
<div class="line"><span class="lineno">  606</span>  }</div>
<div class="line"><span class="lineno">  607</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  608</span>  {</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  610</span>    {</div>
<div class="line"><span class="lineno">  611</span>      <span class="keywordtype">char</span> *seq = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  612</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#a672e649702e820a97200b3da0b54ddf3">TOKEN_CONDENSE</a>);</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>      <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  615</span>      {</div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  617</span>      }</div>
<div class="line"><span class="lineno">  618</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  619</span>      {</div>
<div class="line"><span class="lineno">  620</span>        keystr = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_menus; i++)</div>
<div class="line"><span class="lineno">  622</span>        {</div>
<div class="line"><span class="lineno">  623</span>          rc = <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(key, mtypes[i], OP_MACRO, seq, token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, NULL);</div>
<div class="line"><span class="lineno">  624</span>          <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  625</span>          {</div>
<div class="line"><span class="lineno">  626</span>            <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(keystr);</div>
<div class="line"><span class="lineno">  627</span>            <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(key, keystr);</div>
<div class="line"><span class="lineno">  628</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(mtypes[i], <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  629</span>            <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_MACRO_NEW: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>            <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { mtypes[i], <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, OP_MACRO };</div>
<div class="line"><span class="lineno">  632</span>            <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>, <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a161c5e0870a8d0cc54530d19b70743d6">NT_MACRO_ADD</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  634</span>          }</div>
<div class="line"><span class="lineno">  635</span>        }</div>
<div class="line"><span class="lineno">  636</span>      }</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;seq);</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  641</span>    {</div>
<div class="line"><span class="lineno">  642</span>      keystr = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  643</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_menus; i++)</div>
<div class="line"><span class="lineno">  644</span>      {</div>
<div class="line"><span class="lineno">  645</span>        rc = <a class="code hl_function" href="key_2commands_8c.html#a11591b7917643bd6420fa3816d48abe2">km_bind</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, mtypes[i], OP_MACRO, token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, NULL, NULL);</div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  647</span>        {</div>
<div class="line"><span class="lineno">  648</span>          <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(keystr);</div>
<div class="line"><span class="lineno">  649</span>          <a class="code hl_function" href="key_2keymap_8c.html#a6a3eb9319222d6f57a788cfa9521b073">keymap_expand_string</a>(<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, keystr);</div>
<div class="line"><span class="lineno">  650</span>          <span class="keyword">const</span> <span class="keywordtype">char</span> *mname = <a class="code hl_function" href="mapping_8c.html#ae52d375da6dc3039d2341ae4ace4f557">mutt_map_get_name</a>(mtypes[i], <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  651</span>          <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ae42597be1ed1040ef128b6367d17bb73">LL_NOTIFY</a>, <span class="stringliteral">&quot;NT_MACRO_NEW: %s %s\n&quot;</span>, mname, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(keystr));</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>          <span class="keyword">struct </span><a class="code hl_struct" href="structEventBinding.html">EventBinding</a> ev_b = { mtypes[i], <a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>, OP_MACRO };</div>
<div class="line"><span class="lineno">  654</span>          <a class="code hl_function" href="mutt_2notify_8c.html#ade2f42f8e0d8a843e87816300799a8e1">notify_send</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#adaa5ed0e6cc9e642769b0df74594700b">notify</a>, <a class="code hl_enumvalue" href="notify__type_8h.html#addc4b6302e217e9dffab38d9dd5c02f8a49474be450c58c1bd5f340ab11f855cc">NT_BINDING</a>, <a class="code hl_enumvalue" href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a161c5e0870a8d0cc54530d19b70743d6">NT_MACRO_ADD</a>, &amp;ev_b);</div>
<div class="line"><span class="lineno">  655</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  656</span>        }</div>
<div class="line"><span class="lineno">  657</span>      }</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span>  }</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>done:</div>
<div class="line"><span class="lineno">  662</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;<a class="code hl_variable" href="structEventBinding.html#a0ad733d233568d1be0c2b320c7290c61">key</a>);</div>
<div class="line"><span class="lineno">  663</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;keystr);</div>
<div class="line"><span class="lineno">  664</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  665</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  666</span>}</div>
<div class="ttc" id="akey_2notify_8h_html_a16cc241d9d21e873d82c7a7576547fa8a161c5e0870a8d0cc54530d19b70743d6"><div class="ttname"><a href="key_2notify_8h.html#a16cc241d9d21e873d82c7a7576547fa8a161c5e0870a8d0cc54530d19b70743d6">NT_MACRO_ADD</a></div><div class="ttdeci">@ NT_MACRO_ADD</div><div class="ttdoc">Key macro has been added.</div><div class="ttdef"><b>Definition</b> <a href="key_2notify_8h_source.html#l00051">notify.h:51</a></div></div>
</div><!-- fragment --><div id="dynsection-57" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga727bd820b00f1f2e40405a32ecc2df5b_cgraph.svg" width="824" height="1086"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga91bb4f235f1b7d4acff9adf169fee394" name="ga91bb4f235f1b7d4acff9adf169fee394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91bb4f235f1b7d4acff9adf169fee394">&#9670;&#160;</a></span>parse_exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_exec </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'exec' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>exec &lt;function&gt; [ &lt;function&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="key_2commands_8c_source.html#l00674">674</a> of file <a class="el" href="key_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  676</span>{</div>
<div class="line"><span class="lineno">  677</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  678</span>  {</div>
<div class="line"><span class="lineno">  679</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  680</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  681</span>  }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  684</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>  <span class="keywordtype">int</span> ops[128];</div>
<div class="line"><span class="lineno">  687</span>  <span class="keywordtype">int</span> nops = 0;</div>
<div class="line"><span class="lineno">  688</span>  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structMenuFuncOp.html">MenuFuncOp</a> *funcs = NULL;</div>
<div class="line"><span class="lineno">  689</span>  <span class="keywordtype">char</span> *function = NULL;</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  692</span>  {</div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  694</span>    function = token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code hl_enumeration" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> mtype = <a class="code hl_function" href="menu_2lib_8h.html#a013e9479d1c73c84da1994c44a61c30a">menu_get_current_type</a>();</div>
<div class="line"><span class="lineno">  697</span>    funcs = <a class="code hl_function" href="key_2lib_8c.html#ac73ba4b4de1642f905738d2da0e79d91">km_get_table</a>(mtype);</div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">if</span> (!funcs &amp;&amp; (mtype != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>))</div>
<div class="line"><span class="lineno">  699</span>      funcs = <a class="code hl_variable" href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a>;</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    ops[nops] = <a class="code hl_function" href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a>(funcs, function, <a class="code hl_function" href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a>(function));</div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">if</span> ((ops[nops] == OP_NULL) &amp;&amp; (mtype != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>) &amp;&amp; (mtype != <a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>))</div>
<div class="line"><span class="lineno">  703</span>    {</div>
<div class="line"><span class="lineno">  704</span>      ops[nops] = <a class="code hl_function" href="key_2lib_8h.html#a18ae8a0c8776ebaa9867a112b4f5a4c3">km_get_op</a>(<a class="code hl_variable" href="gui_2functions_8c.html#a3457ad68df60a03b25a1a85b71a22822">OpGeneric</a>, function, <a class="code hl_function" href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a>(function));</div>
<div class="line"><span class="lineno">  705</span>    }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordflow">if</span> (ops[nops] == OP_NULL)</div>
<div class="line"><span class="lineno">  708</span>    {</div>
<div class="line"><span class="lineno">  709</span>      <a class="code hl_function" href="get_8c.html#a31e6cf5a50bccf3cb75b6a7f2ecf1405">mutt_flushinp</a>();</div>
<div class="line"><span class="lineno">  710</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: no such function&quot;</span>), function);</div>
<div class="line"><span class="lineno">  711</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span>    nops++;</div>
<div class="line"><span class="lineno">  714</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line) &amp;&amp; nops &lt; <a class="code hl_define" href="memory_8h.html#a13aaf9e9e194ebfd84f90bcf4e264aca">countof</a>(ops));</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>  <span class="keywordflow">while</span> (nops)</div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_function" href="get_8c.html#a6fb1a3233123b74771ce95c448b22b79">mutt_push_macro_event</a>(0, ops[--nops]);</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>done:</div>
<div class="line"><span class="lineno">  722</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  723</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  724</span>}</div>
<div class="ttc" id="aget_8c_html_a31e6cf5a50bccf3cb75b6a7f2ecf1405"><div class="ttname"><a href="get_8c.html#a31e6cf5a50bccf3cb75b6a7f2ecf1405">mutt_flushinp</a></div><div class="ttdeci">void mutt_flushinp(void)</div><div class="ttdoc">Empty all the keyboard buffers.</div><div class="ttdef"><b>Definition</b> <a href="get_8c_source.html#l00058">get.c:58</a></div></div>
<div class="ttc" id="aget_8c_html_a6fb1a3233123b74771ce95c448b22b79"><div class="ttname"><a href="get_8c.html#a6fb1a3233123b74771ce95c448b22b79">mutt_push_macro_event</a></div><div class="ttdeci">void mutt_push_macro_event(int ch, int op)</div><div class="ttdoc">Add the character/operation to the macro buffer.</div><div class="ttdef"><b>Definition</b> <a href="get_8c_source.html#l00155">get.c:155</a></div></div>
<div class="ttc" id="amenu_2lib_8h_html_a013e9479d1c73c84da1994c44a61c30a"><div class="ttname"><a href="menu_2lib_8h.html#a013e9479d1c73c84da1994c44a61c30a">menu_get_current_type</a></div><div class="ttdeci">enum MenuType menu_get_current_type(void)</div><div class="ttdoc">Get the type of the current Window.</div><div class="ttdef"><b>Definition</b> <a href="menu_2menu_8c_source.html#l00089">menu.c:89</a></div></div>
</div><!-- fragment --><div id="dynsection-58" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga91bb4f235f1b7d4acff9adf169fee394_cgraph.svg" width="496" height="524"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga6939e8e4e9c591a188025b7a66c291cd" name="ga6939e8e4e9c591a188025b7a66c291cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6939e8e4e9c591a188025b7a66c291cd">&#9670;&#160;</a></span>parse_bind_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_bind_macro </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse 'bind' and 'macro' commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="key_2dump_8c_source.html#l00176">176</a> of file <a class="el" href="key_2dump_8c_source.html">dump.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span>{</div>
<div class="line"><span class="lineno">  179</span>  FILE *fp = NULL;</div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordtype">bool</span> dump_all = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  181</span>  <span class="keywordtype">bool</span> bind = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aa5fe18d852766cc28e9641ff4d0e3b6f">data</a> == 0);</div>
<div class="line"><span class="lineno">  182</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  183</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = NULL;</div>
<div class="line"><span class="lineno">  184</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  187</span>    dump_all = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  188</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  192</span>  {</div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">/* More arguments potentially means the user is using the</span></div>
<div class="line"><span class="lineno">  194</span><span class="comment">     * ::command_t :bind command thus we delegate the task. */</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  196</span>  }</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  199</span>  <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno">  200</span>  fp = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile), <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  201</span>  <span class="keywordflow">if</span> (!fp)</div>
<div class="line"><span class="lineno">  202</span>  {</div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">// L10N: &#39;%s&#39; is the file name of the temporary file</span></div>
<div class="line"><span class="lineno">  204</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not create temporary file %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile));</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>  <span class="keywordflow">if</span> (dump_all || <a class="code hl_function" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <span class="stringliteral">&quot;all&quot;</span>))</div>
<div class="line"><span class="lineno">  209</span>  {</div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">if</span> (bind)</div>
<div class="line"><span class="lineno">  211</span>      <a class="code hl_function" href="key_2dump_8c.html#a4329479a5e21c31c36dff00ff0691ee5">colon_bind</a>(<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>, fp);</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  213</span>      <a class="code hl_function" href="key_2dump_8c.html#a0430c781640b98645ee9b2cd7e11fa78">colon_macro</a>(<a class="code hl_enumvalue" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cc8139b769f0c2947988d54dfb1eae">MENU_MAX</a>, fp);</div>
<div class="line"><span class="lineno">  214</span>  }</div>
<div class="line"><span class="lineno">  215</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  216</span>  {</div>
<div class="line"><span class="lineno">  217</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> menu = <a class="code hl_function" href="mapping_8c.html#a7fbce597ae32241423b64dad5a0173a3">mutt_map_get_value</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), <a class="code hl_variable" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> (menu == -1)</div>
<div class="line"><span class="lineno">  219</span>    {</div>
<div class="line"><span class="lineno">  220</span>      <span class="comment">// L10N: &#39;%s&#39; is the (misspelled) name of the menu, e.g. &#39;index&#39; or &#39;pager&#39;</span></div>
<div class="line"><span class="lineno">  221</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: no such menu&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  222</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  223</span>    }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (bind)</div>
<div class="line"><span class="lineno">  226</span>      <a class="code hl_function" href="key_2dump_8c.html#a4329479a5e21c31c36dff00ff0691ee5">colon_bind</a>(menu, fp);</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  228</span>      <a class="code hl_function" href="key_2dump_8c.html#a0430c781640b98645ee9b2cd7e11fa78">colon_macro</a>(menu, fp);</div>
<div class="line"><span class="lineno">  229</span>  }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>  <span class="keywordflow">if</span> (ftello(fp) == 0)</div>
<div class="line"><span class="lineno">  232</span>  {</div>
<div class="line"><span class="lineno">  233</span>    <span class="comment">// L10N: &#39;%s&#39; is the name of the menu, e.g. &#39;index&#39; or &#39;pager&#39;,</span></div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">//       it might also be &#39;all&#39; when all menus are affected.</span></div>
<div class="line"><span class="lineno">  235</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, bind ? <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: no binds for this menu&quot;</span>) : <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: no macros for this menu&quot;</span>),</div>
<div class="line"><span class="lineno">  236</span>               dump_all ? <span class="stringliteral">&quot;all&quot;</span> : <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  238</span>  }</div>
<div class="line"><span class="lineno">  239</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerData.html">PagerData</a> pdata = { 0 };</div>
<div class="line"><span class="lineno">  242</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPagerView.html">PagerView</a> pview = { &amp;<a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a> };</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  <a class="code hl_variable" href="structPagerView.html#a29102d8862e5aabcfcfe86da4c8e3921">pdata</a>.<a class="code hl_variable" href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">fname</a> = <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile);</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>  pview.<a class="code hl_variable" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a> = cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>;</div>
<div class="line"><span class="lineno">  247</span>  pview.<a class="code hl_variable" href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">flags</a> = <a class="code hl_define" href="pager_2lib_8h.html#a0a536da5cd7ad9b881a8079052853818">MUTT_PAGER_NO_FLAGS</a>;</div>
<div class="line"><span class="lineno">  248</span>  pview.<a class="code hl_variable" href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">mode</a> = <a class="code hl_enumvalue" href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aa349af1aff604e50301670aff8a40c161">PAGER_MODE_OTHER</a>;</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_function" href="do__pager_8c.html#a9d3af21b7fdf24249c261a9a1aa9f3be">mutt_do_pager</a>(&amp;pview, NULL);</div>
<div class="line"><span class="lineno">  251</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>done:</div>
<div class="line"><span class="lineno">  254</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;fp);</div>
<div class="line"><span class="lineno">  255</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  256</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  259</span>}</div>
<div class="ttc" id="akey_2dump_8c_html_a0430c781640b98645ee9b2cd7e11fa78"><div class="ttname"><a href="key_2dump_8c.html#a0430c781640b98645ee9b2cd7e11fa78">colon_macro</a></div><div class="ttdeci">void colon_macro(enum MenuType menu, FILE *fp)</div><div class="ttdoc">Dump the macros.</div><div class="ttdef"><b>Definition</b> <a href="key_2dump_8c_source.html#l00154">dump.c:154</a></div></div>
<div class="ttc" id="akey_2dump_8c_html_a4329479a5e21c31c36dff00ff0691ee5"><div class="ttname"><a href="key_2dump_8c.html#a4329479a5e21c31c36dff00ff0691ee5">colon_bind</a></div><div class="ttdeci">void colon_bind(enum MenuType menu, FILE *fp)</div><div class="ttdoc">Dump the key bindings.</div><div class="ttdef"><b>Definition</b> <a href="key_2dump_8c_source.html#l00088">dump.c:88</a></div></div>
<div class="ttc" id="amapping_8c_html_a7fbce597ae32241423b64dad5a0173a3"><div class="ttname"><a href="mapping_8c.html#a7fbce597ae32241423b64dad5a0173a3">mutt_map_get_value</a></div><div class="ttdeci">int mutt_map_get_value(const char *name, const struct Mapping *map)</div><div class="ttdoc">Lookup the constant for a string.</div><div class="ttdef"><b>Definition</b> <a href="mapping_8c_source.html#l00085">mapping.c:85</a></div></div>
</div><!-- fragment --><div id="dynsection-59" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga6939e8e4e9c591a188025b7a66c291cd_cgraph.svg" width="518" height="520"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-60" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga6939e8e4e9c591a188025b7a66c291cd_icgraph.svg" width="292" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gad4795027174065eafbb5e54ba67c31cb" name="gad4795027174065eafbb5e54ba67c31cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4795027174065eafbb5e54ba67c31cb">&#9670;&#160;</a></span>parse_lua()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_lua </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'lua' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>lua "&lt;lua-commands&gt;"</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="lua_2commands_8c_source.html#l00057">57</a> of file <a class="el" href="lua_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   60</span>  {</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   63</span>  }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   66</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>  <a class="code hl_function" href="lua_2commands_8c.html#a1ca6931a0511c595fa9fae834e356d3b">lua_init_state</a>(&amp;<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>);</div>
<div class="line"><span class="lineno">   71</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordflow">if</span> (luaL_dostring(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) != LUA_OK)</div>
<div class="line"><span class="lineno">   74</span>  {</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s -&gt; failure\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <span class="stringliteral">&quot;%s: %s&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), lua_tostring(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, -1));</div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">/* pop error message from the stack */</span></div>
<div class="line"><span class="lineno">   78</span>    lua_pop(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, 1);</div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="line"><span class="lineno">   81</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s -&gt; success\n&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">   82</span>  <a class="code hl_function" href="buffer_8c.html#a3b1f80652b37dc26046f9acdd85a0b05">buf_reset</a>(line); <span class="comment">// Clear the rest of the line</span></div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>done:</div>
<div class="line"><span class="lineno">   87</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">   88</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">   89</span>}</div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdeci">@ LL_DEBUG2</div><div class="ttdoc">Log at debug level 2.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00046">logging2.h:46</a></div></div>
<div class="ttc" id="alua_2commands_8c_html_a1ca6931a0511c595fa9fae834e356d3b"><div class="ttname"><a href="lua_2commands_8c.html#a1ca6931a0511c595fa9fae834e356d3b">lua_init_state</a></div><div class="ttdeci">bool lua_init_state(lua_State **l)</div><div class="ttdoc">Initialise a Lua State.</div><div class="ttdef"><b>Definition</b> <a href="lua_8c_source.html#l00436">lua.c:436</a></div></div>
<div class="ttc" id="alua_2commands_8c_html_a8af176d3e7c60ee4905f03742bd621da"><div class="ttname"><a href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a></div><div class="ttdeci">lua_State * LuaState</div><div class="ttdoc">Global Lua State.</div><div class="ttdef"><b>Definition</b> <a href="lua_8c_source.html#l00056">lua.c:56</a></div></div>
</div><!-- fragment --><div id="dynsection-61" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_gad4795027174065eafbb5e54ba67c31cb_cgraph.svg" width="588" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga6136bc5edcef58dcf6f332253d0a1454" name="ga6136bc5edcef58dcf6f332253d0a1454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6136bc5edcef58dcf6f332253d0a1454">&#9670;&#160;</a></span>parse_lua_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_lua_source </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'lua-source' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>lua-source &lt;file&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="lua_2commands_8c_source.html#l00097">97</a> of file <a class="el" href="lua_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>{</div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  101</span>  {</div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  104</span>  }</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  107</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;enter\n&quot;</span>);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  <a class="code hl_function" href="lua_2commands_8c.html#a1ca6931a0511c595fa9fae834e356d3b">lua_init_state</a>(&amp;<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>) != 0)</div>
<div class="line"><span class="lineno">  114</span>  {</div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;source: error at %s&quot;</span>), line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>);</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  117</span>  }</div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  119</span>  {</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  121</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  123</span>  }</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(token);</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (luaL_dofile(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)) != LUA_OK)</div>
<div class="line"><span class="lineno">  128</span>  {</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Couldn&#39;t source lua source: %s&quot;</span>), lua_tostring(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, -1));</div>
<div class="line"><span class="lineno">  130</span>    lua_pop(<a class="code hl_variable" href="lua_2commands_8c.html#a8af176d3e7c60ee4905f03742bd621da">LuaState</a>, 1);</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  132</span>  }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>done:</div>
<div class="line"><span class="lineno">  137</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  138</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  139</span>}</div>
</div><!-- fragment --><div id="dynsection-62" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga6136bc5edcef58dcf6f332253d0a1454_cgraph.svg" width="507" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga9b9b16f5640cbd5ff73b8f834008bd31" name="ga9b9b16f5640cbd5ff73b8f834008bd31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b9b16f5640cbd5ff73b8f834008bd31">&#9670;&#160;</a></span>parse_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_set </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'set' family of commands - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>reset &lt;variable&gt; [ &lt;variable&gt; ... ]</code></li>
<li><code>set { [ no | inv | &amp; ] &lt;variable&gt; [?] | &lt;variable&gt; [=|+=|-=] value } [... ]</code></li>
<li><code>toggle &lt;variable&gt; [ &lt;variable&gt; ... ]</code></li>
<li><code>unset &lt;variable&gt; [ &lt;variable&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="parse_2set_8c_source.html#l00473">473</a> of file <a class="el" href="parse_2set_8c_source.html">set.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  474</span>{</div>
<div class="line"><span class="lineno">  475</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  476</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">  479</span>  {</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordtype">bool</span> prefix = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordtype">bool</span> query = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">bool</span> inv = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaef47aa17366d23021c3bfadc213af3c3">CMD_TOGGLE</a>);</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordtype">bool</span> reset = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aae71f12b62f9fca54c98ef9630f8fcad1">CMD_RESET</a>);</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordtype">bool</span> unset = (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaf0b3c32c60c90acaf019be257f98f04e">CMD_UNSET</a>);</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  487</span>    {</div>
<div class="line"><span class="lineno">  488</span>      prefix = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  489</span>      query = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  490</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  491</span>    }</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>, <span class="stringliteral">&quot;no&quot;</span>))</div>
<div class="line"><span class="lineno">  493</span>    {</div>
<div class="line"><span class="lineno">  494</span>      prefix = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  495</span>      unset = !unset;</div>
<div class="line"><span class="lineno">  496</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> += 2;</div>
<div class="line"><span class="lineno">  497</span>    }</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>, <span class="stringliteral">&quot;inv&quot;</span>))</div>
<div class="line"><span class="lineno">  499</span>    {</div>
<div class="line"><span class="lineno">  500</span>      prefix = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  501</span>      inv = !inv;</div>
<div class="line"><span class="lineno">  502</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> += 3;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;&amp;&#39;</span>)</div>
<div class="line"><span class="lineno">  505</span>    {</div>
<div class="line"><span class="lineno">  506</span>      prefix = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  507</span>      reset = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  508</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  509</span>    }</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (prefix &amp;&amp; (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> != <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaf159e9c0879325c0a2a9af66c5386654">CMD_SET</a>))</div>
<div class="line"><span class="lineno">  512</span>    {</div>
<div class="line"><span class="lineno">  513</span>      <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t use &#39;inv&#39;, &#39;no&#39;, &#39;&amp;&#39; or &#39;?&#39; with the &#39;%s&#39; command&quot;</span>),</div>
<div class="line"><span class="lineno">  514</span>                 cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  515</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  516</span>    }</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>    <span class="comment">// get the variable name.  Note that token might be empty if no additional</span></div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">// argument was given.</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line,</div>
<div class="line"><span class="lineno">  521</span>                                  <a class="code hl_define" href="extract_8h.html#a64ef0ce4d8a3c73c17f194272def1880">TOKEN_EQUAL</a> | <a class="code hl_define" href="extract_8h.html#ac237dcc2e1cefc5cf6276cc77b80b9c1">TOKEN_QUESTION</a> | <a class="code hl_define" href="extract_8h.html#a731d8feadddcd5297ae1ad4984d66bba">TOKEN_PLUS</a> | <a class="code hl_define" href="extract_8h.html#a88c55f9da3473fe098c0bd2bbd7bb266">TOKEN_MINUS</a>);</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">if</span> (ret == -1)</div>
<div class="line"><span class="lineno">  523</span>    {</div>
<div class="line"><span class="lineno">  524</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  525</span>      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordtype">bool</span> bool_or_quad = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordtype">bool</span> invertible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordtype">bool</span> equals = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordtype">bool</span> increment = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordtype">bool</span> decrement = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structHashElem.html">HashElem</a> *he = <a class="code hl_function" href="subset_8c.html#ac22ac8f8fd30068d1d00fd3fdd3394e5">cs_subset_lookup</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token));</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (he)</div>
<div class="line"><span class="lineno">  536</span>    {</div>
<div class="line"><span class="lineno">  537</span>      <span class="comment">// Use the correct name if a synonym is used</span></div>
<div class="line"><span class="lineno">  538</span>      <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(token, he-&gt;<a class="code hl_variable" href="structHashElem.html#aad741b08743ae4afe22e9b2407820b35">key</a>.<a class="code hl_variable" href="unionHashKey.html#a356e42fcecbc8232b01ef3b9e3368811">strkey</a>);</div>
<div class="line"><span class="lineno">  539</span>      bool_or_quad = ((<a class="code hl_define" href="types_8h.html#a03e4dd17f797746b072864956223eeca">CONFIG_TYPE</a>(he-&gt;<a class="code hl_variable" href="structHashElem.html#aafb6e3d6500e9f3dee67b7eab85f0480">type</a>) == <a class="code hl_enumvalue" href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a23a27697955ba33fa0fa54d51c63427b">DT_BOOL</a>) ||</div>
<div class="line"><span class="lineno">  540</span>                      (<a class="code hl_define" href="types_8h.html#a03e4dd17f797746b072864956223eeca">CONFIG_TYPE</a>(he-&gt;<a class="code hl_variable" href="structHashElem.html#aafb6e3d6500e9f3dee67b7eab85f0480">type</a>) == <a class="code hl_enumvalue" href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a244644a8044916f5238c165054d53303">DT_QUAD</a>));</div>
<div class="line"><span class="lineno">  541</span>      invertible = (bool_or_quad || (<a class="code hl_define" href="types_8h.html#a03e4dd17f797746b072864956223eeca">CONFIG_TYPE</a>(he-&gt;<a class="code hl_variable" href="structHashElem.html#aafb6e3d6500e9f3dee67b7eab85f0480">type</a>) == <a class="code hl_enumvalue" href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a10a00085772a0af85d737a13047275a7">DT_NUMBER</a>));</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;?&#39;</span>)</div>
<div class="line"><span class="lineno">  545</span>    {</div>
<div class="line"><span class="lineno">  546</span>      <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><span class="lineno">  547</span>      {</div>
<div class="line"><span class="lineno">  548</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t use a prefix when querying a variable&quot;</span>));</div>
<div class="line"><span class="lineno">  549</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  550</span>      }</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>      <span class="keywordflow">if</span> (reset || unset || inv)</div>
<div class="line"><span class="lineno">  553</span>      {</div>
<div class="line"><span class="lineno">  554</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t query option with the &#39;%s&#39; command&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  555</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  556</span>      }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>      query = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  559</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  560</span>    }</div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;+&#39;</span>) || (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;-&#39;</span>))</div>
<div class="line"><span class="lineno">  562</span>    {</div>
<div class="line"><span class="lineno">  563</span>      <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><span class="lineno">  564</span>      {</div>
<div class="line"><span class="lineno">  565</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t use prefix when incrementing or decrementing a variable&quot;</span>));</div>
<div class="line"><span class="lineno">  566</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  567</span>      }</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>      <span class="keywordflow">if</span> (reset || unset || inv)</div>
<div class="line"><span class="lineno">  570</span>      {</div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t set option with the &#39;%s&#39; command&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  573</span>      }</div>
<div class="line"><span class="lineno">  574</span>      <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  575</span>        increment = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  576</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  577</span>        decrement = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  580</span>      <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno">  581</span>      {</div>
<div class="line"><span class="lineno">  582</span>        equals = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  583</span>        line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  584</span>      }</div>
<div class="line"><span class="lineno">  585</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  586</span>      {</div>
<div class="line"><span class="lineno">  587</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;&#39;+&#39; and &#39;-&#39; must be followed by &#39;=&#39;&quot;</span>));</div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  589</span>      }</div>
<div class="line"><span class="lineno">  590</span>    }</div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a> == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno">  592</span>    {</div>
<div class="line"><span class="lineno">  593</span>      <span class="keywordflow">if</span> (prefix)</div>
<div class="line"><span class="lineno">  594</span>      {</div>
<div class="line"><span class="lineno">  595</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t use prefix when setting a variable&quot;</span>));</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  597</span>      }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>      <span class="keywordflow">if</span> (reset || unset || inv)</div>
<div class="line"><span class="lineno">  600</span>      {</div>
<div class="line"><span class="lineno">  601</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t set option with the &#39;%s&#39; command&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  603</span>      }</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>      equals = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  606</span>      line-&gt;<a class="code hl_variable" href="structBuffer.html#a058d67252184c2eeaf57059544f8cdcf">dptr</a>++;</div>
<div class="line"><span class="lineno">  607</span>    }</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (!invertible &amp;&amp; (inv || (unset &amp;&amp; prefix)))</div>
<div class="line"><span class="lineno">  610</span>    {</div>
<div class="line"><span class="lineno">  611</span>      <span class="keywordflow">if</span> (cmd-&gt;<a class="code hl_variable" href="structCommand.html#aeeedcf783c47b7e84be9ecbc46b27792">id</a> == <a class="code hl_enumvalue" href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaf159e9c0879325c0a2a9af66c5386654">CMD_SET</a>)</div>
<div class="line"><span class="lineno">  612</span>      {</div>
<div class="line"><span class="lineno">  613</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Prefixes &#39;no&#39; and &#39;inv&#39; may only be used with bool/quad/number variables&quot;</span>));</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  616</span>      {</div>
<div class="line"><span class="lineno">  617</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Command &#39;%s&#39; can only be used with bool/quad/number variables&quot;</span>),</div>
<div class="line"><span class="lineno">  618</span>                   cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  619</span>      }</div>
<div class="line"><span class="lineno">  620</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  621</span>    }</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// sanity checks for the above</span></div>
<div class="line"><span class="lineno">  624</span>    <span class="comment">// Each of inv, unset reset, query, equals implies that the others are not set.</span></div>
<div class="line"><span class="lineno">  625</span>    <span class="comment">// If none of them are set, then we are dealing with a &quot;set foo&quot; command.</span></div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">// clang-format off</span></div>
<div class="line"><span class="lineno">  627</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!inv    || !(       unset || reset || query || equals          ));</div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!unset  || !(inv ||          reset || query || equals          ));</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!reset  || !(inv || unset ||          query || equals          ));</div>
<div class="line"><span class="lineno">  630</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!query  || !(inv || unset || reset ||          equals          ));</div>
<div class="line"><span class="lineno">  631</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!equals || !(inv || unset || reset || query ||           prefix));</div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">  633</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!(increment &amp;&amp; decrement)); <span class="comment">// only one of increment or decrement is set</span></div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!(increment || decrement) || equals); <span class="comment">// increment/decrement implies equals</span></div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_define" href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(!inv || invertible); <span class="comment">// inv (aka toggle) implies bool or quad</span></div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">if</span> (query)</div>
<div class="line"><span class="lineno">  639</span>    {</div>
<div class="line"><span class="lineno">  640</span>      rc = <a class="code hl_function" href="parse_2set_8c.html#a8e34a3556e65edb6a844374c81efd623">command_set_query</a>(token, err);</div>
<div class="line"><span class="lineno">  641</span>      <span class="keywordflow">goto</span> done; <span class="comment">// We can only do one query even if multiple config names are given</span></div>
<div class="line"><span class="lineno">  642</span>    }</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (reset)</div>
<div class="line"><span class="lineno">  644</span>    {</div>
<div class="line"><span class="lineno">  645</span>      rc = <a class="code hl_function" href="parse_2set_8c.html#a895f14429462b762deeb41a07c22616e">command_set_reset</a>(token, err);</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unset)</div>
<div class="line"><span class="lineno">  648</span>    {</div>
<div class="line"><span class="lineno">  649</span>      rc = <a class="code hl_function" href="parse_2set_8c.html#ab548296dfb272c5f97d0fc3dcbbabc4d">command_set_unset</a>(token, err);</div>
<div class="line"><span class="lineno">  650</span>    }</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inv)</div>
<div class="line"><span class="lineno">  652</span>    {</div>
<div class="line"><span class="lineno">  653</span>      rc = <a class="code hl_function" href="parse_2set_8c.html#a84c6e72ce9941d2f9478504390f576c4">command_set_toggle</a>(token, err);</div>
<div class="line"><span class="lineno">  654</span>    }</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (equals)</div>
<div class="line"><span class="lineno">  656</span>    {</div>
<div class="line"><span class="lineno">  657</span>      <span class="comment">// These three cases all need a value, since &#39;increment&#39;/&#39;decrement&#39;</span></div>
<div class="line"><span class="lineno">  658</span>      <span class="comment">// implies &#39;equals&#39;, we can group them in this single case guarded by</span></div>
<div class="line"><span class="lineno">  659</span>      <span class="comment">// &#39;equals&#39;.</span></div>
<div class="line"><span class="lineno">  660</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *value = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  661</span>      <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(value, line, <a class="code hl_define" href="extract_8h.html#a0350e25954f1055b666beb5ace06a92c">TOKEN_BACKTICK_VARS</a>);</div>
<div class="line"><span class="lineno">  662</span>      <span class="keywordflow">if</span> (increment)</div>
<div class="line"><span class="lineno">  663</span>        rc = <a class="code hl_function" href="parse_2set_8c.html#a39a7f0fdf884f34e8813b1d9fc80969f">command_set_increment</a>(token, value, err);</div>
<div class="line"><span class="lineno">  664</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (decrement)</div>
<div class="line"><span class="lineno">  665</span>        rc = <a class="code hl_function" href="parse_2set_8c.html#a6ed97e1e0acf9f1310af43df522fe4bc">command_set_decrement</a>(token, value, err);</div>
<div class="line"><span class="lineno">  666</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  667</span>        rc = <a class="code hl_function" href="parse_2set_8c.html#abdecb95dce4ab2177eff1edade3c599f">command_set_set</a>(token, value, err);</div>
<div class="line"><span class="lineno">  668</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;value);</div>
<div class="line"><span class="lineno">  669</span>    }</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  671</span>    {</div>
<div class="line"><span class="lineno">  672</span>      <span class="comment">// This is the &quot;set foo&quot; case which has different meanings depending on</span></div>
<div class="line"><span class="lineno">  673</span>      <span class="comment">// the type of the config variable</span></div>
<div class="line"><span class="lineno">  674</span>      <span class="keywordflow">if</span> (bool_or_quad)</div>
<div class="line"><span class="lineno">  675</span>      {</div>
<div class="line"><span class="lineno">  676</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *yes = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  677</span>        <a class="code hl_function" href="buffer_8c.html#a9924e74ddcb5280ab380e4627d1fba99">buf_addstr</a>(yes, <span class="stringliteral">&quot;yes&quot;</span>);</div>
<div class="line"><span class="lineno">  678</span>        rc = <a class="code hl_function" href="parse_2set_8c.html#abdecb95dce4ab2177eff1edade3c599f">command_set_set</a>(token, yes, err);</div>
<div class="line"><span class="lineno">  679</span>        <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;yes);</div>
<div class="line"><span class="lineno">  680</span>      }</div>
<div class="line"><span class="lineno">  681</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  682</span>      {</div>
<div class="line"><span class="lineno">  683</span>        rc = <a class="code hl_function" href="parse_2set_8c.html#a8e34a3556e65edb6a844374c81efd623">command_set_query</a>(token, err);</div>
<div class="line"><span class="lineno">  684</span>        <span class="keywordflow">goto</span> done; <span class="comment">// We can only do one query even if multiple config names are given</span></div>
<div class="line"><span class="lineno">  685</span>      }</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">// Short circuit (i.e. skipping further config variable names) if the action on</span></div>
<div class="line"><span class="lineno">  688</span>    <span class="comment">// the current variable failed.</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>)</div>
<div class="line"><span class="lineno">  690</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  691</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>done:</div>
<div class="line"><span class="lineno">  696</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  697</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  698</span>}</div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aae71f12b62f9fca54c98ef9630f8fcad1"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aae71f12b62f9fca54c98ef9630f8fcad1">CMD_RESET</a></div><div class="ttdeci">@ CMD_RESET</div><div class="ttdoc">:reset</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00101">command.h:101</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aaef47aa17366d23021c3bfadc213af3c3"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaef47aa17366d23021c3bfadc213af3c3">CMD_TOGGLE</a></div><div class="ttdeci">@ CMD_TOGGLE</div><div class="ttdoc">:toggle</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00120">command.h:120</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aaf0b3c32c60c90acaf019be257f98f04e"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaf0b3c32c60c90acaf019be257f98f04e">CMD_UNSET</a></div><div class="ttdeci">@ CMD_UNSET</div><div class="ttdoc">:unset</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00140">command.h:140</a></div></div>
<div class="ttc" id="acommand_8h_html_aaf8d2069e2c6bbecf4aa8f9819028e8aaf159e9c0879325c0a2a9af66c5386654"><div class="ttname"><a href="command_8h.html#aaf8d2069e2c6bbecf4aa8f9819028e8aaf159e9c0879325c0a2a9af66c5386654">CMD_SET</a></div><div class="ttdeci">@ CMD_SET</div><div class="ttdoc">:set</div><div class="ttdef"><b>Definition</b> <a href="command_8h_source.html#l00106">command.h:106</a></div></div>
<div class="ttc" id="aextract_8h_html_a731d8feadddcd5297ae1ad4984d66bba"><div class="ttname"><a href="extract_8h.html#a731d8feadddcd5297ae1ad4984d66bba">TOKEN_PLUS</a></div><div class="ttdeci">#define TOKEN_PLUS</div><div class="ttdoc">Treat &#39;+&#39; as a special.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00056">extract.h:56</a></div></div>
<div class="ttc" id="aextract_8h_html_a88c55f9da3473fe098c0bd2bbd7bb266"><div class="ttname"><a href="extract_8h.html#a88c55f9da3473fe098c0bd2bbd7bb266">TOKEN_MINUS</a></div><div class="ttdeci">#define TOKEN_MINUS</div><div class="ttdoc">Treat &#39;-&#39; as a special.</div><div class="ttdef"><b>Definition</b> <a href="extract_8h_source.html#l00057">extract.h:57</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_a39a7f0fdf884f34e8813b1d9fc80969f"><div class="ttname"><a href="parse_2set_8c.html#a39a7f0fdf884f34e8813b1d9fc80969f">command_set_increment</a></div><div class="ttdeci">enum CommandResult command_set_increment(struct Buffer *name, struct Buffer *value, struct Buffer *err)</div><div class="ttdoc">Increment a variable by a value.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00159">set.c:159</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_a6ed97e1e0acf9f1310af43df522fe4bc"><div class="ttname"><a href="parse_2set_8c.html#a6ed97e1e0acf9f1310af43df522fe4bc">command_set_decrement</a></div><div class="ttdeci">enum CommandResult command_set_decrement(struct Buffer *name, struct Buffer *value, struct Buffer *err)</div><div class="ttdoc">Decrement a variable by a value.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00220">set.c:220</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_a84c6e72ce9941d2f9478504390f576c4"><div class="ttname"><a href="parse_2set_8c.html#a84c6e72ce9941d2f9478504390f576c4">command_set_toggle</a></div><div class="ttdeci">enum CommandResult command_set_toggle(struct Buffer *name, struct Buffer *err)</div><div class="ttdoc">Toggle a boolean, quad, or number variable.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00360">set.c:360</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_a895f14429462b762deeb41a07c22616e"><div class="ttname"><a href="parse_2set_8c.html#a895f14429462b762deeb41a07c22616e">command_set_reset</a></div><div class="ttdeci">enum CommandResult command_set_reset(struct Buffer *name, struct Buffer *err)</div><div class="ttdoc">Reset a variable.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00301">set.c:301</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_a8e34a3556e65edb6a844374c81efd623"><div class="ttname"><a href="parse_2set_8c.html#a8e34a3556e65edb6a844374c81efd623">command_set_query</a></div><div class="ttdeci">enum CommandResult command_set_query(struct Buffer *name, struct Buffer *err)</div><div class="ttdoc">Query a variable.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00406">set.c:406</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_ab548296dfb272c5f97d0fc3dcbbabc4d"><div class="ttname"><a href="parse_2set_8c.html#ab548296dfb272c5f97d0fc3dcbbabc4d">command_set_unset</a></div><div class="ttdeci">enum CommandResult command_set_unset(struct Buffer *name, struct Buffer *err)</div><div class="ttdoc">Unset a variable.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00256">set.c:256</a></div></div>
<div class="ttc" id="aparse_2set_8c_html_abdecb95dce4ab2177eff1edade3c599f"><div class="ttname"><a href="parse_2set_8c.html#abdecb95dce4ab2177eff1edade3c599f">command_set_set</a></div><div class="ttdeci">enum CommandResult command_set_set(struct Buffer *name, struct Buffer *value, struct Buffer *err)</div><div class="ttdoc">Set a variable to the given value.</div><div class="ttdef"><b>Definition</b> <a href="parse_2set_8c_source.html#l00099">set.c:99</a></div></div>
<div class="ttc" id="asignal2_8h_html_a903f9b298be75defd8a3043ebf62bd99"><div class="ttname"><a href="signal2_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a></div><div class="ttdeci">#define ASSERT(COND)</div><div class="ttdef"><b>Definition</b> <a href="signal2_8h_source.html#l00060">signal2.h:60</a></div></div>
<div class="ttc" id="astructHashElem_html"><div class="ttname"><a href="structHashElem.html">HashElem</a></div><div class="ttdoc">The item stored in a Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8h_source.html#l00043">hash.h:44</a></div></div>
<div class="ttc" id="astructHashElem_html_aad741b08743ae4afe22e9b2407820b35"><div class="ttname"><a href="structHashElem.html#aad741b08743ae4afe22e9b2407820b35">HashElem::key</a></div><div class="ttdeci">union HashKey key</div><div class="ttdoc">Key representing the data.</div><div class="ttdef"><b>Definition</b> <a href="hash_8h_source.html#l00046">hash.h:46</a></div></div>
<div class="ttc" id="astructHashElem_html_aafb6e3d6500e9f3dee67b7eab85f0480"><div class="ttname"><a href="structHashElem.html#aafb6e3d6500e9f3dee67b7eab85f0480">HashElem::type</a></div><div class="ttdeci">int type</div><div class="ttdoc">Type of data stored in Hash Table, e.g. DT_STRING.</div><div class="ttdef"><b>Definition</b> <a href="hash_8h_source.html#l00045">hash.h:45</a></div></div>
<div class="ttc" id="atypes_8h_html_a03e4dd17f797746b072864956223eeca"><div class="ttname"><a href="types_8h.html#a03e4dd17f797746b072864956223eeca">CONFIG_TYPE</a></div><div class="ttdeci">#define CONFIG_TYPE(t)</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00049">types.h:49</a></div></div>
<div class="ttc" id="atypes_8h_html_ac254e872972d56fde0b2d9b767e157a9a10a00085772a0af85d737a13047275a7"><div class="ttname"><a href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a10a00085772a0af85d737a13047275a7">DT_NUMBER</a></div><div class="ttdeci">@ DT_NUMBER</div><div class="ttdoc">a number</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00038">types.h:38</a></div></div>
<div class="ttc" id="atypes_8h_html_ac254e872972d56fde0b2d9b767e157a9a23a27697955ba33fa0fa54d51c63427b"><div class="ttname"><a href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a23a27697955ba33fa0fa54d51c63427b">DT_BOOL</a></div><div class="ttdeci">@ DT_BOOL</div><div class="ttdoc">boolean option</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00032">types.h:32</a></div></div>
<div class="ttc" id="atypes_8h_html_ac254e872972d56fde0b2d9b767e157a9a244644a8044916f5238c165054d53303"><div class="ttname"><a href="types_8h.html#ac254e872972d56fde0b2d9b767e157a9a244644a8044916f5238c165054d53303">DT_QUAD</a></div><div class="ttdeci">@ DT_QUAD</div><div class="ttdoc">quad-option (no/yes/ask-no/ask-yes)</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00040">types.h:40</a></div></div>
<div class="ttc" id="aunionHashKey_html_a356e42fcecbc8232b01ef3b9e3368811"><div class="ttname"><a href="unionHashKey.html#a356e42fcecbc8232b01ef3b9e3368811">HashKey::strkey</a></div><div class="ttdeci">const char * strkey</div><div class="ttdoc">String key.</div><div class="ttdef"><b>Definition</b> <a href="hash_8h_source.html#l00036">hash.h:36</a></div></div>
</div><!-- fragment --><div id="dynsection-63" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga9b9b16f5640cbd5ff73b8f834008bd31_cgraph.svg" width="647" height="856"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga4a0f45e68ad536df89555ba4fef2eb43" name="ga4a0f45e68ad536df89555ba4fef2eb43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a0f45e68ad536df89555ba4fef2eb43">&#9670;&#160;</a></span>parse_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_score </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'score' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>score &lt;pattern&gt; &lt;value&gt;</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="score_8c_source.html#l00094">94</a> of file <a class="el" href="score_8c_source.html">score.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   98</span>  {</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  101</span>  }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structScore.html">Score</a> *ptr = NULL, *last = NULL;</div>
<div class="line"><span class="lineno">  104</span>  <span class="keywordtype">char</span> *pattern = NULL, *pc = NULL;</div>
<div class="line"><span class="lineno">  105</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  106</span>  <span class="keyword">enum</span> <a class="code hl_enumeration" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a62b96a9042e720ccacd52f761e9230fd">MUTT_CMD_ERROR</a>;</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  110</span>  {</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  113</span>  }</div>
<div class="line"><span class="lineno">  114</span>  pattern = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(token);</div>
<div class="line"><span class="lineno">  115</span>  <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  117</span>  {</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too many arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  120</span>  }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>  <span class="comment">/* look for an existing entry and update the value, else add it to the end</span></div>
<div class="line"><span class="lineno">  123</span><span class="comment">   * of the list */</span></div>
<div class="line"><span class="lineno">  124</span>  <span class="keywordflow">for</span> (ptr = <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a>, last = NULL; ptr; last = ptr, ptr = ptr-&gt;<a class="code hl_variable" href="structScore.html#aeef44b6720e850cc7044cb325dab6bc6">next</a>)</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(pattern, ptr-&gt;str))</div>
<div class="line"><span class="lineno">  126</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">if</span> (ptr)</div>
<div class="line"><span class="lineno">  129</span>  {</div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">/* &#39;token&#39; arg was cleared and &#39;pattern&#39; holds the only reference;</span></div>
<div class="line"><span class="lineno">  131</span><span class="comment">     * as here &#39;ptr&#39; != NULL -&gt; update the value only in which case</span></div>
<div class="line"><span class="lineno">  132</span><span class="comment">     * ptr-&gt;str already has the string, so pattern should be freed.  */</span></div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;pattern);</div>
<div class="line"><span class="lineno">  134</span>  }</div>
<div class="line"><span class="lineno">  135</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  136</span>  {</div>
<div class="line"><span class="lineno">  137</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structMailboxView.html">MailboxView</a> *mv_cur = <a class="code hl_function" href="index_8c.html#a5915d8b932eb86633f1d7d65a8c83289">get_current_mailbox_view</a>();</div>
<div class="line"><span class="lineno">  138</span>    <span class="keyword">struct </span>PatternList *pat = <a class="code hl_function" href="compile_8c.html#a43039fbeb001087dad2a07081ca9526e">mutt_pattern_comp</a>(mv_cur, pattern, <a class="code hl_define" href="pattern_2lib_8h.html#a80fbfd937c06de3e40a261d2a2bc3c90">MUTT_PC_NO_FLAGS</a>, err);</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> (!pat)</div>
<div class="line"><span class="lineno">  140</span>    {</div>
<div class="line"><span class="lineno">  141</span>      <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span>    ptr = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, <span class="keyword">struct</span> <a class="code hl_struct" href="structScore.html">Score</a>);</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (last)</div>
<div class="line"><span class="lineno">  145</span>      last-&gt;next = ptr;</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  147</span>      <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a> = ptr;</div>
<div class="line"><span class="lineno">  148</span>    ptr-&gt;pat = pat;</div>
<div class="line"><span class="lineno">  149</span>    ptr-&gt;str = pattern;</div>
<div class="line"><span class="lineno">  150</span>    pattern = NULL;</div>
<div class="line"><span class="lineno">  151</span>  }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>  pc = token-&gt;<a class="code hl_variable" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div>
<div class="line"><span class="lineno">  154</span>  <span class="keywordflow">if</span> (*pc == <span class="charliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno">  155</span>  {</div>
<div class="line"><span class="lineno">  156</span>    ptr-&gt;exact = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  157</span>    pc++;</div>
<div class="line"><span class="lineno">  158</span>  }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>  <span class="keywordflow">if</span> (!mutt_str_atoi_full(pc, &amp;ptr-&gt;val))</div>
<div class="line"><span class="lineno">  161</span>  {</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error: score: invalid number&quot;</span>));</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  164</span>  }</div>
<div class="line"><span class="lineno">  165</span>  <a class="code hl_variable" href="email_2sort_8c.html#a3bed48fe9fb50500c1a5b79e14cf2142">OptNeedRescore</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  rc = <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>done:</div>
<div class="line"><span class="lineno">  170</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  171</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;pattern);</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  173</span>}</div>
<div class="ttc" id="aemail_2sort_8c_html_a3bed48fe9fb50500c1a5b79e14cf2142"><div class="ttname"><a href="email_2sort_8c.html#a3bed48fe9fb50500c1a5b79e14cf2142">OptNeedRescore</a></div><div class="ttdeci">bool OptNeedRescore</div><div class="ttdoc">(pseudo) set when the &#39;score&#39; command is used</div><div class="ttdef"><b>Definition</b> <a href="globals_8c_source.html#l00062">globals.c:62</a></div></div>
<div class="ttc" id="ascore_8c_html_a6e4551cc338bfaf9829eb6e3bc992a25"><div class="ttname"><a href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a></div><div class="ttdeci">static struct Score * ScoreList</div><div class="ttdoc">Linked list of email scoring rules.</div><div class="ttdef"><b>Definition</b> <a href="score_8c_source.html#l00061">score.c:61</a></div></div>
<div class="ttc" id="astructScore_html"><div class="ttname"><a href="structScore.html">Score</a></div><div class="ttdoc">Scoring rule for email.</div><div class="ttdef"><b>Definition</b> <a href="score_8c_source.html#l00051">score.c:52</a></div></div>
<div class="ttc" id="astructScore_html_aeef44b6720e850cc7044cb325dab6bc6"><div class="ttname"><a href="structScore.html#aeef44b6720e850cc7044cb325dab6bc6">Score::next</a></div><div class="ttdeci">struct Score * next</div><div class="ttdoc">Linked list.</div><div class="ttdef"><b>Definition</b> <a href="score_8c_source.html#l00057">score.c:57</a></div></div>
</div><!-- fragment --><div id="dynsection-64" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga4a0f45e68ad536df89555ba4fef2eb43_cgraph.svg" width="510" height="471"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga1ca28a758d975118c108d14007dfb965" name="ga1ca28a758d975118c108d14007dfb965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ca28a758d975118c108d14007dfb965">&#9670;&#160;</a></span>parse_unscore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_unscore </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'unscore' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>unscore { * | &lt;pattern&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="score_8c_source.html#l00220">220</a> of file <a class="el" href="score_8c_source.html">score.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>{</div>
<div class="line"><span class="lineno">  223</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  224</span>  {</div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">  227</span>  }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structScore.html">Score</a> *tmp = NULL, *last = NULL;</div>
<div class="line"><span class="lineno">  230</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *token = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>  <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">  233</span>  {</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(token, line, <a class="code hl_define" href="extract_8h.html#ac836dbb7a5321eb5e81497298499263c">TOKEN_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;*&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token)))</div>
<div class="line"><span class="lineno">  236</span>    {</div>
<div class="line"><span class="lineno">  237</span>      <span class="keywordflow">for</span> (tmp = <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a>; tmp;)</div>
<div class="line"><span class="lineno">  238</span>      {</div>
<div class="line"><span class="lineno">  239</span>        last = tmp;</div>
<div class="line"><span class="lineno">  240</span>        tmp = tmp-&gt;<a class="code hl_variable" href="structScore.html#aeef44b6720e850cc7044cb325dab6bc6">next</a>;</div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_function" href="compile_8c.html#ae447e834babbe84bef7005199ec39962">mutt_pattern_free</a>(&amp;last-&gt;pat);</div>
<div class="line"><span class="lineno">  242</span>        <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;last);</div>
<div class="line"><span class="lineno">  243</span>      }</div>
<div class="line"><span class="lineno">  244</span>      <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a> = NULL;</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  247</span>    {</div>
<div class="line"><span class="lineno">  248</span>      <span class="keywordflow">for</span> (tmp = <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a>; tmp; last = tmp, tmp = tmp-&gt;<a class="code hl_variable" href="structScore.html#aeef44b6720e850cc7044cb325dab6bc6">next</a>)</div>
<div class="line"><span class="lineno">  249</span>      {</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(token), tmp-&gt;str))</div>
<div class="line"><span class="lineno">  251</span>        {</div>
<div class="line"><span class="lineno">  252</span>          <span class="keywordflow">if</span> (last)</div>
<div class="line"><span class="lineno">  253</span>            last-&gt;next = tmp-&gt;next;</div>
<div class="line"><span class="lineno">  254</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  255</span>            <a class="code hl_variable" href="score_8c.html#a6e4551cc338bfaf9829eb6e3bc992a25">ScoreList</a> = tmp-&gt;next;</div>
<div class="line"><span class="lineno">  256</span>          <a class="code hl_function" href="compile_8c.html#ae447e834babbe84bef7005199ec39962">mutt_pattern_free</a>(&amp;tmp-&gt;pat);</div>
<div class="line"><span class="lineno">  257</span>          <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;tmp);</div>
<div class="line"><span class="lineno">  258</span>          <span class="comment">/* there should only be one score per pattern, so we can stop here */</span></div>
<div class="line"><span class="lineno">  259</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  260</span>        }</div>
<div class="line"><span class="lineno">  261</span>      }</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span>  }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>  <a class="code hl_variable" href="email_2sort_8c.html#a3bed48fe9fb50500c1a5b79e14cf2142">OptNeedRescore</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;token);</div>
<div class="line"><span class="lineno">  267</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">  268</span>}</div>
<div class="ttc" id="acompile_8c_html_ae447e834babbe84bef7005199ec39962"><div class="ttname"><a href="compile_8c.html#ae447e834babbe84bef7005199ec39962">mutt_pattern_free</a></div><div class="ttdeci">void mutt_pattern_free(struct PatternList **pat)</div><div class="ttdoc">Free a Pattern.</div><div class="ttdef"><b>Definition</b> <a href="compile_8c_source.html#l00775">compile.c:775</a></div></div>
</div><!-- fragment --><div id="dynsection-65" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga1ca28a758d975118c108d14007dfb965_cgraph.svg" width="491" height="395"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga4773fb18f096548fbe29830b01cfd744" name="ga4773fb18f096548fbe29830b01cfd744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4773fb18f096548fbe29830b01cfd744">&#9670;&#160;</a></span>parse_sidebar_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_sidebar_pin </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'sidebar_pin' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>sidebar_pin &lt;mailbox&gt; [ &lt;mailbox&gt; ... ]</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="sidebar_2commands_8c_source.html#l00043">43</a> of file <a class="el" href="sidebar_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{</div>
<div class="line"><span class="lineno">   46</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   47</span>  {</div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   50</span>  }</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *path = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   55</span>  {</div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(path, line, <a class="code hl_define" href="extract_8h.html#a0350e25954f1055b666beb5ace06a92c">TOKEN_BACKTICK_VARS</a>);</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(path);</div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_function" href="muttlib_8c.html#a2e3c864ac49cfb7bc862c32416baf81d">add_to_stailq</a>(&amp;<a class="code hl_variable" href="sidebar_2private_8h.html#a768683f4d2b31ce8ac58c332b10d6ebd">SidebarPinned</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path));</div>
<div class="line"><span class="lineno">   59</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">   60</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;path);</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   63</span>}</div>
<div class="ttc" id="asidebar_2private_8h_html_a768683f4d2b31ce8ac58c332b10d6ebd"><div class="ttname"><a href="sidebar_2private_8h.html#a768683f4d2b31ce8ac58c332b10d6ebd">SidebarPinned</a></div><div class="ttdeci">struct ListHead SidebarPinned</div><div class="ttdoc">List of mailboxes to always display in the sidebar.</div><div class="ttdef"><b>Definition</b> <a href="sidebar_8c_source.html#l00044">sidebar.c:44</a></div></div>
</div><!-- fragment --><div id="dynsection-66" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga4773fb18f096548fbe29830b01cfd744_cgraph.svg" width="514" height="376"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-67" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga4773fb18f096548fbe29830b01cfd744_icgraph.svg" width="358" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga1a90378d2905ffb1b43db4a068cdcbe4" name="ga1a90378d2905ffb1b43db4a068cdcbe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a90378d2905ffb1b43db4a068cdcbe4">&#9670;&#160;</a></span>parse_sidebar_unpin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="command_8h.html#ab263ddf6663365ed434ab750bf339557">CommandResult</a> parse_sidebar_unpin </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structCommand.html">Command</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *</td>          <td class="paramname"><span class="paramname"><em>err</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the 'sidebar_unpin' command - Implements <a class="el" href="structCommand.html#a108acb83b0c649848b6ee1bd2182d188">Command::parse()</a> -. </p>
<p>Parse:</p><ul>
<li><code>sidebar_unpin { * | &lt;mailbox&gt; ... }</code> </li>
</ul>

<p class="definition">Definition at line <a class="el" href="sidebar_2commands_8c_source.html#l00071">71</a> of file <a class="el" href="sidebar_2commands_8c_source.html">commands.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line))</div>
<div class="line"><span class="lineno">   75</span>  {</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(err, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s: too few arguments&quot;</span>), cmd-&gt;<a class="code hl_variable" href="structCommand.html#aaac7db0461198bc84c6bb01e64ae82e3">name</a>);</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557abf2ec27eecf60bcf6f5696b0ce8d7b72">MUTT_CMD_WARNING</a>;</div>
<div class="line"><span class="lineno">   78</span>  }</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *path = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno">   83</span>  {</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="extract_8c.html#aabf9d6ea465d5c12bfa99c6b3d8dcf94">parse_extract_token</a>(path, line, <a class="code hl_define" href="extract_8h.html#a0350e25954f1055b666beb5ace06a92c">TOKEN_BACKTICK_VARS</a>);</div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">/* Check for deletion of entire list */</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path), <span class="stringliteral">&quot;*&quot;</span>))</div>
<div class="line"><span class="lineno">   87</span>    {</div>
<div class="line"><span class="lineno">   88</span>      <a class="code hl_function" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>(&amp;<a class="code hl_variable" href="sidebar_2private_8h.html#a768683f4d2b31ce8ac58c332b10d6ebd">SidebarPinned</a>);</div>
<div class="line"><span class="lineno">   89</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   90</span>    }</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="muttlib_8c.html#adde3990a0490dfba609fc94dbdbfd6b3">buf_expand_path</a>(path);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="muttlib_8c.html#a1b422ce225f4eb96e3ce8e276467ae9f">remove_from_stailq</a>(&amp;<a class="code hl_variable" href="sidebar_2private_8h.html#a768683f4d2b31ce8ac58c332b10d6ebd">SidebarPinned</a>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path));</div>
<div class="line"><span class="lineno">   93</span>  } <span class="keywordflow">while</span> (<a class="code hl_define" href="extract_8h.html#a7d49d6e1f1a75e5c1ee281a8f8c242fa">MoreArgs</a>(line));</div>
<div class="line"><span class="lineno">   94</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;path);</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="command_8h.html#ab263ddf6663365ed434ab750bf339557a0cfdcd0b200729536b895b8a420f6215">MUTT_CMD_SUCCESS</a>;</div>
<div class="line"><span class="lineno">   97</span>}</div>
</div><!-- fragment --><div id="dynsection-68" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga1a90378d2905ffb1b43db4a068cdcbe4_cgraph.svg" width="530" height="468"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-69" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__command__parse_ga1a90378d2905ffb1b43db4a068cdcbe4_icgraph.svg" width="374" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
