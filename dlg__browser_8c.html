<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: browser/dlg_browser.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-09-05-40-g6a7c50</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dlg__browser_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">dlg_browser.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>File/Mailbox Browser Dialog.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;locale.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mutt_2lib_8h_source.html">mutt/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_2lib_8h_source.html">config/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="email_2lib_8h_source.html">email/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="core_2lib_8h_source.html">core/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="conn_2lib_8h_source.html">conn/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gui_2lib_8h_source.html">gui/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="browser_2lib_8h_source.html">lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="expando_2lib_8h_source.html">expando/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="imap_2lib_8h_source.html">imap/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="key_2lib_8h_source.html">key/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="menu_2lib_8h_source.html">menu/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nntp_2lib_8h_source.html">nntp/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="browser_2expando_8h_source.html">expando.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="browser_2functions_8h_source.html">functions.h</a>&quot;</code><br />
<code>#include &quot;globals.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mutt__logging_8h_source.html">mutt_logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mutt__mailbox_8h_source.html">mutt_mailbox.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="muttlib_8h_source.html">muttlib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mx_8h_source.html">mx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nntp_2adata_8h_source.html">nntp/adata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nntp_2mdata_8h_source.html">nntp/mdata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="browser_2private__data_8h_source.html">private_data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="browser_2sort_8h_source.html">sort.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for dlg_browser.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c__incl.svg" width="2900" height="330"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="dlg__browser_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3a2a586cddbc6bf0aae67ea4b85eae81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a3a2a586cddbc6bf0aae67ea4b85eae81">init_lastdir</a> (void)</td></tr>
<tr class="memdesc:a3a2a586cddbc6bf0aae67ea4b85eae81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the browser directories.  <br /></td></tr>
<tr class="separator:a3a2a586cddbc6bf0aae67ea4b85eae81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57ac9cc2f16e09d897d2c37177da2cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#ae57ac9cc2f16e09d897d2c37177da2cd">mutt_browser_cleanup</a> (void)</td></tr>
<tr class="memdesc:ae57ac9cc2f16e09d897d2c37177da2cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up working Buffers.  <br /></td></tr>
<tr class="separator:ae57ac9cc2f16e09d897d2c37177da2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed209a69c8a1ba27282de9d6972b744"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#afed209a69c8a1ba27282de9d6972b744">link_is_dir</a> (const char *folder, const char *path)</td></tr>
<tr class="memdesc:afed209a69c8a1ba27282de9d6972b744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this symlink point to a directory?  <br /></td></tr>
<tr class="separator:afed209a69c8a1ba27282de9d6972b744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace60dbe18a29af9387994ce9905074d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a> (const struct <a class="el" href="structMenu.html">Menu</a> *menu, struct <a class="el" href="structBrowserState.html">BrowserState</a> *state, const char *name, const char *desc, const struct stat *st, struct <a class="el" href="structMailbox.html">Mailbox</a> *m, void *data)</td></tr>
<tr class="memdesc:ace60dbe18a29af9387994ce9905074d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a folder to the browser list.  <br /></td></tr>
<tr class="separator:ace60dbe18a29af9387994ce9905074d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28f53565f3a3c69250813a02b512167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a> (struct <a class="el" href="structBrowserState.html">BrowserState</a> *state)</td></tr>
<tr class="memdesc:aa28f53565f3a3c69250813a02b512167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a browser state.  <br /></td></tr>
<tr class="separator:aa28f53565f3a3c69250813a02b512167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7e4cda55c641a3da1c1c8cdee7be31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a0e7e4cda55c641a3da1c1c8cdee7be31">examine_directory</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMenu.html">Menu</a> *menu, struct <a class="el" href="structBrowserState.html">BrowserState</a> *state, const char *dirname, const char *prefix)</td></tr>
<tr class="memdesc:a0e7e4cda55c641a3da1c1c8cdee7be31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of all files/newsgroups with mask.  <br /></td></tr>
<tr class="separator:a0e7e4cda55c641a3da1c1c8cdee7be31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc25fcd384d9e469e6d68d3f4bf5641e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#afc25fcd384d9e469e6d68d3f4bf5641e">examine_mailboxes</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMenu.html">Menu</a> *menu, struct <a class="el" href="structBrowserState.html">BrowserState</a> *state)</td></tr>
<tr class="memdesc:afc25fcd384d9e469e6d68d3f4bf5641e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get list of mailboxes/subscribed newsgroups.  <br /></td></tr>
<tr class="separator:afc25fcd384d9e469e6d68d3f4bf5641e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44aefdb8e3bc126b5fab29a8501499e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__menu__search.html#ga44aefdb8e3bc126b5fab29a8501499e2">select_file_search</a> (struct <a class="el" href="structMenu.html">Menu</a> *menu, regex_t *rx, int line)</td></tr>
<tr class="memdesc:ga44aefdb8e3bc126b5fab29a8501499e2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structMenu.html">Menu</a> search callback for matching files - Implements <a class="el" href="structMenu.html#a8a45572a1ba92aedfb9327d3c203ccb7">Menu::search()</a> -.  <br /></td></tr>
<tr class="separator:ga44aefdb8e3bc126b5fab29a8501499e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e6cfcfb157b226650356f8faf2ce96f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__menu__make__entry.html#ga9e6cfcfb157b226650356f8faf2ce96f">folder_make_entry</a> (struct <a class="el" href="structMenu.html">Menu</a> *menu, int line, int max_cols, struct <a class="el" href="structBuffer.html">Buffer</a> *buf)</td></tr>
<tr class="memdesc:ga9e6cfcfb157b226650356f8faf2ce96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format a <a class="el" href="structFolder.html" title="A folder/dir in the browser.">Folder</a> for the <a class="el" href="structMenu.html">Menu</a> - Implements <a class="el" href="structMenu.html#abcbe4b5735fa18ce520b9db6489ea042">Menu::make_entry()</a> -.  <br /></td></tr>
<tr class="separator:ga9e6cfcfb157b226650356f8faf2ce96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaf086f04f00f0d0c691b6275f2ae22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#aeeaf086f04f00f0d0c691b6275f2ae22">browser_highlight_default</a> (struct <a class="el" href="structBrowserState.html">BrowserState</a> *state, struct <a class="el" href="structMenu.html">Menu</a> *menu)</td></tr>
<tr class="memdesc:aeeaf086f04f00f0d0c691b6275f2ae22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decide which browser item should be highlighted.  <br /></td></tr>
<tr class="separator:aeeaf086f04f00f0d0c691b6275f2ae22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b38f971f4dd2d4223f08a2e40277cc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a1b38f971f4dd2d4223f08a2e40277cc6">init_menu</a> (struct <a class="el" href="structBrowserState.html">BrowserState</a> *state, struct <a class="el" href="structMenu.html">Menu</a> *menu, struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMuttWindow.html">MuttWindow</a> *sbar)</td></tr>
<tr class="memdesc:a1b38f971f4dd2d4223f08a2e40277cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a new menu.  <br /></td></tr>
<tr class="separator:a1b38f971f4dd2d4223f08a2e40277cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4d5441e6e33296a9fb742390153a099"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__menu__tag.html#gaf4d5441e6e33296a9fb742390153a099">file_tag</a> (struct <a class="el" href="structMenu.html">Menu</a> *menu, int sel, int act)</td></tr>
<tr class="memdesc:gaf4d5441e6e33296a9fb742390153a099"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structTag.html" title="LinkedList Tag Element.">Tag</a> an entry in the menu - Implements <a class="el" href="structMenu.html#a9f56131f02aaece633d13c8b2007476a">Menu::tag()</a> -.  <br /></td></tr>
<tr class="separator:gaf4d5441e6e33296a9fb742390153a099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33442b9a9e2f43f3c90664a8e3c0a9c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__observer__api.html#ga33442b9a9e2f43f3c90664a8e3c0a9c5">browser_config_observer</a> (struct <a class="el" href="structNotifyCallback.html">NotifyCallback</a> *nc)</td></tr>
<tr class="memdesc:ga33442b9a9e2f43f3c90664a8e3c0a9c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a Config Variable has changed - Implements <a class="el" href="observer_8h.html#a9df067637aa2f77aef6a84ff05071c22">observer_t</a> -.  <br /></td></tr>
<tr class="separator:ga33442b9a9e2f43f3c90664a8e3c0a9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54f754d2069ae8378ae834d5dc09a5bd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__observer__api.html#ga54f754d2069ae8378ae834d5dc09a5bd">browser_mailbox_observer</a> (struct <a class="el" href="structNotifyCallback.html">NotifyCallback</a> *nc)</td></tr>
<tr class="memdesc:ga54f754d2069ae8378ae834d5dc09a5bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> has changed - Implements <a class="el" href="observer_8h.html#a9df067637aa2f77aef6a84ff05071c22">observer_t</a> -.  <br /></td></tr>
<tr class="separator:ga54f754d2069ae8378ae834d5dc09a5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dc0d173bcac8681caa0b2cd458bceae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__observer__api.html#ga8dc0d173bcac8681caa0b2cd458bceae">browser_window_observer</a> (struct <a class="el" href="structNotifyCallback.html">NotifyCallback</a> *nc)</td></tr>
<tr class="memdesc:ga8dc0d173bcac8681caa0b2cd458bceae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a Window has changed - Implements <a class="el" href="observer_8h.html#a9df067637aa2f77aef6a84ff05071c22">observer_t</a> -.  <br /></td></tr>
<tr class="separator:ga8dc0d173bcac8681caa0b2cd458bceae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbed4ed086e8d9c2907e8f43d6143f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a9fbed4ed086e8d9c2907e8f43d6143f2">mutt_browser_select_dir</a> (const char *f)</td></tr>
<tr class="memdesc:a9fbed4ed086e8d9c2907e8f43d6143f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remember the last directory selected.  <br /></td></tr>
<tr class="separator:a9fbed4ed086e8d9c2907e8f43d6143f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0772d3d88c6b65815188e5d56d1498fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gui__dlg.html#ga0772d3d88c6b65815188e5d56d1498fb">dlg_browser</a> (struct <a class="el" href="structBuffer.html">Buffer</a> *file, <a class="el" href="browser_2lib_8h.html#afde6c0a2b0c99baa6b2ee3a0c855e966">SelectFileFlags</a> flags, struct <a class="el" href="structMailbox.html">Mailbox</a> *m, char ***files, int *numfiles)</td></tr>
<tr class="memdesc:ga0772d3d88c6b65815188e5d56d1498fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let the user select a file -.  <br /></td></tr>
<tr class="separator:ga0772d3d88c6b65815188e5d56d1498fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac8e1c032b65d1d5ba98e737571215bb1"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structMapping.html">Mapping</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#ac8e1c032b65d1d5ba98e737571215bb1">FolderHelp</a> []</td></tr>
<tr class="memdesc:ac8e1c032b65d1d5ba98e737571215bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help Bar for the File/Dir/Mailbox browser dialog.  <br /></td></tr>
<tr class="separator:ac8e1c032b65d1d5ba98e737571215bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2145b2c5c5bce768e8c77d335a45cc"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structMapping.html">Mapping</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a4c2145b2c5c5bce768e8c77d335a45cc">FolderNewsHelp</a> []</td></tr>
<tr class="memdesc:a4c2145b2c5c5bce768e8c77d335a45cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help Bar for the NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> browser dialog.  <br /></td></tr>
<tr class="separator:a4c2145b2c5c5bce768e8c77d335a45cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b9330cfc3900716b46bcb97f0a65f04"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structBuffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a> = { 0 }</td></tr>
<tr class="memdesc:a7b9330cfc3900716b46bcb97f0a65f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Browser: previous selected directory.  <br /></td></tr>
<tr class="separator:a7b9330cfc3900716b46bcb97f0a65f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52844664e29705d1ff9110ad6c62bf0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structBuffer.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a> = { 0 }</td></tr>
<tr class="memdesc:ac52844664e29705d1ff9110ad6c62bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Browser: backup copy of the current directory.  <br /></td></tr>
<tr class="separator:ac52844664e29705d1ff9110ad6c62bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File/Mailbox Browser Dialog. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Pierre-Elliott Bécue</li>
<li>Richard Russon</li>
<li>Austin Ray</li>
<li>Pietro Cerutti</li>
<li>R Primus</li>
<li>Carlos Henrique Lima Melara</li>
<li>Leon Philman</li>
<li>наб</li>
<li>Tóth János</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3a2a586cddbc6bf0aae67ea4b85eae81" name="a3a2a586cddbc6bf0aae67ea4b85eae81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2a586cddbc6bf0aae67ea4b85eae81">&#9670;&#160;</a></span>init_lastdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_lastdir </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise the browser directories. </p>
<p>These keep track of where the browser used to be looking. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00145">145</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  146</span>{</div>
<div class="line"><span class="lineno">  147</span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> done = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">if</span> (!done)</div>
<div class="line"><span class="lineno">  149</span>  {</div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_function" href="buffer_8c.html#ae144a736bd5f9de289bdc8f27fecf96a">buf_alloc</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a>, <a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>);</div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_function" href="buffer_8c.html#ae144a736bd5f9de289bdc8f27fecf96a">buf_alloc</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>, <a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>);</div>
<div class="line"><span class="lineno">  152</span>    done = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  153</span>  }</div>
<div class="line"><span class="lineno">  154</span>}</div>
<div class="ttc" id="abuffer_8c_html_ae144a736bd5f9de289bdc8f27fecf96a"><div class="ttname"><a href="buffer_8c.html#ae144a736bd5f9de289bdc8f27fecf96a">buf_alloc</a></div><div class="ttdeci">void buf_alloc(struct Buffer *buf, size_t new_size)</div><div class="ttdoc">Make sure a buffer can store at least new_size bytes.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00337">buffer.c:337</a></div></div>
<div class="ttc" id="adlg__browser_8c_html_a7b9330cfc3900716b46bcb97f0a65f04"><div class="ttname"><a href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a></div><div class="ttdeci">struct Buffer LastDir</div><div class="ttdoc">Browser: previous selected directory.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00136">dlg_browser.c:136</a></div></div>
<div class="ttc" id="adlg__browser_8c_html_ac52844664e29705d1ff9110ad6c62bf0"><div class="ttname"><a href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a></div><div class="ttdeci">struct Buffer LastDirBackup</div><div class="ttdoc">Browser: backup copy of the current directory.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00138">dlg_browser.c:138</a></div></div>
<div class="ttc" id="amutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00042">mutt.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a3a2a586cddbc6bf0aae67ea4b85eae81_cgraph.svg" width="220" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a3a2a586cddbc6bf0aae67ea4b85eae81_icgraph.svg" width="466" height="62"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae57ac9cc2f16e09d897d2c37177da2cd" name="ae57ac9cc2f16e09d897d2c37177da2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57ac9cc2f16e09d897d2c37177da2cd">&#9670;&#160;</a></span>mutt_browser_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_browser_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up working Buffers. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00159">159</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>{</div>
<div class="line"><span class="lineno">  161</span>  <a class="code hl_function" href="buffer_8c.html#a3847c69d3b333d1674043d7f5b7b112f">buf_dealloc</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a>);</div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_function" href="buffer_8c.html#a3847c69d3b333d1674043d7f5b7b112f">buf_dealloc</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>);</div>
<div class="line"><span class="lineno">  163</span>}</div>
<div class="ttc" id="abuffer_8c_html_a3847c69d3b333d1674043d7f5b7b112f"><div class="ttname"><a href="buffer_8c.html#a3847c69d3b333d1674043d7f5b7b112f">buf_dealloc</a></div><div class="ttdeci">void buf_dealloc(struct Buffer *buf)</div><div class="ttdoc">Release the memory allocated by a buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00377">buffer.c:377</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_ae57ac9cc2f16e09d897d2c37177da2cd_cgraph.svg" width="314" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_ae57ac9cc2f16e09d897d2c37177da2cd_icgraph.svg" width="274" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afed209a69c8a1ba27282de9d6972b744" name="afed209a69c8a1ba27282de9d6972b744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed209a69c8a1ba27282de9d6972b744">&#9670;&#160;</a></span>link_is_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool link_is_dir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>folder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does this symlink point to a directory? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">folder</td><td><a class="el" href="structFolder.html" title="A folder/dir in the browser.">Folder</a> </td></tr>
    <tr><td class="paramname">path</td><td>Link name </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Links to a directory </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00172">172</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>{</div>
<div class="line"><span class="lineno">  174</span>  <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordtype">bool</span> rc = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *fullpath = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  178</span>  <a class="code hl_function" href="buffer_8c.html#adaa2f71e71ace3ab78dacac4dabe99cf">buf_concat_path</a>(fullpath, folder, path);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordflow">if</span> (stat(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(fullpath), &amp;st) == 0)</div>
<div class="line"><span class="lineno">  181</span>    rc = S_ISDIR(st.st_mode);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;fullpath);</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  186</span>}</div>
<div class="ttc" id="abuffer_8c_html_adaa2f71e71ace3ab78dacac4dabe99cf"><div class="ttname"><a href="buffer_8c.html#adaa2f71e71ace3ab78dacac4dabe99cf">buf_concat_path</a></div><div class="ttdeci">size_t buf_concat_path(struct Buffer *buf, const char *dir, const char *fname)</div><div class="ttdoc">Join a directory name and a filename.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00509">buffer.c:509</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_afed209a69c8a1ba27282de9d6972b744_cgraph.svg" width="267" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_afed209a69c8a1ba27282de9d6972b744_icgraph.svg" width="314" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ace60dbe18a29af9387994ce9905074d5" name="ace60dbe18a29af9387994ce9905074d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace60dbe18a29af9387994ce9905074d5">&#9670;&#160;</a></span>browser_add_folder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void browser_add_folder </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structMenu.html">Menu</a> *&#160;</td>
          <td class="paramname"><em>menu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct stat *&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a folder to the browser list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menu</td><td><a class="el" href="structMenu.html">Menu</a> to use </td></tr>
    <tr><td class="paramname">state</td><td>Browser state </td></tr>
    <tr><td class="paramname">name</td><td>Name of folder </td></tr>
    <tr><td class="paramname">desc</td><td>Description of folder </td></tr>
    <tr><td class="paramname">st</td><td>stat info for the folder </td></tr>
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">data</td><td>Data to associate with the folder </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00198">198</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>{</div>
<div class="line"><span class="lineno">  202</span>  <span class="keywordflow">if</span> ((!menu || state-&gt;<a class="code hl_variable" href="structBrowserState.html#a7ea6ab380d7b4206a2a2438e94176524">is_mailbox_list</a>) &amp;&amp; m &amp;&amp; !m-&gt;<a class="code hl_variable" href="structMailbox.html#ad538c9745e4f0d1a103c45b54819cf32">visible</a>)</div>
<div class="line"><span class="lineno">  203</span>  {</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  205</span>  }</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structFolderFile.html">FolderFile</a> ff = { 0 };</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordflow">if</span> (st)</div>
<div class="line"><span class="lineno">  210</span>  {</div>
<div class="line"><span class="lineno">  211</span>    ff.<a class="code hl_variable" href="structFolderFile.html#acf37bf1fa881e3ce01ceeac0118f97d1">mode</a> = st-&gt;st_mode;</div>
<div class="line"><span class="lineno">  212</span>    ff.<a class="code hl_variable" href="structFolderFile.html#abc854d04161f12f348627b3860a0487d">mtime</a> = st-&gt;st_mtime;</div>
<div class="line"><span class="lineno">  213</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a980b99e02a7b35af287234cab3a2595d">size</a> = st-&gt;st_size;</div>
<div class="line"><span class="lineno">  214</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a5a5786506959747b14573f280a8e5a7c">gid</a> = st-&gt;st_gid;</div>
<div class="line"><span class="lineno">  215</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a4089e42b43bfa065d6189b2b32a05323">uid</a> = st-&gt;st_uid;</div>
<div class="line"><span class="lineno">  216</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a708a7822ee0ea5958aa55b61bd9c5f4a">nlink</a> = st-&gt;st_nlink;</div>
<div class="line"><span class="lineno">  217</span>    ff.local = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  218</span>  }</div>
<div class="line"><span class="lineno">  219</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  220</span>  {</div>
<div class="line"><span class="lineno">  221</span>    ff.local = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  222</span>  }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span> (m)</div>
<div class="line"><span class="lineno">  225</span>  {</div>
<div class="line"><span class="lineno">  226</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a361a3034934f734ad32ee1ac7ae0cbfe">has_mailbox</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  227</span>    ff.<a class="code hl_variable" href="structFolderFile.html#ab22fa4a6e95437fcc5b9f5860ed13759">gen</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#af8a0807a1ec429b12a10f3c2e0319b59">gen</a>;</div>
<div class="line"><span class="lineno">  228</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a5bb0dac2a1262c85d780267f259ea845">has_new_mail</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a>;</div>
<div class="line"><span class="lineno">  229</span>    ff.<a class="code hl_variable" href="structFolderFile.html#ac2acf81096f63fe719855560a30f9c5b">msg_count</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div>
<div class="line"><span class="lineno">  230</span>    ff.<a class="code hl_variable" href="structFolderFile.html#ae1cb41d536802b724cc2b20dfc4a3d2d">msg_unread</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>;</div>
<div class="line"><span class="lineno">  231</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a65eb3d5695bbc03d00d7fcd135fc4187">notify_user</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a9eef0517d7484846e814824dd1c8e21f">notify_user</a>;</div>
<div class="line"><span class="lineno">  232</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a60d6eb45af1ffc7a8f733b83ead40964">poll_new_mail</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a66350729afeb729118f447f6c60d07a7">poll_new_mail</a>;</div>
<div class="line"><span class="lineno">  233</span>  }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>  ff.<a class="code hl_variable" href="structFolderFile.html#a3c2e39b044a6cdb272601604579d3355">name</a> = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(<a class="code hl_variable" href="structFolderFile.html#a3c2e39b044a6cdb272601604579d3355">name</a>);</div>
<div class="line"><span class="lineno">  236</span>  ff.<a class="code hl_variable" href="structFolderFile.html#a862ba1521b82421e7b7261e86cbd232b">desc</a> = <a class="code hl_function" href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a>(<a class="code hl_variable" href="structFolderFile.html#a862ba1521b82421e7b7261e86cbd232b">desc</a> ? <a class="code hl_variable" href="structFolderFile.html#a862ba1521b82421e7b7261e86cbd232b">desc</a> : <a class="code hl_variable" href="structFolderFile.html#a3c2e39b044a6cdb272601604579d3355">name</a>);</div>
<div class="line"><span class="lineno">  237</span>  ff.<a class="code hl_variable" href="structFolderFile.html#a2bacd074d98036262520eea695f48a42">imap</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="globals_8c.html#a0c2f0c035df413a8722b4897d5a88317">OptNews</a>)</div>
<div class="line"><span class="lineno">  239</span>    ff.<a class="code hl_variable" href="structFolderFile.html#a8d22576888567e6a9b8329c27352a2c9">nd</a> = data;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>  <a class="code hl_define" href="array_8h.html#a4f570f2382025383e4b2cc46ede6ebd0">ARRAY_ADD</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>, ff);</div>
<div class="line"><span class="lineno">  242</span>}</div>
<div class="ttc" id="aarray_8h_html_a4f570f2382025383e4b2cc46ede6ebd0"><div class="ttname"><a href="array_8h.html#a4f570f2382025383e4b2cc46ede6ebd0">ARRAY_ADD</a></div><div class="ttdeci">#define ARRAY_ADD(head, elem)</div><div class="ttdoc">Add an element at the end of the array.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00156">array.h:156</a></div></div>
<div class="ttc" id="aglobals_8c_html_a0c2f0c035df413a8722b4897d5a88317"><div class="ttname"><a href="globals_8c.html#a0c2f0c035df413a8722b4897d5a88317">OptNews</a></div><div class="ttdeci">bool OptNews</div><div class="ttdoc">(pseudo) used to change reader mode</div><div class="ttdef"><b>Definition:</b> <a href="globals_8c_source.html#l00064">globals.c:64</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a3fe33d90e4814281cd57de048119c950"><div class="ttname"><a href="mutt_2string_8c.html#a3fe33d90e4814281cd57de048119c950">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00255">string.c:255</a></div></div>
<div class="ttc" id="astructBrowserState_html_a7ea6ab380d7b4206a2a2438e94176524"><div class="ttname"><a href="structBrowserState.html#a7ea6ab380d7b4206a2a2438e94176524">BrowserState::is_mailbox_list</a></div><div class="ttdeci">bool is_mailbox_list</div><div class="ttdoc">Viewing mailboxes.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00148">lib.h:148</a></div></div>
<div class="ttc" id="astructBrowserState_html_aa9f0e9b3778d58224e831a9e48863c5b"><div class="ttname"><a href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">BrowserState::entry</a></div><div class="ttdeci">struct BrowserEntryArray entry</div><div class="ttdoc">Array of files / dirs / mailboxes.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00145">lib.h:145</a></div></div>
<div class="ttc" id="astructFolderFile_html"><div class="ttname"><a href="structFolderFile.html">FolderFile</a></div><div class="ttdoc">Browser entry representing a folder/dir.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00077">lib.h:78</a></div></div>
<div class="ttc" id="astructFolderFile_html_a2bacd074d98036262520eea695f48a42"><div class="ttname"><a href="structFolderFile.html#a2bacd074d98036262520eea695f48a42">FolderFile::imap</a></div><div class="ttdeci">bool imap</div><div class="ttdoc">This is an IMAP folder.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00095">lib.h:95</a></div></div>
<div class="ttc" id="astructFolderFile_html_a361a3034934f734ad32ee1ac7ae0cbfe"><div class="ttname"><a href="structFolderFile.html#a361a3034934f734ad32ee1ac7ae0cbfe">FolderFile::has_mailbox</a></div><div class="ttdeci">bool has_mailbox</div><div class="ttdoc">This is a mailbox.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00098">lib.h:98</a></div></div>
<div class="ttc" id="astructFolderFile_html_a3c2e39b044a6cdb272601604579d3355"><div class="ttname"><a href="structFolderFile.html#a3c2e39b044a6cdb272601604579d3355">FolderFile::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Name of file/dir/mailbox.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00086">lib.h:86</a></div></div>
<div class="ttc" id="astructFolderFile_html_a4089e42b43bfa065d6189b2b32a05323"><div class="ttname"><a href="structFolderFile.html#a4089e42b43bfa065d6189b2b32a05323">FolderFile::uid</a></div><div class="ttdeci">uid_t uid</div><div class="ttdoc">File's User ID.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00082">lib.h:82</a></div></div>
<div class="ttc" id="astructFolderFile_html_a5a5786506959747b14573f280a8e5a7c"><div class="ttname"><a href="structFolderFile.html#a5a5786506959747b14573f280a8e5a7c">FolderFile::gid</a></div><div class="ttdeci">gid_t gid</div><div class="ttdoc">File's Group ID.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00083">lib.h:83</a></div></div>
<div class="ttc" id="astructFolderFile_html_a5bb0dac2a1262c85d780267f259ea845"><div class="ttname"><a href="structFolderFile.html#a5bb0dac2a1262c85d780267f259ea845">FolderFile::has_new_mail</a></div><div class="ttdeci">bool has_new_mail</div><div class="ttdoc">true if mailbox has &quot;new mail&quot;</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00089">lib.h:89</a></div></div>
<div class="ttc" id="astructFolderFile_html_a60d6eb45af1ffc7a8f733b83ead40964"><div class="ttname"><a href="structFolderFile.html#a60d6eb45af1ffc7a8f733b83ead40964">FolderFile::poll_new_mail</a></div><div class="ttdeci">bool poll_new_mail</div><div class="ttdoc">Check mailbox for new mail.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00101">lib.h:101</a></div></div>
<div class="ttc" id="astructFolderFile_html_a65eb3d5695bbc03d00d7fcd135fc4187"><div class="ttname"><a href="structFolderFile.html#a65eb3d5695bbc03d00d7fcd135fc4187">FolderFile::notify_user</a></div><div class="ttdeci">bool notify_user</div><div class="ttdoc">User will be notified of new mail.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00100">lib.h:100</a></div></div>
<div class="ttc" id="astructFolderFile_html_a708a7822ee0ea5958aa55b61bd9c5f4a"><div class="ttname"><a href="structFolderFile.html#a708a7822ee0ea5958aa55b61bd9c5f4a">FolderFile::nlink</a></div><div class="ttdeci">nlink_t nlink</div><div class="ttdoc">Number of hard links.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00084">lib.h:84</a></div></div>
<div class="ttc" id="astructFolderFile_html_a862ba1521b82421e7b7261e86cbd232b"><div class="ttname"><a href="structFolderFile.html#a862ba1521b82421e7b7261e86cbd232b">FolderFile::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdoc">Description of mailbox.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="astructFolderFile_html_a8d22576888567e6a9b8329c27352a2c9"><div class="ttname"><a href="structFolderFile.html#a8d22576888567e6a9b8329c27352a2c9">FolderFile::nd</a></div><div class="ttdeci">struct NntpMboxData * nd</div><div class="ttdoc">Extra NNTP data.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00103">lib.h:103</a></div></div>
<div class="ttc" id="astructFolderFile_html_a980b99e02a7b35af287234cab3a2595d"><div class="ttname"><a href="structFolderFile.html#a980b99e02a7b35af287234cab3a2595d">FolderFile::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">File size.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00080">lib.h:80</a></div></div>
<div class="ttc" id="astructFolderFile_html_ab22fa4a6e95437fcc5b9f5860ed13759"><div class="ttname"><a href="structFolderFile.html#ab22fa4a6e95437fcc5b9f5860ed13759">FolderFile::gen</a></div><div class="ttdeci">int gen</div><div class="ttdoc">Unique id, used for (un)sorting.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00105">lib.h:105</a></div></div>
<div class="ttc" id="astructFolderFile_html_abc854d04161f12f348627b3860a0487d"><div class="ttname"><a href="structFolderFile.html#abc854d04161f12f348627b3860a0487d">FolderFile::mtime</a></div><div class="ttdeci">time_t mtime</div><div class="ttdoc">Modification time.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00081">lib.h:81</a></div></div>
<div class="ttc" id="astructFolderFile_html_ac2acf81096f63fe719855560a30f9c5b"><div class="ttname"><a href="structFolderFile.html#ac2acf81096f63fe719855560a30f9c5b">FolderFile::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">total number of messages</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00090">lib.h:90</a></div></div>
<div class="ttc" id="astructFolderFile_html_acf37bf1fa881e3ce01ceeac0118f97d1"><div class="ttname"><a href="structFolderFile.html#acf37bf1fa881e3ce01ceeac0118f97d1">FolderFile::mode</a></div><div class="ttdeci">mode_t mode</div><div class="ttdoc">File permissions.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00079">lib.h:79</a></div></div>
<div class="ttc" id="astructFolderFile_html_ae1cb41d536802b724cc2b20dfc4a3d2d"><div class="ttname"><a href="structFolderFile.html#ae1cb41d536802b724cc2b20dfc4a3d2d">FolderFile::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">number of unread messages</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00091">lib.h:91</a></div></div>
<div class="ttc" id="astructMailbox_html_a185d46a268fdf1e34ee061a28d51414e"><div class="ttname"><a href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">Mailbox::has_new</a></div><div class="ttdeci">bool has_new</div><div class="ttdoc">Mailbox has new mail.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00085">mailbox.h:85</a></div></div>
<div class="ttc" id="astructMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00088">mailbox.h:88</a></div></div>
<div class="ttc" id="astructMailbox_html_a66350729afeb729118f447f6c60d07a7"><div class="ttname"><a href="structMailbox.html#a66350729afeb729118f447f6c60d07a7">Mailbox::poll_new_mail</a></div><div class="ttdeci">bool poll_new_mail</div><div class="ttdoc">Check for new mail.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00115">mailbox.h:115</a></div></div>
<div class="ttc" id="astructMailbox_html_a9eef0517d7484846e814824dd1c8e21f"><div class="ttname"><a href="structMailbox.html#a9eef0517d7484846e814824dd1c8e21f">Mailbox::notify_user</a></div><div class="ttdeci">bool notify_user</div><div class="ttdoc">Notify the user of new mail.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00113">mailbox.h:113</a></div></div>
<div class="ttc" id="astructMailbox_html_ad538c9745e4f0d1a103c45b54819cf32"><div class="ttname"><a href="structMailbox.html#ad538c9745e4f0d1a103c45b54819cf32">Mailbox::visible</a></div><div class="ttdeci">bool visible</div><div class="ttdoc">True if a result of &quot;mailboxes&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00130">mailbox.h:130</a></div></div>
<div class="ttc" id="astructMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00089">mailbox.h:89</a></div></div>
<div class="ttc" id="astructMailbox_html_af8a0807a1ec429b12a10f3c2e0319b59"><div class="ttname"><a href="structMailbox.html#af8a0807a1ec429b12a10f3c2e0319b59">Mailbox::gen</a></div><div class="ttdeci">int gen</div><div class="ttdoc">Generation number, for sorting.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00147">mailbox.h:147</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_ace60dbe18a29af9387994ce9905074d5_cgraph.svg" width="311" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_ace60dbe18a29af9387994ce9905074d5_icgraph.svg" width="362" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa28f53565f3a3c69250813a02b512167" name="aa28f53565f3a3c69250813a02b512167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28f53565f3a3c69250813a02b512167">&#9670;&#160;</a></span>init_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a browser state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td><a class="el" href="structBrowserState.html" title="State of the file/mailbox browser.">BrowserState</a> to initialise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00248">248</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_define" href="array_8h.html#ae857f8be0df0145d300fe44ad40d92f7">ARRAY_INIT</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>);</div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_define" href="array_8h.html#a24f8f1f7f0818a7ccf6de7b0949f20f5">ARRAY_RESERVE</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>, 256);</div>
<div class="line"><span class="lineno">  252</span>  state-&gt;<a class="code hl_variable" href="structBrowserState.html#afe46fc676a2a691f2a4abbdde7c55c9b">imap_browse</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  253</span>}</div>
<div class="ttc" id="aarray_8h_html_a24f8f1f7f0818a7ccf6de7b0949f20f5"><div class="ttname"><a href="array_8h.html#a24f8f1f7f0818a7ccf6de7b0949f20f5">ARRAY_RESERVE</a></div><div class="ttdeci">#define ARRAY_RESERVE(head, num)</div><div class="ttdoc">Reserve memory for the array.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00189">array.h:189</a></div></div>
<div class="ttc" id="aarray_8h_html_ae857f8be0df0145d300fe44ad40d92f7"><div class="ttname"><a href="array_8h.html#ae857f8be0df0145d300fe44ad40d92f7">ARRAY_INIT</a></div><div class="ttdeci">#define ARRAY_INIT(head)</div><div class="ttdoc">Initialize an array.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00065">array.h:65</a></div></div>
<div class="ttc" id="astructBrowserState_html_afe46fc676a2a691f2a4abbdde7c55c9b"><div class="ttname"><a href="structBrowserState.html#afe46fc676a2a691f2a4abbdde7c55c9b">BrowserState::imap_browse</a></div><div class="ttdeci">bool imap_browse</div><div class="ttdoc">IMAP folder.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2lib_8h_source.html#l00146">lib.h:146</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_aa28f53565f3a3c69250813a02b512167_icgraph.svg" width="506" height="427"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0e7e4cda55c641a3da1c1c8cdee7be31" name="a0e7e4cda55c641a3da1c1c8cdee7be31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7e4cda55c641a3da1c1c8cdee7be31">&#9670;&#160;</a></span>examine_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int examine_directory </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMenu.html">Menu</a> *&#160;</td>
          <td class="paramname"><em>menu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of all files/newsgroups with mask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">menu</td><td>Current <a class="el" href="structMenu.html">Menu</a> </td></tr>
    <tr><td class="paramname">state</td><td><a class="el" href="structState.html" title="Keep track when processing files.">State</a> of browser </td></tr>
    <tr><td class="paramname">dirname</td><td>Directory </td></tr>
    <tr><td class="paramname">prefix</td><td>Files/newsgroups must match this prefix </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00265">265</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  267</span>{</div>
<div class="line"><span class="lineno">  268</span>  <span class="keywordtype">int</span> rc = -1;</div>
<div class="line"><span class="lineno">  269</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *buf = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  270</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="globals_8c.html#a0c2f0c035df413a8722b4897d5a88317">OptNews</a>)</div>
<div class="line"><span class="lineno">  271</span>  {</div>
<div class="line"><span class="lineno">  272</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    <a class="code hl_function" href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a>(state);</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structRegex.html">Regex</a> *c_mask = <a class="code hl_function" href="config_2helpers_8c.html#a1c788f1dbe7b04cec7721fc1c7680b48">cs_subset_regex</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mask&quot;</span>);</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div>
<div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno">  280</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  282</span>      <span class="keywordflow">if</span> (prefix &amp;&amp; *prefix &amp;&amp; !<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, prefix))</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  284</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2regex_8c.html#ad25947e610db74945537b99edf428982">mutt_regex_match</a>(c_mask, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group))</div>
<div class="line"><span class="lineno">  285</span>      {</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  287</span>      }</div>
<div class="line"><span class="lineno">  288</span>      <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, NULL, NULL, NULL, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno">  289</span>    }</div>
<div class="line"><span class="lineno">  290</span>  }</div>
<div class="line"><span class="lineno">  291</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  292</span>  {</div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  294</span>    DIR *dir = NULL;</div>
<div class="line"><span class="lineno">  295</span>    <span class="keyword">struct </span>dirent *de = NULL;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">while</span> (stat(dirname, &amp;st) == -1)</div>
<div class="line"><span class="lineno">  298</span>    {</div>
<div class="line"><span class="lineno">  299</span>      <span class="keywordflow">if</span> (errno == ENOENT)</div>
<div class="line"><span class="lineno">  300</span>      {</div>
<div class="line"><span class="lineno">  301</span>        <span class="comment">/* The last used directory is deleted, try to use the parent dir. */</span></div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordtype">char</span> *c = strrchr(dirname, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> (c &amp;&amp; (c &gt; dirname))</div>
<div class="line"><span class="lineno">  305</span>        {</div>
<div class="line"><span class="lineno">  306</span>          *c = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  307</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>      }</div>
<div class="line"><span class="lineno">  310</span>      <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, dirname);</div>
<div class="line"><span class="lineno">  311</span>      <span class="keywordflow">goto</span> ed_out;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">if</span> (!S_ISDIR(st.st_mode))</div>
<div class="line"><span class="lineno">  315</span>    {</div>
<div class="line"><span class="lineno">  316</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is not a directory&quot;</span>), dirname);</div>
<div class="line"><span class="lineno">  317</span>      <span class="keywordflow">goto</span> ed_out;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">if</span> (m)</div>
<div class="line"><span class="lineno">  321</span>      <a class="code hl_function" href="mutt__mailbox_8c.html#a46384c63734d157785c2f9db5c9d40f5">mutt_mailbox_check</a>(m, <a class="code hl_define" href="mxapi_8h.html#a20db67a082f406914d798b8caa9686a3">MUTT_MAILBOX_CHECK_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    dir = <a class="code hl_function" href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a>(dirname, <a class="code hl_enumvalue" href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a>);</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (!dir)</div>
<div class="line"><span class="lineno">  325</span>    {</div>
<div class="line"><span class="lineno">  326</span>      <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, dirname);</div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">goto</span> ed_out;</div>
<div class="line"><span class="lineno">  328</span>    }</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_function" href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a>(state);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keyword">struct </span>MailboxList ml = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(ml);</div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_function" href="neomutt_8c.html#a74862fb7702c895aaacaebb097af8bb2">neomutt_mailboxlist_get_all</a>(&amp;ml, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dab19ce39e3d79c72a2988457640553489">MUTT_MAILBOX_ANY</a>);</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structRegex.html">Regex</a> *c_mask = <a class="code hl_function" href="config_2helpers_8c.html#a1c788f1dbe7b04cec7721fc1c7680b48">cs_subset_regex</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mask&quot;</span>);</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">while</span> ((de = readdir(dir)))</div>
<div class="line"><span class="lineno">  337</span>    {</div>
<div class="line"><span class="lineno">  338</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(de-&gt;d_name, <span class="stringliteral">&quot;.&quot;</span>))</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">continue</span>; <span class="comment">/* we don&#39;t need . */</span></div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>      <span class="keywordflow">if</span> (prefix &amp;&amp; *prefix &amp;&amp; !<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(de-&gt;d_name, prefix))</div>
<div class="line"><span class="lineno">  342</span>      {</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  344</span>      }</div>
<div class="line"><span class="lineno">  345</span>      <span class="keywordflow">if</span> (!<a class="code hl_function" href="mutt_2regex_8c.html#ad25947e610db74945537b99edf428982">mutt_regex_match</a>(c_mask, de-&gt;d_name))</div>
<div class="line"><span class="lineno">  346</span>      {</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  348</span>      }</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>      <a class="code hl_function" href="buffer_8c.html#adaa2f71e71ace3ab78dacac4dabe99cf">buf_concat_path</a>(buf, dirname, de-&gt;d_name);</div>
<div class="line"><span class="lineno">  351</span>      <span class="keywordflow">if</span> (lstat(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(buf), &amp;st) == -1)</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>      <span class="comment">/* No size for directories or symlinks */</span></div>
<div class="line"><span class="lineno">  355</span>      <span class="keywordflow">if</span> (S_ISDIR(st.st_mode) || S_ISLNK(st.st_mode))</div>
<div class="line"><span class="lineno">  356</span>        st.st_size = 0;</div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!S_ISREG(st.st_mode))</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structMailboxNode.html">MailboxNode</a> *np = NULL;</div>
<div class="line"><span class="lineno">  361</span>      <a class="code hl_define" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(np, &amp;ml, entries)</div>
<div class="line"><span class="lineno">  362</span>      {</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(buf), <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>)))</div>
<div class="line"><span class="lineno">  364</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  365</span>      }</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>      <span class="keywordflow">if</span> (np &amp;&amp; m &amp;&amp; m-&gt;<a class="code hl_variable" href="structMailbox.html#a66350729afeb729118f447f6c60d07a7">poll_new_mail</a> &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>))</div>
<div class="line"><span class="lineno">  368</span>      {</div>
<div class="line"><span class="lineno">  369</span>        np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div>
<div class="line"><span class="lineno">  370</span>        np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>;</div>
<div class="line"><span class="lineno">  371</span>      }</div>
<div class="line"><span class="lineno">  372</span>      <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, de-&gt;d_name, NULL, &amp;st, np ? np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a> : NULL, NULL);</div>
<div class="line"><span class="lineno">  373</span>    }</div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_function" href="neomutt_8c.html#a124116674adb30d3bceef08eeaad6905">neomutt_mailboxlist_clear</a>(&amp;ml);</div>
<div class="line"><span class="lineno">  375</span>    closedir(dir);</div>
<div class="line"><span class="lineno">  376</span>  }</div>
<div class="line"><span class="lineno">  377</span>  <a class="code hl_function" href="browser_2lib_8h.html#a1fb68dfcd0418c277eb7d28aeb2d175f">browser_sort</a>(state);</div>
<div class="line"><span class="lineno">  378</span>  rc = 0;</div>
<div class="line"><span class="lineno">  379</span>ed_out:</div>
<div class="line"><span class="lineno">  380</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;buf);</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  382</span>}</div>
<div class="ttc" id="abrowser_2lib_8h_html_a1fb68dfcd0418c277eb7d28aeb2d175f"><div class="ttname"><a href="browser_2lib_8h.html#a1fb68dfcd0418c277eb7d28aeb2d175f">browser_sort</a></div><div class="ttdeci">void browser_sort(struct BrowserState *state)</div><div class="ttdoc">Sort the entries in the browser.</div><div class="ttdef"><b>Definition:</b> <a href="browser_2sort_8c_source.html#l00186">sort.c:186</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_a1c788f1dbe7b04cec7721fc1c7680b48"><div class="ttname"><a href="config_2helpers_8c.html#a1c788f1dbe7b04cec7721fc1c7680b48">cs_subset_regex</a></div><div class="ttdeci">const struct Regex * cs_subset_regex(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a regex config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00217">helpers.c:217</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a7e9739eb3e94344633f7051c2fb9453e"><div class="ttname"><a href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox's path string.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00223">mailbox.h:223</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921dab19ce39e3d79c72a2988457640553489"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dab19ce39e3d79c72a2988457640553489">MUTT_MAILBOX_ANY</a></div><div class="ttdeci">@ MUTT_MAILBOX_ANY</div><div class="ttdoc">Match any Mailbox type.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00042">mailbox.h:42</a></div></div>
<div class="ttc" id="adlg__browser_8c_html_aa28f53565f3a3c69250813a02b512167"><div class="ttname"><a href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a></div><div class="ttdeci">void init_state(struct BrowserState *state)</div><div class="ttdoc">Initialise a browser state.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00248">dlg_browser.c:248</a></div></div>
<div class="ttc" id="adlg__browser_8c_html_ace60dbe18a29af9387994ce9905074d5"><div class="ttname"><a href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a></div><div class="ttdeci">void browser_add_folder(const struct Menu *menu, struct BrowserState *state, const char *name, const char *desc, const struct stat *st, struct Mailbox *m, void *data)</div><div class="ttdoc">Add a folder to the browser list.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00198">dlg_browser.c:198</a></div></div>
<div class="ttc" id="afile_8c_html_a69da918c66c3f22815d6e4aed88b6122"><div class="ttname"><a href="file_8c.html#a69da918c66c3f22815d6e4aed88b6122">mutt_file_opendir</a></div><div class="ttdeci">DIR * mutt_file_opendir(const char *path, enum MuttOpenDirMode mode)</div><div class="ttdoc">Open a directory.</div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00542">file.c:542</a></div></div>
<div class="ttc" id="afile_8h_html_a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60"><div class="ttname"><a href="file_8h.html#a222e4f679593f00cd8c126212b3cdb3ba88d03a1ea19c4b7fdccd5dfc936a7a60">MUTT_OPENDIR_NONE</a></div><div class="ttdeci">@ MUTT_OPENDIR_NONE</div><div class="ttdoc">Plain opendir()</div><div class="ttdef"><b>Definition:</b> <a href="file_8h_source.html#l00063">file.h:63</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2regex_8c_html_ad25947e610db74945537b99edf428982"><div class="ttname"><a href="mutt_2regex_8c.html#ad25947e610db74945537b99edf428982">mutt_regex_match</a></div><div class="ttdeci">bool mutt_regex_match(const struct Regex *regex, const char *str)</div><div class="ttdoc">Shorthand to mutt_regex_capture()</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2regex_8c_source.html#l00614">regex.c:614</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00660">string.c:660</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00232">string.c:232</a></div></div>
<div class="ttc" id="amutt__mailbox_8c_html_a46384c63734d157785c2f9db5c9d40f5"><div class="ttname"><a href="mutt__mailbox_8c.html#a46384c63734d157785c2f9db5c9d40f5">mutt_mailbox_check</a></div><div class="ttdeci">int mutt_mailbox_check(struct Mailbox *m_cur, CheckStatsFlags flags)</div><div class="ttdoc">Check all all Mailboxes for new mail.</div><div class="ttdef"><b>Definition:</b> <a href="mutt__mailbox_8c_source.html#l00169">mutt_mailbox.c:169</a></div></div>
<div class="ttc" id="amxapi_8h_html_a20db67a082f406914d798b8caa9686a3"><div class="ttname"><a href="mxapi_8h.html#a20db67a082f406914d798b8caa9686a3">MUTT_MAILBOX_CHECK_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_MAILBOX_CHECK_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00050">mxapi.h:50</a></div></div>
<div class="ttc" id="aneomutt_8c_html_a124116674adb30d3bceef08eeaad6905"><div class="ttname"><a href="neomutt_8c.html#a124116674adb30d3bceef08eeaad6905">neomutt_mailboxlist_clear</a></div><div class="ttdeci">void neomutt_mailboxlist_clear(struct MailboxList *ml)</div><div class="ttdoc">Free a Mailbox List.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8c_source.html#l00173">neomutt.c:173</a></div></div>
<div class="ttc" id="aneomutt_8c_html_a74862fb7702c895aaacaebb097af8bb2"><div class="ttname"><a href="neomutt_8c.html#a74862fb7702c895aaacaebb097af8bb2">neomutt_mailboxlist_get_all</a></div><div class="ttdeci">size_t neomutt_mailboxlist_get_all(struct MailboxList *head, struct NeoMutt *n, enum MailboxType type)</div><div class="ttdoc">Get a List of all Mailboxes.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8c_source.html#l00196">neomutt.c:196</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server.</div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00076">nntp.c:76</a></div></div>
<div class="ttc" id="aqueue_8h_html_a3d41ce2c3f1dd21c0d4051d13204c321"><div class="ttname"><a href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a></div><div class="ttdeci">#define STAILQ_HEAD_INITIALIZER(head)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00324">queue.h:324</a></div></div>
<div class="ttc" id="aqueue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00390">queue.h:390</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition:</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructMailboxNode_html"><div class="ttname"><a href="structMailboxNode.html">MailboxNode</a></div><div class="ttdoc">List of Mailboxes.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00165">mailbox.h:166</a></div></div>
<div class="ttc" id="astructMailboxNode_html_a01fd253428c6c8c3112711af2eae67f0"><div class="ttname"><a href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">MailboxNode::mailbox</a></div><div class="ttdeci">struct Mailbox * mailbox</div><div class="ttdoc">Mailbox in the list.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00167">mailbox.h:167</a></div></div>
<div class="ttc" id="astructMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="astructMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00132">mailbox.h:132</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
<div class="ttc" id="astructNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -.</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00035">adata.h:36</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a17e649e29d0d7d8e6137647e62aa4b37"><div class="ttname"><a href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">NntpAccountData::groups_list</a></div><div class="ttdeci">struct NntpMboxData ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00060">adata.h:60</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00058">adata.h:58</a></div></div>
<div class="ttc" id="astructNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -.</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00033">mdata.h:34</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00048">mdata.h:48</a></div></div>
<div class="ttc" id="astructRegex_html"><div class="ttname"><a href="structRegex.html">Regex</a></div><div class="ttdoc">Cached regular expression.</div><div class="ttdef"><b>Definition:</b> <a href="regex3_8h_source.html#l00085">regex3.h:86</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a0e7e4cda55c641a3da1c1c8cdee7be31_cgraph.svg" width="670" height="784"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a0e7e4cda55c641a3da1c1c8cdee7be31_icgraph.svg" width="368" height="283"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="afc25fcd384d9e469e6d68d3f4bf5641e" name="afc25fcd384d9e469e6d68d3f4bf5641e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc25fcd384d9e469e6d68d3f4bf5641e">&#9670;&#160;</a></span>examine_mailboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int examine_mailboxes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMenu.html">Menu</a> *&#160;</td>
          <td class="paramname"><em>menu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get list of mailboxes/subscribed newsgroups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">menu</td><td>Current menu </td></tr>
    <tr><td class="paramname">state</td><td><a class="el" href="structState.html" title="Keep track when processing files.">State</a> of browser </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00392">392</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>  <span class="keyword">struct </span>stat st = { 0 };</div>
<div class="line"><span class="lineno">  395</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *md = NULL;</div>
<div class="line"><span class="lineno">  396</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *mailbox = NULL;</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="globals_8c.html#a0c2f0c035df413a8722b4897d5a88317">OptNews</a>)</div>
<div class="line"><span class="lineno">  399</span>  {</div>
<div class="line"><span class="lineno">  400</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_variable" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <a class="code hl_function" href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a>(state);</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_show_only_unread = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;show_only_unread&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;groups_num; i++)</div>
<div class="line"><span class="lineno">  406</span>    {</div>
<div class="line"><span class="lineno">  407</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code hl_variable" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a17e649e29d0d7d8e6137647e62aa4b37">groups_list</a>[i];</div>
<div class="line"><span class="lineno">  408</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> &amp;&amp; (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;has_new_mail ||</div>
<div class="line"><span class="lineno">  409</span>                    (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;subscribed &amp;&amp; (<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;unread || !c_show_only_unread))))</div>
<div class="line"><span class="lineno">  410</span>      {</div>
<div class="line"><span class="lineno">  411</span>        <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>-&gt;group, NULL, NULL, NULL, <a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>);</div>
<div class="line"><span class="lineno">  412</span>      }</div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span>  }</div>
<div class="line"><span class="lineno">  415</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  416</span>  {</div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_function" href="dlg__browser_8c.html#aa28f53565f3a3c69250813a02b512167">init_state</a>(state);</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="queue_8h.html#ac3c9da7ac712eacbbad5cc54d7a3477e">TAILQ_EMPTY</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a6d954f6370463364dbd5b78db333fbfd">accounts</a>))</div>
<div class="line"><span class="lineno">  420</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  421</span>    mailbox = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  422</span>    md = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <a class="code hl_function" href="mutt__mailbox_8c.html#a46384c63734d157785c2f9db5c9d40f5">mutt_mailbox_check</a>(m, <a class="code hl_define" href="mxapi_8h.html#a20db67a082f406914d798b8caa9686a3">MUTT_MAILBOX_CHECK_NO_FLAGS</a>);</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keyword">struct </span>MailboxList ml = <a class="code hl_define" href="queue_8h.html#a3d41ce2c3f1dd21c0d4051d13204c321">STAILQ_HEAD_INITIALIZER</a>(ml);</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_function" href="neomutt_8c.html#a74862fb7702c895aaacaebb097af8bb2">neomutt_mailboxlist_get_all</a>(&amp;ml, <a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>, <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dab19ce39e3d79c72a2988457640553489">MUTT_MAILBOX_ANY</a>);</div>
<div class="line"><span class="lineno">  428</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structMailboxNode.html">MailboxNode</a> *np = NULL;</div>
<div class="line"><span class="lineno">  429</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_browser_abbreviate_mailboxes = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;browser_abbreviate_mailboxes&quot;</span>);</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    <a class="code hl_define" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(np, &amp;ml, entries)</div>
<div class="line"><span class="lineno">  432</span>    {</div>
<div class="line"><span class="lineno">  433</span>      <span class="keywordflow">if</span> (!np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>)</div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>      <span class="keywordflow">if</span> (m &amp;&amp; m-&gt;<a class="code hl_variable" href="structMailbox.html#a66350729afeb729118f447f6c60d07a7">poll_new_mail</a> &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>))</div>
<div class="line"><span class="lineno">  437</span>      {</div>
<div class="line"><span class="lineno">  438</span>        np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div>
<div class="line"><span class="lineno">  439</span>        np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>;</div>
<div class="line"><span class="lineno">  440</span>      }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>      <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>));</div>
<div class="line"><span class="lineno">  443</span>      <span class="keywordflow">if</span> (c_browser_abbreviate_mailboxes)</div>
<div class="line"><span class="lineno">  444</span>        <a class="code hl_function" href="muttlib_8c.html#a777680c324667521d8c486051c22fe10">buf_pretty_mailbox</a>(<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>      <span class="keywordflow">switch</span> (np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>)</div>
<div class="line"><span class="lineno">  447</span>      {</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>:</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da3b55e432fcbfdbd550d0aea5b03679de">MUTT_POP</a>:</div>
<div class="line"><span class="lineno">  450</span>          <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>),</div>
<div class="line"><span class="lineno">  451</span>                             np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a7ae2093eac22095d5470161a5983f55c">name</a>, NULL, np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>, NULL);</div>
<div class="line"><span class="lineno">  452</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6">MUTT_NOTMUCH</a>:</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a>:</div>
<div class="line"><span class="lineno">  455</span>          <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>),</div>
<div class="line"><span class="lineno">  456</span>                             np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a7ae2093eac22095d5470161a5983f55c">name</a>, NULL, np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>, NULL);</div>
<div class="line"><span class="lineno">  457</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">default</span>: <span class="comment">/* Continue */</span></div>
<div class="line"><span class="lineno">  459</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  460</span>      }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>      <span class="keywordflow">if</span> (lstat(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>), &amp;st) == -1)</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">if</span> ((!S_ISREG(st.st_mode)) &amp;&amp; (!S_ISDIR(st.st_mode)) &amp;&amp; (!S_ISLNK(st.st_mode)))</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>      <span class="keywordflow">if</span> (np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a>)</div>
<div class="line"><span class="lineno">  469</span>      {</div>
<div class="line"><span class="lineno">  470</span>        <span class="keyword">struct </span>stat st2 = { 0 };</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(md, <span class="stringliteral">&quot;%s/new&quot;</span>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>));</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">if</span> (stat(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(md), &amp;st) &lt; 0)</div>
<div class="line"><span class="lineno">  474</span>          st.st_mtime = 0;</div>
<div class="line"><span class="lineno">  475</span>        <a class="code hl_function" href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a>(md, <span class="stringliteral">&quot;%s/cur&quot;</span>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>));</div>
<div class="line"><span class="lineno">  476</span>        <span class="keywordflow">if</span> (stat(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(md), &amp;st2) &lt; 0)</div>
<div class="line"><span class="lineno">  477</span>          st2.st_mtime = 0;</div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordflow">if</span> (st2.st_mtime &gt; st.st_mtime)</div>
<div class="line"><span class="lineno">  479</span>          st.st_mtime = st2.st_mtime;</div>
<div class="line"><span class="lineno">  480</span>      }</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>      <a class="code hl_function" href="dlg__browser_8c.html#ace60dbe18a29af9387994ce9905074d5">browser_add_folder</a>(menu, state, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(mailbox), np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>-&gt;<a class="code hl_variable" href="structMailbox.html#a7ae2093eac22095d5470161a5983f55c">name</a>,</div>
<div class="line"><span class="lineno">  483</span>                         &amp;st, np-&gt;<a class="code hl_variable" href="structMailboxNode.html#a01fd253428c6c8c3112711af2eae67f0">mailbox</a>, NULL);</div>
<div class="line"><span class="lineno">  484</span>    }</div>
<div class="line"><span class="lineno">  485</span>    <a class="code hl_function" href="neomutt_8c.html#a124116674adb30d3bceef08eeaad6905">neomutt_mailboxlist_clear</a>(&amp;ml);</div>
<div class="line"><span class="lineno">  486</span>  }</div>
<div class="line"><span class="lineno">  487</span>  <a class="code hl_function" href="browser_2lib_8h.html#a1fb68dfcd0418c277eb7d28aeb2d175f">browser_sort</a>(state);</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;mailbox);</div>
<div class="line"><span class="lineno">  490</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;md);</div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  492</span>}</div>
<div class="ttc" id="abuffer_8c_html_a02123807d31181ac701b566226e93b33"><div class="ttname"><a href="buffer_8c.html#a02123807d31181ac701b566226e93b33">buf_printf</a></div><div class="ttdeci">int buf_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00161">buffer.c:161</a></div></div>
<div class="ttc" id="abuffer_8c_html_ac958acbd189e463a2c3bbc2f23aaeb1e"><div class="ttname"><a href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a></div><div class="ttdeci">size_t buf_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00395">buffer.c:395</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition:</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6">MUTT_NOTMUCH</a></div><div class="ttdeci">@ MUTT_NOTMUCH</div><div class="ttdoc">'Notmuch' (virtual) Mailbox type</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00051">mailbox.h:51</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da3b55e432fcbfdbd550d0aea5b03679de"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da3b55e432fcbfdbd550d0aea5b03679de">MUTT_POP</a></div><div class="ttdeci">@ MUTT_POP</div><div class="ttdoc">'POP3' Mailbox type</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00052">mailbox.h:52</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a></div><div class="ttdeci">@ MUTT_NNTP</div><div class="ttdoc">'NNTP' (Usenet) Mailbox type</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00049">mailbox.h:49</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a></div><div class="ttdeci">@ MUTT_IMAP</div><div class="ttdoc">'IMAP' Mailbox type</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00050">mailbox.h:50</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a></div><div class="ttdeci">@ MUTT_MAILDIR</div><div class="ttdoc">'Maildir' Mailbox type</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00048">mailbox.h:48</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a777680c324667521d8c486051c22fe10"><div class="ttname"><a href="muttlib_8c.html#a777680c324667521d8c486051c22fe10">buf_pretty_mailbox</a></div><div class="ttdeci">void buf_pretty_mailbox(struct Buffer *buf)</div><div class="ttdoc">Shorten a mailbox path using '~' or '='.</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00518">muttlib.c:518</a></div></div>
<div class="ttc" id="aqueue_8h_html_ac3c9da7ac712eacbbad5cc54d7a3477e"><div class="ttname"><a href="queue_8h.html#ac3c9da7ac712eacbbad5cc54d7a3477e">TAILQ_EMPTY</a></div><div class="ttdeci">#define TAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00778">queue.h:778</a></div></div>
<div class="ttc" id="astructMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00102">mailbox.h:102</a></div></div>
<div class="ttc" id="astructMailbox_html_a7ae2093eac22095d5470161a5983f55c"><div class="ttname"><a href="structMailbox.html#a7ae2093eac22095d5470161a5983f55c">Mailbox::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">A short name for the Mailbox.</div><div class="ttdef"><b>Definition:</b> <a href="core_2mailbox_8h_source.html#l00082">mailbox.h:82</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a6d954f6370463364dbd5b78db333fbfd"><div class="ttname"><a href="structNeoMutt.html#a6d954f6370463364dbd5b78db333fbfd">NeoMutt::accounts</a></div><div class="ttdeci">struct AccountList accounts</div><div class="ttdoc">List of all Accounts.</div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00048">neomutt.h:48</a></div></div>
</div><!-- fragment --><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_afc25fcd384d9e469e6d68d3f4bf5641e_cgraph.svg" width="676" height="736"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_afc25fcd384d9e469e6d68d3f4bf5641e_icgraph.svg" width="354" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aeeaf086f04f00f0d0c691b6275f2ae22" name="aeeaf086f04f00f0d0c691b6275f2ae22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeaf086f04f00f0d0c691b6275f2ae22">&#9670;&#160;</a></span>browser_highlight_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void browser_highlight_default </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMenu.html">Menu</a> *&#160;</td>
          <td class="paramname"><em>menu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decide which browser item should be highlighted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Browser state </td></tr>
    <tr><td class="paramname">menu</td><td>Current <a class="el" href="structMenu.html">Menu</a></td></tr>
  </table>
  </dd>
</dl>
<p>This function takes a menu and a state and defines the current entry that should be highlighted. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00559">559</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  560</span>{</div>
<div class="line"><span class="lineno">  561</span>  menu-&gt;<a class="code hl_variable" href="structMenu.html#a9b6a0ee3837c582e8cf70e985cde69cc">top</a> = 0;</div>
<div class="line"><span class="lineno">  562</span>  <span class="comment">/* Reset menu position to 1.</span></div>
<div class="line"><span class="lineno">  563</span><span class="comment">   * We do not risk overflow as the init_menu function changes</span></div>
<div class="line"><span class="lineno">  564</span><span class="comment">   * current if it is bigger than state-&gt;entrylen.  */</span></div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="array_8h.html#a748cb2df8cbe952b6fff91d62811a20a">ARRAY_EMPTY</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  566</span>      (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_define" href="array_8h.html#a412164813009d6e48e4b2ae62889347d">ARRAY_FIRST</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>)-&gt;desc, <span class="stringliteral">&quot;..&quot;</span>) ||</div>
<div class="line"><span class="lineno">  567</span>       <a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<a class="code hl_define" href="array_8h.html#a412164813009d6e48e4b2ae62889347d">ARRAY_FIRST</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>)-&gt;desc, <span class="stringliteral">&quot;../&quot;</span>)))</div>
<div class="line"><span class="lineno">  568</span>  {</div>
<div class="line"><span class="lineno">  569</span>    <span class="comment">/* Skip the first entry, unless there&#39;s only one entry. */</span></div>
<div class="line"><span class="lineno">  570</span>    <a class="code hl_function" href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a>(menu, (menu-&gt;<a class="code hl_variable" href="structMenu.html#ae696b2e2b9b7686cb17dfe2f4e4e2b8b">max</a> &gt; 1));</div>
<div class="line"><span class="lineno">  571</span>  }</div>
<div class="line"><span class="lineno">  572</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  573</span>  {</div>
<div class="line"><span class="lineno">  574</span>    <a class="code hl_function" href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a>(menu, 0);</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span>}</div>
<div class="ttc" id="aarray_8h_html_a412164813009d6e48e4b2ae62889347d"><div class="ttname"><a href="array_8h.html#a412164813009d6e48e4b2ae62889347d">ARRAY_FIRST</a></div><div class="ttdeci">#define ARRAY_FIRST(head)</div><div class="ttdoc">Convenience method to get the first element.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00135">array.h:135</a></div></div>
<div class="ttc" id="aarray_8h_html_a748cb2df8cbe952b6fff91d62811a20a"><div class="ttname"><a href="array_8h.html#a748cb2df8cbe952b6fff91d62811a20a">ARRAY_EMPTY</a></div><div class="ttdeci">#define ARRAY_EMPTY(head)</div><div class="ttdoc">Check if an array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00074">array.h:74</a></div></div>
<div class="ttc" id="amenu_2lib_8h_html_ae279bb826b97fcc88c0714b2a6383851"><div class="ttname"><a href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a></div><div class="ttdeci">MenuRedrawFlags menu_set_index(struct Menu *menu, int index)</div><div class="ttdoc">Set the current selection in the Menu.</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00174">menu.c:174</a></div></div>
<div class="ttc" id="astructMenu_html_a9b6a0ee3837c582e8cf70e985cde69cc"><div class="ttname"><a href="structMenu.html#a9b6a0ee3837c582e8cf70e985cde69cc">Menu::top</a></div><div class="ttdeci">int top</div><div class="ttdoc">Entry that is the top of the current page.</div><div class="ttdef"><b>Definition:</b> <a href="menu_2lib_8h_source.html#l00090">lib.h:90</a></div></div>
<div class="ttc" id="astructMenu_html_ae696b2e2b9b7686cb17dfe2f4e4e2b8b"><div class="ttname"><a href="structMenu.html#ae696b2e2b9b7686cb17dfe2f4e4e2b8b">Menu::max</a></div><div class="ttdeci">int max</div><div class="ttdoc">Number of entries in the menu.</div><div class="ttdef"><b>Definition:</b> <a href="menu_2lib_8h_source.html#l00081">lib.h:81</a></div></div>
</div><!-- fragment --><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_aeeaf086f04f00f0d0c691b6275f2ae22_cgraph.svg" width="364" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_aeeaf086f04f00f0d0c691b6275f2ae22_icgraph.svg" width="643" height="340"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1b38f971f4dd2d4223f08a2e40277cc6" name="a1b38f971f4dd2d4223f08a2e40277cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b38f971f4dd2d4223f08a2e40277cc6">&#9670;&#160;</a></span>init_menu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_menu </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBrowserState.html">BrowserState</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMenu.html">Menu</a> *&#160;</td>
          <td class="paramname"><em>menu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMuttWindow.html">MuttWindow</a> *&#160;</td>
          <td class="paramname"><em>sbar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a new menu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Browser state </td></tr>
    <tr><td class="paramname">menu</td><td>Current menu </td></tr>
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">sbar</td><td>Status bar </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00585">585</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  587</span>{</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordtype">char</span> title[256] = { 0 };</div>
<div class="line"><span class="lineno">  589</span>  menu-&gt;<a class="code hl_variable" href="structMenu.html#ae696b2e2b9b7686cb17dfe2f4e4e2b8b">max</a> = <a class="code hl_define" href="array_8h.html#a7f1bf469a48c0a2618c94b7b8281c5bf">ARRAY_SIZE</a>(&amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>  <span class="keywordtype">int</span> index = <a class="code hl_function" href="menu_2lib_8h.html#a67ee9260e41986eb4487124b004cff18">menu_get_index</a>(menu);</div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">if</span> (index &gt;= menu-&gt;<a class="code hl_variable" href="structMenu.html#ae696b2e2b9b7686cb17dfe2f4e4e2b8b">max</a>)</div>
<div class="line"><span class="lineno">  593</span>    <a class="code hl_function" href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a>(menu, menu-&gt;<a class="code hl_variable" href="structMenu.html#ae696b2e2b9b7686cb17dfe2f4e4e2b8b">max</a> - 1);</div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">if</span> (index &lt; 0)</div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_function" href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a>(menu, 0);</div>
<div class="line"><span class="lineno">  596</span>  <span class="keywordflow">if</span> (menu-&gt;<a class="code hl_variable" href="structMenu.html#a9b6a0ee3837c582e8cf70e985cde69cc">top</a> &gt; index)</div>
<div class="line"><span class="lineno">  597</span>    menu-&gt;<a class="code hl_variable" href="structMenu.html#a9b6a0ee3837c582e8cf70e985cde69cc">top</a> = 0;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  menu-&gt;<a class="code hl_variable" href="structMenu.html#a3b4aa1cc357ea62fec6e564ebcfe8799">num_tagged</a> = 0;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="globals_8c.html#a0c2f0c035df413a8722b4897d5a88317">OptNews</a>)</div>
<div class="line"><span class="lineno">  602</span>  {</div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="structBrowserState.html#a7ea6ab380d7b4206a2a2438e94176524">is_mailbox_list</a>)</div>
<div class="line"><span class="lineno">  604</span>    {</div>
<div class="line"><span class="lineno">  605</span>      snprintf(title, <span class="keyword">sizeof</span>(title), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Subscribed newsgroups&quot;</span>));</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  608</span>    {</div>
<div class="line"><span class="lineno">  609</span>      snprintf(title, <span class="keyword">sizeof</span>(title), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Newsgroups on server [%s]&quot;</span>),</div>
<div class="line"><span class="lineno">  610</span>               <a class="code hl_variable" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>-&gt;<a class="code hl_variable" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code hl_variable" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code hl_variable" href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">host</a>);</div>
<div class="line"><span class="lineno">  611</span>    }</div>
<div class="line"><span class="lineno">  612</span>  }</div>
<div class="line"><span class="lineno">  613</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  614</span>  {</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="structBrowserState.html#a7ea6ab380d7b4206a2a2438e94176524">is_mailbox_list</a>)</div>
<div class="line"><span class="lineno">  616</span>    {</div>
<div class="line"><span class="lineno">  617</span>      snprintf(title, <span class="keyword">sizeof</span>(title), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Mailboxes [%d]&quot;</span>),</div>
<div class="line"><span class="lineno">  618</span>               <a class="code hl_function" href="mutt__mailbox_8c.html#a46384c63734d157785c2f9db5c9d40f5">mutt_mailbox_check</a>(m, <a class="code hl_define" href="mxapi_8h.html#a20db67a082f406914d798b8caa9686a3">MUTT_MAILBOX_CHECK_NO_FLAGS</a>));</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  621</span>    {</div>
<div class="line"><span class="lineno">  622</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *path = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  623</span>      <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(path, &amp;<a class="code hl_variable" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a>);</div>
<div class="line"><span class="lineno">  624</span>      <a class="code hl_function" href="muttlib_8c.html#a777680c324667521d8c486051c22fe10">buf_pretty_mailbox</a>(path);</div>
<div class="line"><span class="lineno">  625</span>      <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structRegex.html">Regex</a> *c_mask = <a class="code hl_function" href="config_2helpers_8c.html#a1c788f1dbe7b04cec7721fc1c7680b48">cs_subset_regex</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mask&quot;</span>);</div>
<div class="line"><span class="lineno">  626</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> c_imap_list_subscribed = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;imap_list_subscribed&quot;</span>);</div>
<div class="line"><span class="lineno">  627</span>      <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="structBrowserState.html#afe46fc676a2a691f2a4abbdde7c55c9b">imap_browse</a> &amp;&amp; c_imap_list_subscribed)</div>
<div class="line"><span class="lineno">  628</span>      {</div>
<div class="line"><span class="lineno">  629</span>        snprintf(title, <span class="keyword">sizeof</span>(title), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Subscribed [%s], File mask: %s&quot;</span>),</div>
<div class="line"><span class="lineno">  630</span>                 <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path), <a class="code hl_define" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_mask ? c_mask-&gt;<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> : NULL));</div>
<div class="line"><span class="lineno">  631</span>      }</div>
<div class="line"><span class="lineno">  632</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  633</span>      {</div>
<div class="line"><span class="lineno">  634</span>        snprintf(title, <span class="keyword">sizeof</span>(title), <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Directory [%s], File mask: %s&quot;</span>),</div>
<div class="line"><span class="lineno">  635</span>                 <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path), <a class="code hl_define" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_mask ? c_mask-&gt;<a class="code hl_variable" href="structRegex.html#a91a347ac006d49f161382d291f0edd99">pattern</a> : NULL));</div>
<div class="line"><span class="lineno">  636</span>      }</div>
<div class="line"><span class="lineno">  637</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;path);</div>
<div class="line"><span class="lineno">  638</span>    }</div>
<div class="line"><span class="lineno">  639</span>  }</div>
<div class="line"><span class="lineno">  640</span>  <a class="code hl_function" href="sbar_8c.html#aea83b6013a1be53fcb5ef26b0dc84cd3">sbar_set_title</a>(sbar, title);</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>  <span class="comment">/* Browser tracking feature.</span></div>
<div class="line"><span class="lineno">  643</span><span class="comment">   * The goal is to highlight the good directory if LastDir is the parent dir</span></div>
<div class="line"><span class="lineno">  644</span><span class="comment">   * of LastDirBackup (this occurs mostly when one hit &quot;../&quot;). It should also work</span></div>
<div class="line"><span class="lineno">  645</span><span class="comment">   * properly when the user is in examine_mailboxes-mode.  */</span></div>
<div class="line"><span class="lineno">  646</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a>)))</div>
<div class="line"><span class="lineno">  647</span>  {</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordtype">char</span> target_dir[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="comment">/* Check what kind of dir LastDirBackup is. */</span></div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="group__mx__path__probe.html#gab4f27af8eb857a20834f445be3f498de">imap_path_probe</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>), NULL) == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>)</div>
<div class="line"><span class="lineno">  652</span>    {</div>
<div class="line"><span class="lineno">  653</span>      <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(target_dir, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>), <span class="keyword">sizeof</span>(target_dir));</div>
<div class="line"><span class="lineno">  654</span>      <a class="code hl_function" href="imap_2lib_8h.html#a7c4dbc9f84be00789935c291832b75b2">imap_clean_path</a>(target_dir, <span class="keyword">sizeof</span>(target_dir));</div>
<div class="line"><span class="lineno">  655</span>    }</div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  657</span>    {</div>
<div class="line"><span class="lineno">  658</span>      <a class="code hl_function" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(target_dir, strrchr(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>), <span class="charliteral">&#39;/&#39;</span>) + 1,</div>
<div class="line"><span class="lineno">  659</span>                    <span class="keyword">sizeof</span>(target_dir));</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="comment">/* If we get here, it means that LastDir is the parent directory of</span></div>
<div class="line"><span class="lineno">  663</span><span class="comment">     * LastDirBackup.  I.e., we&#39;re returning from a subdirectory, and we want</span></div>
<div class="line"><span class="lineno">  664</span><span class="comment">     * to position the cursor on the directory we&#39;re returning from. */</span></div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordtype">bool</span> matched = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  666</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structFolderFile.html">FolderFile</a> *ff = NULL;</div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_define" href="array_8h.html#a6b8ea5fb2f366d7716f5042b347093a6">ARRAY_FOREACH</a>(ff, &amp;state-&gt;<a class="code hl_variable" href="structBrowserState.html#aa9f0e9b3778d58224e831a9e48863c5b">entry</a>)</div>
<div class="line"><span class="lineno">  668</span>    {</div>
<div class="line"><span class="lineno">  669</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(ff-&gt;<a class="code hl_variable" href="structFolderFile.html#a3c2e39b044a6cdb272601604579d3355">name</a>, target_dir))</div>
<div class="line"><span class="lineno">  670</span>      {</div>
<div class="line"><span class="lineno">  671</span>        <a class="code hl_function" href="menu_2lib_8h.html#ae279bb826b97fcc88c0714b2a6383851">menu_set_index</a>(menu, ARRAY_FOREACH_IDX_ff);</div>
<div class="line"><span class="lineno">  672</span>        matched = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  673</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  674</span>      }</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">if</span> (!matched)</div>
<div class="line"><span class="lineno">  677</span>      <a class="code hl_function" href="dlg__browser_8c.html#aeeaf086f04f00f0d0c691b6275f2ae22">browser_highlight_default</a>(state, menu);</div>
<div class="line"><span class="lineno">  678</span>  }</div>
<div class="line"><span class="lineno">  679</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  680</span>  {</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_function" href="dlg__browser_8c.html#aeeaf086f04f00f0d0c691b6275f2ae22">browser_highlight_default</a>(state, menu);</div>
<div class="line"><span class="lineno">  682</span>  }</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  <a class="code hl_function" href="menu_2lib_8h.html#a5a9733924cc01176ee916515a3683268">menu_queue_redraw</a>(menu, <a class="code hl_define" href="menu_2lib_8h.html#a073caf105025cd1e03e766c7e4e9ec2f">MENU_REDRAW_FULL</a>);</div>
<div class="line"><span class="lineno">  685</span>}</div>
<div class="ttc" id="aarray_8h_html_a6b8ea5fb2f366d7716f5042b347093a6"><div class="ttname"><a href="array_8h.html#a6b8ea5fb2f366d7716f5042b347093a6">ARRAY_FOREACH</a></div><div class="ttdeci">#define ARRAY_FOREACH(elem, head)</div><div class="ttdoc">Iterate over all elements of the array.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00214">array.h:214</a></div></div>
<div class="ttc" id="aarray_8h_html_a7f1bf469a48c0a2618c94b7b8281c5bf"><div class="ttname"><a href="array_8h.html#a7f1bf469a48c0a2618c94b7b8281c5bf">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(head)</div><div class="ttdoc">The number of elements stored.</div><div class="ttdef"><b>Definition:</b> <a href="array_8h_source.html#l00087">array.h:87</a></div></div>
<div class="ttc" id="abuffer_8c_html_ad68834195d667b0932da5133a5402d70"><div class="ttname"><a href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a></div><div class="ttdeci">size_t buf_copy(struct Buffer *dst, const struct Buffer *src)</div><div class="ttdoc">Copy a Buffer's contents to another Buffer.</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00601">buffer.c:601</a></div></div>
<div class="ttc" id="adlg__browser_8c_html_aeeaf086f04f00f0d0c691b6275f2ae22"><div class="ttname"><a href="dlg__browser_8c.html#aeeaf086f04f00f0d0c691b6275f2ae22">browser_highlight_default</a></div><div class="ttdeci">void browser_highlight_default(struct BrowserState *state, struct Menu *menu)</div><div class="ttdoc">Decide which browser item should be highlighted.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00559">dlg_browser.c:559</a></div></div>
<div class="ttc" id="agroup__mx__path__probe_html_gab4f27af8eb857a20834f445be3f498de"><div class="ttname"><a href="group__mx__path__probe.html#gab4f27af8eb857a20834f445be3f498de">imap_path_probe</a></div><div class="ttdeci">enum MailboxType imap_path_probe(const char *path, const struct stat *st)</div><div class="ttdoc">Is this an IMAP Mailbox? - Implements MxOps::path_probe() -.</div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l02349">imap.c:2349</a></div></div>
<div class="ttc" id="aimap_2lib_8h_html_a7c4dbc9f84be00789935c291832b75b2"><div class="ttname"><a href="imap_2lib_8h.html#a7c4dbc9f84be00789935c291832b75b2">imap_clean_path</a></div><div class="ttdeci">void imap_clean_path(char *path, size_t plen)</div><div class="ttdoc">Cleans an IMAP path using imap_fix_path.</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00190">util.c:190</a></div></div>
<div class="ttc" id="amenu_2lib_8h_html_a073caf105025cd1e03e766c7e4e9ec2f"><div class="ttname"><a href="menu_2lib_8h.html#a073caf105025cd1e03e766c7e4e9ec2f">MENU_REDRAW_FULL</a></div><div class="ttdeci">#define MENU_REDRAW_FULL</div><div class="ttdoc">Redraw everything.</div><div class="ttdef"><b>Definition:</b> <a href="menu_2lib_8h_source.html#l00059">lib.h:59</a></div></div>
<div class="ttc" id="amenu_2lib_8h_html_a5a9733924cc01176ee916515a3683268"><div class="ttname"><a href="menu_2lib_8h.html#a5a9733924cc01176ee916515a3683268">menu_queue_redraw</a></div><div class="ttdeci">void menu_queue_redraw(struct Menu *menu, MenuRedrawFlags redraw)</div><div class="ttdoc">Queue a request for a redraw.</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00184">menu.c:184</a></div></div>
<div class="ttc" id="amenu_2lib_8h_html_a67ee9260e41986eb4487124b004cff18"><div class="ttname"><a href="menu_2lib_8h.html#a67ee9260e41986eb4487124b004cff18">menu_get_index</a></div><div class="ttdeci">int menu_get_index(struct Menu *menu)</div><div class="ttdoc">Get the current selection in the Menu.</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00160">menu.c:160</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00581">string.c:581</a></div></div>
<div class="ttc" id="asbar_8c_html_aea83b6013a1be53fcb5ef26b0dc84cd3"><div class="ttname"><a href="sbar_8c.html#aea83b6013a1be53fcb5ef26b0dc84cd3">sbar_set_title</a></div><div class="ttdeci">void sbar_set_title(struct MuttWindow *win, const char *title)</div><div class="ttdoc">Set the title for the Simple Bar.</div><div class="ttdef"><b>Definition:</b> <a href="sbar_8c_source.html#l00227">sbar.c:227</a></div></div>
<div class="ttc" id="astring2_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="string2_8h_source.html#l00043">string2.h:43</a></div></div>
<div class="ttc" id="astructConnAccount_html_aa440323ef3111e1faaf33f6a57103a3a"><div class="ttname"><a href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">ConnAccount::host</a></div><div class="ttdeci">char host[128]</div><div class="ttdoc">Server to login to.</div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00054">connaccount.h:54</a></div></div>
<div class="ttc" id="astructConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc.</div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00049">connection.h:49</a></div></div>
<div class="ttc" id="astructMenu_html_a3b4aa1cc357ea62fec6e564ebcfe8799"><div class="ttname"><a href="structMenu.html#a3b4aa1cc357ea62fec6e564ebcfe8799">Menu::num_tagged</a></div><div class="ttdeci">int num_tagged</div><div class="ttdoc">Number of tagged entries.</div><div class="ttdef"><b>Definition:</b> <a href="menu_2lib_8h_source.html#l00093">lib.h:93</a></div></div>
<div class="ttc" id="astructNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdoc">Connection to NNTP Server.</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="astructRegex_html_a91a347ac006d49f161382d291f0edd99"><div class="ttname"><a href="structRegex.html#a91a347ac006d49f161382d291f0edd99">Regex::pattern</a></div><div class="ttdeci">char * pattern</div><div class="ttdoc">printable version</div><div class="ttdef"><b>Definition:</b> <a href="regex3_8h_source.html#l00087">regex3.h:87</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a1b38f971f4dd2d4223f08a2e40277cc6_cgraph.svg" width="495" height="880"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a1b38f971f4dd2d4223f08a2e40277cc6_icgraph.svg" width="315" height="480"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9fbed4ed086e8d9c2907e8f43d6143f2" name="a9fbed4ed086e8d9c2907e8f43d6143f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fbed4ed086e8d9c2907e8f43d6143f2">&#9670;&#160;</a></span>mutt_browser_select_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_browser_select_dir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remember the last directory selected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Directory name to save</td></tr>
  </table>
  </dd>
</dl>
<p>This function helps the browser to know which directory has been selected. It should be called anywhere a confirm hit is done to open a new directory/file which is a maildir/mbox.</p>
<p>We could check if the sort method is appropriate with this feature. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00830">830</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  831</span>{</div>
<div class="line"><span class="lineno">  832</span>  <a class="code hl_function" href="dlg__browser_8c.html#a3a2a586cddbc6bf0aae67ea4b85eae81">init_lastdir</a>();</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>, f);</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>  <span class="comment">/* Method that will fetch the parent path depending on the type of the path. */</span></div>
<div class="line"><span class="lineno">  837</span>  <span class="keywordtype">char</span> buf[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  838</span>  <a class="code hl_function" href="muttlib_8c.html#a18edb91c53ec5ae71e0dad16f14eef27">mutt_get_parent_path</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#ac52844664e29705d1ff9110ad6c62bf0">LastDirBackup</a>), buf, <span class="keyword">sizeof</span>(buf));</div>
<div class="line"><span class="lineno">  839</span>  <a class="code hl_function" href="buffer_8c.html#ac958acbd189e463a2c3bbc2f23aaeb1e">buf_strcpy</a>(&amp;<a class="code hl_variable" href="dlg__browser_8c.html#a7b9330cfc3900716b46bcb97f0a65f04">LastDir</a>, buf);</div>
<div class="line"><span class="lineno">  840</span>}</div>
<div class="ttc" id="adlg__browser_8c_html_a3a2a586cddbc6bf0aae67ea4b85eae81"><div class="ttname"><a href="dlg__browser_8c.html#a3a2a586cddbc6bf0aae67ea4b85eae81">init_lastdir</a></div><div class="ttdeci">static void init_lastdir(void)</div><div class="ttdoc">Initialise the browser directories.</div><div class="ttdef"><b>Definition:</b> <a href="dlg__browser_8c_source.html#l00145">dlg_browser.c:145</a></div></div>
<div class="ttc" id="amuttlib_8c_html_a18edb91c53ec5ae71e0dad16f14eef27"><div class="ttname"><a href="muttlib_8c.html#a18edb91c53ec5ae71e0dad16f14eef27">mutt_get_parent_path</a></div><div class="ttdeci">void mutt_get_parent_path(const char *path, char *buf, size_t buflen)</div><div class="ttdoc">Find the parent of a path (or mailbox)</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00921">muttlib.c:921</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a9fbed4ed086e8d9c2907e8f43d6143f2_cgraph.svg" width="394" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="dlg__browser_8c_a9fbed4ed086e8d9c2907e8f43d6143f2_icgraph.svg" width="403" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac8e1c032b65d1d5ba98e737571215bb1" name="ac8e1c032b65d1d5ba98e737571215bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e1c032b65d1d5ba98e737571215bb1">&#9670;&#160;</a></span>FolderHelp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structMapping.html">Mapping</a> FolderHelp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  </div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Exit&quot;</span>),  OP_EXIT },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Chdir&quot;</span>), OP_CHANGE_DIRECTORY },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Goto&quot;</span>),  OP_BROWSER_GOTO_FOLDER },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Mask&quot;</span>),  OP_ENTER_MASK },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Help&quot;</span>),  OP_HELP },</div>
<div class="line">  { NULL, 0 },</div>
<div class="line">  </div>
<div class="line">}</div>
<div class="ttc" id="amutt_2message_8h_html_a31ded3def3488d88308bf46040b4ca19"><div class="ttname"><a href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a></div><div class="ttdeci">#define N_(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00032">message.h:32</a></div></div>
</div><!-- fragment -->
<p>Help Bar for the File/Dir/Mailbox browser dialog. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00110">110</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>

</div>
</div>
<a id="a4c2145b2c5c5bce768e8c77d335a45cc" name="a4c2145b2c5c5bce768e8c77d335a45cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2145b2c5c5bce768e8c77d335a45cc">&#9670;&#160;</a></span>FolderNewsHelp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structMapping.html">Mapping</a> FolderNewsHelp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  </div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Exit&quot;</span>),        OP_EXIT },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;List&quot;</span>),        OP_TOGGLE_MAILBOXES },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Subscribe&quot;</span>),   OP_BROWSER_SUBSCRIBE },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Unsubscribe&quot;</span>), OP_BROWSER_UNSUBSCRIBE },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Catchup&quot;</span>),     OP_CATCHUP },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Mask&quot;</span>),        OP_ENTER_MASK },</div>
<div class="line">  { <a class="code hl_define" href="mutt_2message_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Help&quot;</span>),        OP_HELP },</div>
<div class="line">  { NULL, 0 },</div>
<div class="line">  </div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Help Bar for the NNTP <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> browser dialog. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00122">122</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>

</div>
</div>
<a id="a7b9330cfc3900716b46bcb97f0a65f04" name="a7b9330cfc3900716b46bcb97f0a65f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b9330cfc3900716b46bcb97f0a65f04">&#9670;&#160;</a></span>LastDir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structBuffer.html">Buffer</a> LastDir = { 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Browser: previous selected directory. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00136">136</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>

</div>
</div>
<a id="ac52844664e29705d1ff9110ad6c62bf0" name="ac52844664e29705d1ff9110ad6c62bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52844664e29705d1ff9110ad6c62bf0">&#9670;&#160;</a></span>LastDirBackup</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structBuffer.html">Buffer</a> LastDirBackup = { 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Browser: backup copy of the current directory. </p>

<p class="definition">Definition at line <a class="el" href="dlg__browser_8c_source.html#l00138">138</a> of file <a class="el" href="dlg__browser_8c_source.html">dlg_browser.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
