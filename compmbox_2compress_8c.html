<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: compmbox/compress.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-1-gcddbd1</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('compmbox_2compress_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">compress.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Compressed mbox local mailbox type.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mutt_2lib_8h_source.html">mutt/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_2lib_8h_source.html">config/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="core_2lib_8h_source.html">core/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gui_2lib_8h_source.html">gui/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compmbox_2lib_8h_source.html">lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="expando_2lib_8h_source.html">expando/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="compmbox_2expando_8h_source.html">expando.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hook_8h_source.html">hook.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mx_8h_source.html">mx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="protos_8h_source.html">protos.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for compress.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c__incl.svg" width="1387" height="196"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="compmbox_2compress_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8440ad71a5e3d43cd2c836c777bccded" id="r_a8440ad71a5e3d43cd2c836c777bccded"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8440ad71a5e3d43cd2c836c777bccded">mutt_comp_init</a> (void)</td></tr>
<tr class="memdesc:a8440ad71a5e3d43cd2c836c777bccded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup Compressed <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> commands.  <br /></td></tr>
<tr class="separator:a8440ad71a5e3d43cd2c836c777bccded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c82fa05ac9a30a1cd0e5c5b472ae066" id="r_a8c82fa05ac9a30a1cd0e5c5b472ae066"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c82fa05ac9a30a1cd0e5c5b472ae066">lock_realpath</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, bool excl)</td></tr>
<tr class="memdesc:a8c82fa05ac9a30a1cd0e5c5b472ae066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to lock the <a class="el" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f" title="Used for duplicate detection, context comparison, and the sidebar.">Mailbox.realpath</a>.  <br /></td></tr>
<tr class="separator:a8c82fa05ac9a30a1cd0e5c5b472ae066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35e239a0ed2772ae5824c317276f83a" id="r_aa35e239a0ed2772ae5824c317276f83a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:aa35e239a0ed2772ae5824c317276f83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the mailbox-&gt;realpath.  <br /></td></tr>
<tr class="separator:aa35e239a0ed2772ae5824c317276f83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e1b3c821fbb441941a42b24149fbb3" id="r_a60e1b3c821fbb441941a42b24149fbb3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60e1b3c821fbb441941a42b24149fbb3">setup_paths</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a60e1b3c821fbb441941a42b24149fbb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the mailbox paths.  <br /></td></tr>
<tr class="separator:a60e1b3c821fbb441941a42b24149fbb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877acb05482802a48bc56da5e24c8c54" id="r_a877acb05482802a48bc56da5e24c8c54"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a877acb05482802a48bc56da5e24c8c54">store_size</a> (const struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a877acb05482802a48bc56da5e24c8c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the size of the compressed file.  <br /></td></tr>
<tr class="separator:a877acb05482802a48bc56da5e24c8c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1706f5e36d466053b589c0dd335816a" id="r_af1706f5e36d466053b589c0dd335816a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structExpando.html">Expando</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1706f5e36d466053b589c0dd335816a">validate_compress_expando</a> (const char *s)</td></tr>
<tr class="memdesc:af1706f5e36d466053b589c0dd335816a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the Compress hooks.  <br /></td></tr>
<tr class="separator:af1706f5e36d466053b589c0dd335816a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a32c514bae251affffd84d7328af23a" id="r_a5a32c514bae251affffd84d7328af23a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structCompressInfo.html">CompressInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a32c514bae251affffd84d7328af23a">set_compress_info</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a5a32c514bae251affffd84d7328af23a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the compress hooks for a mailbox.  <br /></td></tr>
<tr class="separator:a5a32c514bae251affffd84d7328af23a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae987f4dda46e1423fedf6a0ac0b2de" id="r_a5ae987f4dda46e1423fedf6a0ac0b2de"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ae987f4dda46e1423fedf6a0ac0b2de">compress_info_free</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a5ae987f4dda46e1423fedf6a0ac0b2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the compress info members and structure.  <br /></td></tr>
<tr class="separator:a5ae987f4dda46e1423fedf6a0ac0b2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72bc28dc8d4e5d6e73aeb6607acfcc6" id="r_ac72bc28dc8d4e5d6e73aeb6607acfcc6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac72bc28dc8d4e5d6e73aeb6607acfcc6">execute_command</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const struct <a class="el" href="structExpando.html">Expando</a> *exp, const char *progress)</td></tr>
<tr class="memdesc:ac72bc28dc8d4e5d6e73aeb6607acfcc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a system command.  <br /></td></tr>
<tr class="separator:ac72bc28dc8d4e5d6e73aeb6607acfcc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3c7362d3b06ea8c32ce55d5c3db5f1" id="r_a9f3c7362d3b06ea8c32ce55d5c3db5f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f3c7362d3b06ea8c32ce55d5c3db5f1">mutt_comp_can_append</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a9f3c7362d3b06ea8c32ce55d5c3db5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can we append to this path?  <br /></td></tr>
<tr class="separator:a9f3c7362d3b06ea8c32ce55d5c3db5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e4caf583046a535cf5fda9933d3c74" id="r_af5e4caf583046a535cf5fda9933d3c74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5e4caf583046a535cf5fda9933d3c74">mutt_comp_can_read</a> (const char *path)</td></tr>
<tr class="memdesc:af5e4caf583046a535cf5fda9933d3c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can we read from this file?  <br /></td></tr>
<tr class="separator:af5e4caf583046a535cf5fda9933d3c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77ea42f102d3aced8ea915e95a83bd4" id="r_ab77ea42f102d3aced8ea915e95a83bd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab77ea42f102d3aced8ea915e95a83bd4">mutt_comp_valid_command</a> (const char *cmd)</td></tr>
<tr class="memdesc:ab77ea42f102d3aced8ea915e95a83bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this command string allowed?  <br /></td></tr>
<tr class="separator:ab77ea42f102d3aced8ea915e95a83bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd2c1f164cf3e15e8391110717418a3e" id="r_gadd2c1f164cf3e15e8391110717418a3e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__ac__owns__path.html#gadd2c1f164cf3e15e8391110717418a3e">comp_ac_owns_path</a> (struct <a class="el" href="structAccount.html">Account</a> *a, const char *path)</td></tr>
<tr class="memdesc:gadd2c1f164cf3e15e8391110717418a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether an <a class="el" href="structAccount.html" title="A group of associated Mailboxes.">Account</a> owns a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> path - Implements <a class="el" href="structMxOps.html#a8036f191d1b0ace220c5a5ff52f609b4">MxOps::ac_owns_path()</a> -.  <br /></td></tr>
<tr class="separator:gadd2c1f164cf3e15e8391110717418a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6d5ec9cf297a30e4b0673609773f156" id="r_gad6d5ec9cf297a30e4b0673609773f156"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__ac__add.html#gad6d5ec9cf297a30e4b0673609773f156">comp_ac_add</a> (struct <a class="el" href="structAccount.html">Account</a> *a, struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gad6d5ec9cf297a30e4b0673609773f156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to an <a class="el" href="structAccount.html" title="A group of associated Mailboxes.">Account</a> - Implements <a class="el" href="structMxOps.html#ac432a4900b0ca5a5ca2dc98319dbf737">MxOps::ac_add()</a> -.  <br /></td></tr>
<tr class="separator:gad6d5ec9cf297a30e4b0673609773f156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga017f8938078bb770eb825f2de2e588b0" id="r_ga017f8938078bb770eb825f2de2e588b0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#ga017f8938078bb770eb825f2de2e588b0">comp_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga017f8938078bb770eb825f2de2e588b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <br /></td></tr>
<tr class="separator:ga017f8938078bb770eb825f2de2e588b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5411107efad334d6cfdf124b9856e673" id="r_ga5411107efad334d6cfdf124b9856e673"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open__append.html#ga5411107efad334d6cfdf124b9856e673">comp_mbox_open_append</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, <a class="el" href="mxapi_8h.html#a12d50555671e01ef64b027974fc5acfa">OpenMailboxFlags</a> flags)</td></tr>
<tr class="memdesc:ga5411107efad334d6cfdf124b9856e673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> for appending - Implements <a class="el" href="structMxOps.html#af201c2c2f87a1253cbaf8ae24f062ef3">MxOps::mbox_open_append()</a> -.  <br /></td></tr>
<tr class="separator:ga5411107efad334d6cfdf124b9856e673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf3eceb782a3061fe668121697cc2e22" id="r_gabf3eceb782a3061fe668121697cc2e22"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__check.html#gabf3eceb782a3061fe668121697cc2e22">comp_mbox_check</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gabf3eceb782a3061fe668121697cc2e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for new mail - Implements <a class="el" href="structMxOps.html#af72b7c6ef064d1ca86b71ac9aff3e875">MxOps::mbox_check()</a> -.  <br /></td></tr>
<tr class="separator:gabf3eceb782a3061fe668121697cc2e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeb7755ceb989e6dc91e9afa2ff9e84e" id="r_gadeb7755ceb989e6dc91e9afa2ff9e84e"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__sync.html#gadeb7755ceb989e6dc91e9afa2ff9e84e">comp_mbox_sync</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gadeb7755ceb989e6dc91e9afa2ff9e84e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save changes to the <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#aebbfeec5651637ec053cc47b95c124af">MxOps::mbox_sync()</a> -.  <br /></td></tr>
<tr class="separator:gadeb7755ceb989e6dc91e9afa2ff9e84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac39b99d890436a70c50814a4701ed597" id="r_gac39b99d890436a70c50814a4701ed597"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#af414aea967025ea4ba10b86268488432">MxStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__close.html#gac39b99d890436a70c50814a4701ed597">comp_mbox_close</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gac39b99d890436a70c50814a4701ed597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ae97b81d5371def5f6f2e64544cdec5fc">MxOps::mbox_close()</a> -.  <br /></td></tr>
<tr class="separator:gac39b99d890436a70c50814a4701ed597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaad1145cbd51b6eb65417e2602e02fbe" id="r_gaaad1145cbd51b6eb65417e2602e02fbe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__open.html#gaaad1145cbd51b6eb65417e2602e02fbe">comp_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:gaaad1145cbd51b6eb65417e2602e02fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:gaaad1145cbd51b6eb65417e2602e02fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c943e36f1c8e2354a8303c4435393dd" id="r_ga8c943e36f1c8e2354a8303c4435393dd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__open__new.html#ga8c943e36f1c8e2354a8303c4435393dd">comp_msg_open_new</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, const struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga8c943e36f1c8e2354a8303c4435393dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a new message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ada910d49b8f3d007c32aa8a4adc15637">MxOps::msg_open_new()</a> -.  <br /></td></tr>
<tr class="separator:ga8c943e36f1c8e2354a8303c4435393dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga449d225488040512f5696e4f76f36694" id="r_ga449d225488040512f5696e4f76f36694"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__commit.html#ga449d225488040512f5696e4f76f36694">comp_msg_commit</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg)</td></tr>
<tr class="memdesc:ga449d225488040512f5696e4f76f36694"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save changes to an email - Implements <a class="el" href="structMxOps.html#ab59dadf81aec5575a1c690caa4822e37">MxOps::msg_commit()</a> -.  <br /></td></tr>
<tr class="separator:ga449d225488040512f5696e4f76f36694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cedad82abc13c823ff2d0e7bc1b66f9" id="r_ga9cedad82abc13c823ff2d0e7bc1b66f9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__close.html#ga9cedad82abc13c823ff2d0e7bc1b66f9">comp_msg_close</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg)</td></tr>
<tr class="memdesc:ga9cedad82abc13c823ff2d0e7bc1b66f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an email - Implements <a class="el" href="structMxOps.html#ad53e3df1ff124eea52bc0488915e9ae4">MxOps::msg_close()</a> -.  <br /></td></tr>
<tr class="separator:ga9cedad82abc13c823ff2d0e7bc1b66f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e6812b4bba1845ea248f4df93c06fea" id="r_ga0e6812b4bba1845ea248f4df93c06fea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__padding__size.html#ga0e6812b4bba1845ea248f4df93c06fea">comp_msg_padding_size</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga0e6812b4bba1845ea248f4df93c06fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bytes of padding between messages - Implements <a class="el" href="structMxOps.html#a784ae2e2b98208080a641974ce4df834">MxOps::msg_padding_size()</a> -.  <br /></td></tr>
<tr class="separator:ga0e6812b4bba1845ea248f4df93c06fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac329588156f6dfd55072cc812ff043cd" id="r_gac329588156f6dfd55072cc812ff043cd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__msg__save__hcache.html#gac329588156f6dfd55072cc812ff043cd">comp_msg_save_hcache</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:gac329588156f6dfd55072cc812ff043cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save message to the header cache - Implements <a class="el" href="structMxOps.html#a4c0ce9432905dfb3f6849c97ae504f84">MxOps::msg_save_hcache()</a> -.  <br /></td></tr>
<tr class="separator:gac329588156f6dfd55072cc812ff043cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae590acf08296adc53c72386bc68938ce" id="r_gae590acf08296adc53c72386bc68938ce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__tags__edit.html#gae590acf08296adc53c72386bc68938ce">comp_tags_edit</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *tags, struct <a class="el" href="structBuffer.html">Buffer</a> *buf)</td></tr>
<tr class="memdesc:gae590acf08296adc53c72386bc68938ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompt and validate new messages tags - Implements <a class="el" href="structMxOps.html#a9b14a8b820a431e67082863331938d81">MxOps::tags_edit()</a> -.  <br /></td></tr>
<tr class="separator:gae590acf08296adc53c72386bc68938ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac663a0b667d336d2010914f5f0be7c37" id="r_gac663a0b667d336d2010914f5f0be7c37"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__tags__commit.html#gac663a0b667d336d2010914f5f0be7c37">comp_tags_commit</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e, const char *buf)</td></tr>
<tr class="memdesc:gac663a0b667d336d2010914f5f0be7c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the tags to a message - Implements <a class="el" href="structMxOps.html#a2c86bd6a85aefbb16701be00593013fb">MxOps::tags_commit()</a> -.  <br /></td></tr>
<tr class="separator:gac663a0b667d336d2010914f5f0be7c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad886126ad1805be0c69f9b2fe138db10" id="r_gad886126ad1805be0c69f9b2fe138db10"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921d">MailboxType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__path__probe.html#gad886126ad1805be0c69f9b2fe138db10">comp_path_probe</a> (const char *path, const struct stat *st)</td></tr>
<tr class="memdesc:gad886126ad1805be0c69f9b2fe138db10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a compressed <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>?  <br /></td></tr>
<tr class="separator:gad886126ad1805be0c69f9b2fe138db10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ccac52345a9318ef488da005b4e578d" id="r_ga4ccac52345a9318ef488da005b4e578d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__path__canon.html#ga4ccac52345a9318ef488da005b4e578d">comp_path_canon</a> (struct <a class="el" href="structBuffer.html">Buffer</a> *path)</td></tr>
<tr class="memdesc:ga4ccac52345a9318ef488da005b4e578d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Canonicalise a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> path - Implements <a class="el" href="structMxOps.html#ae8d7490a00b551c9430cd45db3cd517a">MxOps::path_canon()</a> -.  <br /></td></tr>
<tr class="separator:ga4ccac52345a9318ef488da005b4e578d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa95fe1211fa05439ba1ab5fe9e638813" id="r_aa95fe1211fa05439ba1ab5fe9e638813"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structCommand.html">Command</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa95fe1211fa05439ba1ab5fe9e638813">CompCommands</a> []</td></tr>
<tr class="memdesc:aa95fe1211fa05439ba1ab5fe9e638813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compression Commands.  <br /></td></tr>
<tr class="separator:aa95fe1211fa05439ba1ab5fe9e638813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1b542a9adb8833e20013f96e164a26" id="r_a6c1b542a9adb8833e20013f96e164a26"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structExpandoDefinition.html">ExpandoDefinition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c1b542a9adb8833e20013f96e164a26">CompressFormatDef</a> []</td></tr>
<tr class="memdesc:a6c1b542a9adb8833e20013f96e164a26"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structExpando.html" title="Parsed Expando trees.">Expando</a> definitions.  <br /></td></tr>
<tr class="separator:a6c1b542a9adb8833e20013f96e164a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6a44181c588646a076abd5ba38e2c2d" id="r_gaa6a44181c588646a076abd5ba38e2c2d"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structMxOps.html">MxOps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__api.html#gaa6a44181c588646a076abd5ba38e2c2d">MxCompOps</a></td></tr>
<tr class="memdesc:gaa6a44181c588646a076abd5ba38e2c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compressed <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html">MxOps</a> -.  <br /></td></tr>
<tr class="separator:gaa6a44181c588646a076abd5ba38e2c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compressed mbox local mailbox type. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
<li>Pietro Cerutti</li>
<li>Reto Brunner</li>
<li>Tóth János</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8440ad71a5e3d43cd2c836c777bccded" name="a8440ad71a5e3d43cd2c836c777bccded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8440ad71a5e3d43cd2c836c777bccded">&#9670;&#160;</a></span>mutt_comp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_comp_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup Compressed <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> commands. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00090">90</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>{</div>
<div class="line"><span class="lineno">   92</span>  <a class="code hl_function" href="core_2command_8c.html#a1763d41d44392438fea7833979888888">commands_register</a>(&amp;<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#a3024ae27b85ddf7c9c3ff11299d01b05">commands</a>, <a class="code hl_variable" href="#aa95fe1211fa05439ba1ab5fe9e638813">CompCommands</a>);</div>
<div class="line"><span class="lineno">   93</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_aa95fe1211fa05439ba1ab5fe9e638813"><div class="ttname"><a href="#aa95fe1211fa05439ba1ab5fe9e638813">CompCommands</a></div><div class="ttdeci">static const struct Command CompCommands[]</div><div class="ttdoc">Compression Commands.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00062">compress.c:62</a></div></div>
<div class="ttc" id="acore_2command_8c_html_a1763d41d44392438fea7833979888888"><div class="ttname"><a href="core_2command_8c.html#a1763d41d44392438fea7833979888888">commands_register</a></div><div class="ttdeci">bool commands_register(struct CommandArray *ca, const struct Command *cmds)</div><div class="ttdoc">Add commands to Commands array.</div><div class="ttdef"><b>Definition</b> <a href="core_2command_8c_source.html#l00051">command.c:51</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00041">neomutt.h:42</a></div></div>
<div class="ttc" id="astructNeoMutt_html_a3024ae27b85ddf7c9c3ff11299d01b05"><div class="ttname"><a href="structNeoMutt.html#a3024ae27b85ddf7c9c3ff11299d01b05">NeoMutt::commands</a></div><div class="ttdeci">struct CommandArray commands</div><div class="ttdoc">NeoMutt commands.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00050">neomutt.h:50</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a8440ad71a5e3d43cd2c836c777bccded_cgraph.svg" width="319" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a8440ad71a5e3d43cd2c836c777bccded_icgraph.svg" width="227" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8c82fa05ac9a30a1cd0e5c5b472ae066" name="a8c82fa05ac9a30a1cd0e5c5b472ae066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c82fa05ac9a30a1cd0e5c5b472ae066">&#9670;&#160;</a></span>lock_realpath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool lock_realpath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>excl</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to lock the <a class="el" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f" title="Used for duplicate detection, context comparison, and the sidebar.">Mailbox.realpath</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to lock </td></tr>
    <tr><td class="paramname">excl</td><td>Lock exclusively? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success (locked or readonly) </td></tr>
    <tr><td class="paramname">false</td><td>Error (can't lock the file)</td></tr>
  </table>
  </dd>
</dl>
<p>Try to (exclusively) lock the mailbox. If we succeed, then we mark the mailbox as locked. If we fail, but we didn't want exclusive rights, then the mailbox will be marked readonly. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00106">106</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>{</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">if</span> (!m || !m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">if</span> (ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aac3530ca93433b36ec7118f2278f8280">locked</a>)</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">if</span> (excl)</div>
<div class="line"><span class="lineno">  117</span>    ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, <span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  119</span>    ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  120</span>  <span class="keywordflow">if</span> (!ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a>)</div>
<div class="line"><span class="lineno">  121</span>  {</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  124</span>  }</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordtype">int</span> r = <a class="code hl_function" href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a>(fileno(ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a>), excl, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (r == 0)</div>
<div class="line"><span class="lineno">  128</span>  {</div>
<div class="line"><span class="lineno">  129</span>    ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aac3530ca93433b36ec7118f2278f8280">locked</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  130</span>  }</div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (excl)</div>
<div class="line"><span class="lineno">  132</span>  {</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a>);</div>
<div class="line"><span class="lineno">  134</span>    m-&gt;<a class="code hl_variable" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  136</span>  }</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  <span class="keywordflow">return</span> r == 0;</div>
<div class="line"><span class="lineno">  139</span>}</div>
<div class="ttc" id="afile_8c_html_a4cdd1f9b1b370cbf5a8348f63cfe67cf"><div class="ttname"><a href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a></div><div class="ttdeci">int mutt_file_lock(int fd, bool excl, bool timeout)</div><div class="ttdoc">(Try to) Lock a file using fcntl()</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01095">file.c:1095</a></div></div>
<div class="ttc" id="afile_8h_html_a9b519e795f098be88b93cd72c49a35ec"><div class="ttname"><a href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a></div><div class="ttdeci">#define mutt_file_fclose(FP)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00139">file.h:139</a></div></div>
<div class="ttc" id="afile_8h_html_a9fa358d76519cb6bc8ffca5850976d46"><div class="ttname"><a href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a></div><div class="ttdeci">#define mutt_file_fopen(PATH, MODE)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00138">file.h:138</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="astructCompressInfo_html"><div class="ttname"><a href="structCompressInfo.html">CompressInfo</a></div><div class="ttdoc">Private data for compress.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00059">lib.h:60</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a2aca1d78a4d745a6a795dab05279f8db"><div class="ttname"><a href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">CompressInfo::fp_lock</a></div><div class="ttdeci">FILE * fp_lock</div><div class="ttdoc">fp used for locking</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00067">lib.h:67</a></div></div>
<div class="ttc" id="astructCompressInfo_html_aac3530ca93433b36ec7118f2278f8280"><div class="ttname"><a href="structCompressInfo.html#aac3530ca93433b36ec7118f2278f8280">CompressInfo::locked</a></div><div class="ttdeci">bool locked</div><div class="ttdoc">if realpath is locked</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00066">lib.h:66</a></div></div>
<div class="ttc" id="astructMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="astructMailbox_html_adfd56243ea7dd8797f3d75f33f1d607a"><div class="ttname"><a href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">Mailbox::compress_info</a></div><div class="ttdeci">void * compress_info</div><div class="ttdoc">Compressed mbox module private data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="astructMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&#39;t allow changes to the mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00116">mailbox.h:116</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a8c82fa05ac9a30a1cd0e5c5b472ae066_cgraph.svg" width="268" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a8c82fa05ac9a30a1cd0e5c5b472ae066_icgraph.svg" width="526" height="198"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa35e239a0ed2772ae5824c317276f83a" name="aa35e239a0ed2772ae5824c317276f83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35e239a0ed2772ae5824c317276f83a">&#9670;&#160;</a></span>unlock_realpath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unlock_realpath </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlock the mailbox-&gt;realpath. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to unlock</td></tr>
  </table>
  </dd>
</dl>
<p>Unlock a mailbox previously locked by lock_mailbox(). </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00147">147</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>{</div>
<div class="line"><span class="lineno">  149</span>  <span class="keywordflow">if</span> (!m || !m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>  <span class="keywordflow">if</span> (!ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aac3530ca93433b36ec7118f2278f8280">locked</a>)</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  <a class="code hl_function" href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a>(fileno(ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a>));</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aac3530ca93433b36ec7118f2278f8280">locked</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  160</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a2aca1d78a4d745a6a795dab05279f8db">fp_lock</a>);</div>
<div class="line"><span class="lineno">  161</span>}</div>
<div class="ttc" id="afile_8c_html_a58563edc1ad32b074fb2425a929b0f39"><div class="ttname"><a href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a></div><div class="ttdeci">int mutt_file_unlock(int fd)</div><div class="ttdoc">Unlock a file previously locked by mutt_file_lock()</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01142">file.c:1142</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_aa35e239a0ed2772ae5824c317276f83a_cgraph.svg" width="300" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_aa35e239a0ed2772ae5824c317276f83a_icgraph.svg" width="502" height="228"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a60e1b3c821fbb441941a42b24149fbb3" name="a60e1b3c821fbb441941a42b24149fbb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e1b3c821fbb441941a42b24149fbb3">&#9670;&#160;</a></span>setup_paths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_paths </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the mailbox paths. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error</td></tr>
  </table>
  </dd>
</dl>
<p>Save the compressed filename in mailbox-&gt;realpath. Create a temporary filename and put its name in mailbox-&gt;path. The temporary file is created to prevent symlink attacks. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00173">173</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>{</div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>  <span class="comment">/* Setup the right paths */</span></div>
<div class="line"><span class="lineno">  179</span>  <a class="code hl_function" href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a>(&amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>  <span class="comment">/* We will uncompress to TMPDIR */</span></div>
<div class="line"><span class="lineno">  182</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *buf = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  183</span>  <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(buf);</div>
<div class="line"><span class="lineno">  184</span>  <a class="code hl_function" href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a>(&amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>, buf);</div>
<div class="line"><span class="lineno">  185</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;buf);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="file_8c.html#a004c6c512fd985a8e230e7fff6dfff33">mutt_file_touch</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m)) ? 0 : -1;</div>
<div class="line"><span class="lineno">  188</span>}</div>
<div class="ttc" id="abuffer_8c_html_ad68834195d667b0932da5133a5402d70"><div class="ttname"><a href="buffer_8c.html#ad68834195d667b0932da5133a5402d70">buf_copy</a></div><div class="ttdeci">size_t buf_copy(struct Buffer *dst, const struct Buffer *src)</div><div class="ttdoc">Copy a Buffer&#39;s contents to another Buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00601">buffer.c:601</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_a7e9739eb3e94344633f7051c2fb9453e"><div class="ttname"><a href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&#39;s path string.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00214">mailbox.h:214</a></div></div>
<div class="ttc" id="afile_8c_html_a004c6c512fd985a8e230e7fff6dfff33"><div class="ttname"><a href="file_8c.html#a004c6c512fd985a8e230e7fff6dfff33">mutt_file_touch</a></div><div class="ttdeci">bool mutt_file_touch(const char *path)</div><div class="ttdoc">Make sure a file exists.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00981">file.c:981</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_af8c32ffc64dd55e92001a974a4be6bbf"><div class="ttname"><a href="mutt_2string_8c.html#af8c32ffc64dd55e92001a974a4be6bbf">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00282">string.c:282</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructMailbox_html_aa44c1232018ddd1953039aa857b23ab5"><div class="ttname"><a href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">Mailbox::pathbuf</a></div><div class="ttdeci">struct Buffer pathbuf</div><div class="ttdoc">Path of the Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00080">mailbox.h:80</a></div></div>
<div class="ttc" id="atmp_8h_html_a271a7828888985955df49205d7846a45"><div class="ttname"><a href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a></div><div class="ttdeci">#define buf_mktemp(buf)</div><div class="ttdef"><b>Definition</b> <a href="tmp_8h_source.html#l00033">tmp.h:33</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a60e1b3c821fbb441941a42b24149fbb3_cgraph.svg" width="282" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a60e1b3c821fbb441941a42b24149fbb3_icgraph.svg" width="343" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a877acb05482802a48bc56da5e24c8c54" name="a877acb05482802a48bc56da5e24c8c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a877acb05482802a48bc56da5e24c8c54">&#9670;&#160;</a></span>store_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void store_size </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save the size of the compressed file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a></td></tr>
  </table>
  </dd>
</dl>
<p>Save the compressed file size in the compress_info struct. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00196">196</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{</div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">if</span> (!m || !m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#ae92bc129b9825e39e42d7737197c3297">size</a> = <a class="code hl_function" href="file_8c.html#a75f1c8024613a5e8c23f92d229f52101">mutt_file_get_size</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div>
<div class="line"><span class="lineno">  204</span>}</div>
<div class="ttc" id="afile_8c_html_a75f1c8024613a5e8c23f92d229f52101"><div class="ttname"><a href="file_8c.html#a75f1c8024613a5e8c23f92d229f52101">mutt_file_get_size</a></div><div class="ttdeci">long mutt_file_get_size(const char *path)</div><div class="ttdoc">Get the size of a file.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l01412">file.c:1412</a></div></div>
<div class="ttc" id="astructCompressInfo_html_ae92bc129b9825e39e42d7737197c3297"><div class="ttname"><a href="structCompressInfo.html#ae92bc129b9825e39e42d7737197c3297">CompressInfo::size</a></div><div class="ttdeci">long size</div><div class="ttdoc">size of the compressed file</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00064">lib.h:64</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a877acb05482802a48bc56da5e24c8c54_cgraph.svg" width="274" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a877acb05482802a48bc56da5e24c8c54_icgraph.svg" width="456" height="144"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af1706f5e36d466053b589c0dd335816a" name="af1706f5e36d466053b589c0dd335816a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1706f5e36d466053b589c0dd335816a">&#9670;&#160;</a></span>validate_compress_expando()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structExpando.html">Expando</a> * validate_compress_expando </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate the Compress hooks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td><a class="el" href="structCommand.html">Command</a> string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td><a class="el" href="structExpando.html" title="Parsed Expando trees.">Expando</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00211">211</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  212</span>{</div>
<div class="line"><span class="lineno">  213</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *err = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structExpando.html">Expando</a> *exp = <a class="code hl_function" href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a>(s, <a class="code hl_variable" href="#a6c1b542a9adb8833e20013f96e164a26">CompressFormatDef</a>, err);</div>
<div class="line"><span class="lineno">  216</span>  <span class="keywordflow">if</span> (!exp)</div>
<div class="line"><span class="lineno">  217</span>  {</div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Expando parse error: %s&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(err));</div>
<div class="line"><span class="lineno">  219</span>  }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;err);</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">return</span> exp;</div>
<div class="line"><span class="lineno">  223</span>}</div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="acompmbox_2compress_8c_html_a6c1b542a9adb8833e20013f96e164a26"><div class="ttname"><a href="#a6c1b542a9adb8833e20013f96e164a26">CompressFormatDef</a></div><div class="ttdeci">const struct ExpandoDefinition CompressFormatDef[]</div><div class="ttdoc">Expando definitions.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00079">compress.c:79</a></div></div>
<div class="ttc" id="aexpando_2expando_8c_html_a301a11afc09d7f98e652604400c6680b"><div class="ttname"><a href="expando_2expando_8c.html#a301a11afc09d7f98e652604400c6680b">expando_parse</a></div><div class="ttdeci">struct Expando * expando_parse(const char *str, const struct ExpandoDefinition *defs, struct Buffer *err)</div><div class="ttdoc">Parse an Expando string.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8c_source.html#l00081">expando.c:81</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="astructExpando_html"><div class="ttname"><a href="structExpando.html">Expando</a></div><div class="ttdoc">Parsed Expando trees.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8h_source.html#l00040">expando.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_af1706f5e36d466053b589c0dd335816a_cgraph.svg" width="379" height="224"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_af1706f5e36d466053b589c0dd335816a_icgraph.svg" width="388" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5a32c514bae251affffd84d7328af23a" name="a5a32c514bae251affffd84d7328af23a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a32c514bae251affffd84d7328af23a">&#9670;&#160;</a></span>set_compress_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structCompressInfo.html">CompressInfo</a> * set_compress_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the compress hooks for a mailbox. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to examine </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td><a class="el" href="structCompressInfo.html" title="Private data for compress.">CompressInfo</a> <a class="el" href="structHook.html" title="A list of user hooks.">Hook</a> info for the mailbox's path </td></tr>
    <tr><td class="paramname">NULL</td><td>Error</td></tr>
  </table>
  </dd>
</dl>
<p>When a mailbox is opened, we check if there are any matching hooks. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00233">233</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  234</span>{</div>
<div class="line"><span class="lineno">  235</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">return</span> m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>  <span class="comment">/* Open is compulsory */</span></div>
<div class="line"><span class="lineno">  242</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *o = <a class="code hl_function" href="hook_8c.html#a306aa3cd20a4ac4d88255ced1bf6d87d">mutt_find_hook</a>(<a class="code hl_define" href="hook_8h.html#a2023ebfafb21558f2adf582b9f182523">MUTT_OPEN_HOOK</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  243</span>  <span class="keywordflow">if</span> (!o)</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *c = <a class="code hl_function" href="hook_8c.html#a306aa3cd20a4ac4d88255ced1bf6d87d">mutt_find_hook</a>(<a class="code hl_define" href="hook_8h.html#a4dc1443d223770a18d42c237f7748e66">MUTT_CLOSE_HOOK</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  247</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> *a = <a class="code hl_function" href="hook_8c.html#a306aa3cd20a4ac4d88255ced1bf6d87d">mutt_find_hook</a>(<a class="code hl_define" href="hook_8h.html#a608d073646dabfa996b8460a6041393a">MUTT_APPEND_HOOK</a>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = <a class="code hl_define" href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a>(1, <span class="keyword">struct</span> <a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a>);</div>
<div class="line"><span class="lineno">  250</span>  m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a> = ci;</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a0a2254cd8b511a6a5f6b726961252095">cmd_open</a> = <a class="code hl_function" href="#af1706f5e36d466053b589c0dd335816a">validate_compress_expando</a>(o);</div>
<div class="line"><span class="lineno">  253</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">cmd_close</a> = <a class="code hl_function" href="#af1706f5e36d466053b589c0dd335816a">validate_compress_expando</a>(c);</div>
<div class="line"><span class="lineno">  254</span>  ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a97e20b0a307d1164a6de7265b28136f7">cmd_append</a> = <a class="code hl_function" href="#af1706f5e36d466053b589c0dd335816a">validate_compress_expando</a>(a);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>  <span class="keywordflow">return</span> ci;</div>
<div class="line"><span class="lineno">  257</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_af1706f5e36d466053b589c0dd335816a"><div class="ttname"><a href="#af1706f5e36d466053b589c0dd335816a">validate_compress_expando</a></div><div class="ttdeci">static struct Expando * validate_compress_expando(const char *s)</div><div class="ttdoc">Validate the Compress hooks.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00211">compress.c:211</a></div></div>
<div class="ttc" id="ahook_8c_html_a306aa3cd20a4ac4d88255ced1bf6d87d"><div class="ttname"><a href="hook_8c.html#a306aa3cd20a4ac4d88255ced1bf6d87d">mutt_find_hook</a></div><div class="ttdeci">char * mutt_find_hook(HookFlags type, const char *pat)</div><div class="ttdoc">Find a matching hook.</div><div class="ttdef"><b>Definition</b> <a href="hook_8c_source.html#l00678">hook.c:678</a></div></div>
<div class="ttc" id="ahook_8h_html_a2023ebfafb21558f2adf582b9f182523"><div class="ttname"><a href="hook_8h.html#a2023ebfafb21558f2adf582b9f182523">MUTT_OPEN_HOOK</a></div><div class="ttdeci">#define MUTT_OPEN_HOOK</div><div class="ttdoc">open-hook: to read a compressed mailbox</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00049">hook.h:49</a></div></div>
<div class="ttc" id="ahook_8h_html_a4dc1443d223770a18d42c237f7748e66"><div class="ttname"><a href="hook_8h.html#a4dc1443d223770a18d42c237f7748e66">MUTT_CLOSE_HOOK</a></div><div class="ttdeci">#define MUTT_CLOSE_HOOK</div><div class="ttdoc">close-hook: write to a compressed mailbox</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00051">hook.h:51</a></div></div>
<div class="ttc" id="ahook_8h_html_a608d073646dabfa996b8460a6041393a"><div class="ttname"><a href="hook_8h.html#a608d073646dabfa996b8460a6041393a">MUTT_APPEND_HOOK</a></div><div class="ttdeci">#define MUTT_APPEND_HOOK</div><div class="ttdoc">append-hook: append to a compressed mailbox</div><div class="ttdef"><b>Definition</b> <a href="hook_8h_source.html#l00050">hook.h:50</a></div></div>
<div class="ttc" id="amemory_8h_html_a9aaf8f21a29735767a069ff1aee9d7d9"><div class="ttname"><a href="memory_8h.html#a9aaf8f21a29735767a069ff1aee9d7d9">MUTT_MEM_CALLOC</a></div><div class="ttdeci">#define MUTT_MEM_CALLOC(n, type)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00047">memory.h:47</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a0a2254cd8b511a6a5f6b726961252095"><div class="ttname"><a href="structCompressInfo.html#a0a2254cd8b511a6a5f6b726961252095">CompressInfo::cmd_open</a></div><div class="ttdeci">struct Expando * cmd_open</div><div class="ttdoc">open-hook command</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a97e20b0a307d1164a6de7265b28136f7"><div class="ttname"><a href="structCompressInfo.html#a97e20b0a307d1164a6de7265b28136f7">CompressInfo::cmd_append</a></div><div class="ttdeci">struct Expando * cmd_append</div><div class="ttdoc">append-hook command</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="astructCompressInfo_html_aef70fbe59eca22ca5326424873ffeaae"><div class="ttname"><a href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">CompressInfo::cmd_close</a></div><div class="ttdeci">struct Expando * cmd_close</div><div class="ttdoc">close-hook command</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00062">lib.h:62</a></div></div>
</div><!-- fragment --><div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a5a32c514bae251affffd84d7328af23a_cgraph.svg" width="388" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a5a32c514bae251affffd84d7328af23a_icgraph.svg" width="382" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5ae987f4dda46e1423fedf6a0ac0b2de" name="a5ae987f4dda46e1423fedf6a0ac0b2de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae987f4dda46e1423fedf6a0ac0b2de">&#9670;&#160;</a></span>compress_info_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compress_info_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the compress info members and structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to free compress_info for </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00263">263</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  264</span>{</div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordflow">if</span> (!m || !m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  269</span>  <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a0a2254cd8b511a6a5f6b726961252095">cmd_open</a>);</div>
<div class="line"><span class="lineno">  270</span>  <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">cmd_close</a>);</div>
<div class="line"><span class="lineno">  271</span>  <a class="code hl_function" href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a>(&amp;ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a97e20b0a307d1164a6de7265b28136f7">cmd_append</a>);</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>  <a class="code hl_function" href="#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a>(m);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>  <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>);</div>
<div class="line"><span class="lineno">  276</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_aa35e239a0ed2772ae5824c317276f83a"><div class="ttname"><a href="#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a></div><div class="ttdeci">static void unlock_realpath(struct Mailbox *m)</div><div class="ttdoc">Unlock the mailbox-&gt;realpath.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00147">compress.c:147</a></div></div>
<div class="ttc" id="aexpando_2expando_8c_html_a949d8a4d7721966b8f8fdba9e9db10b3"><div class="ttname"><a href="expando_2expando_8c.html#a949d8a4d7721966b8f8fdba9e9db10b3">expando_free</a></div><div class="ttdeci">void expando_free(struct Expando **ptr)</div><div class="ttdoc">Free an Expando object.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8c_source.html#l00061">expando.c:61</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00062">memory.h:62</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a5ae987f4dda46e1423fedf6a0ac0b2de_cgraph.svg" width="320" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a5ae987f4dda46e1423fedf6a0ac0b2de_icgraph.svg" width="388" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac72bc28dc8d4e5d6e73aeb6607acfcc6" name="ac72bc28dc8d4e5d6e73aeb6607acfcc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac72bc28dc8d4e5d6e73aeb6607acfcc6">&#9670;&#160;</a></span>execute_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool execute_command </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structExpando.html">Expando</a> *</td>          <td class="paramname"><span class="paramname"><em>exp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>progress</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a system command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> to work with </td></tr>
    <tr><td class="paramname">exp</td><td><a class="el" href="structCommand.html">Command</a> expando to execute </td></tr>
    <tr><td class="paramname">progress</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> to show the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success </td></tr>
    <tr><td class="paramname">false</td><td>Failure</td></tr>
  </table>
  </dd>
</dl>
<p>Run the supplied command, taking care of all the <a class="el" href="structNeoMutt.html" title="Container for Accounts, Notifications.">NeoMutt</a> requirements, such as locking files and blocking signals. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00289">289</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  290</span>{</div>
<div class="line"><span class="lineno">  291</span>  <span class="keywordflow">if</span> (!m || !exp || !progress)</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>)</div>
<div class="line"><span class="lineno">  295</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(progress, m-&gt;<a class="code hl_variable" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>  <span class="keywordtype">bool</span> rc = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  298</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *sys_cmd = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno">  299</span>  <a class="code hl_function" href="buffer_8c.html#ae144a736bd5f9de289bdc8f27fecf96a">buf_alloc</a>(sys_cmd, <a class="code hl_define" href="string2_8h.html#a8f64b8071f8cd3a1776578dbf49495f7">STR_COMMAND</a>);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>  <a class="code hl_function" href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a>();</div>
<div class="line"><span class="lineno">  302</span>  <a class="code hl_function" href="curs__lib_8c.html#acd14d074d8b9e6cb21e851dd573cdec2">mutt_endwin</a>();</div>
<div class="line"><span class="lineno">  303</span>  fflush(stdout);</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>  <a class="code hl_function" href="expando_2expando_8c.html#ab4abd85472e0638449c5a98159b0f9be">expando_render</a>(exp, <a class="code hl_variable" href="compmbox_2expando_8c.html#a5816bba86e5d950f52726b002443ca2b">CompressRenderCallbacks</a>, m, <a class="code hl_define" href="render_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a>,</div>
<div class="line"><span class="lineno">  306</span>                 sys_cmd-&gt;<a class="code hl_variable" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>, sys_cmd);</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="protos_8h.html#aa1d4ad04b000036513ca3f741059942c">mutt_system</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(sys_cmd)) != 0)</div>
<div class="line"><span class="lineno">  309</span>  {</div>
<div class="line"><span class="lineno">  310</span>    rc = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  311</span>    <a class="code hl_function" href="curs__lib_8c.html#ab6a61cdfcf8c2c73ee59381c79c79774">mutt_any_key_to_continue</a>(NULL);</div>
<div class="line"><span class="lineno">  312</span>    <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error running \&quot;%s\&quot;&quot;</span>), <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(sys_cmd));</div>
<div class="line"><span class="lineno">  313</span>  }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>  <a class="code hl_function" href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a>();</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;sys_cmd);</div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">return</span> rc;</div>
<div class="line"><span class="lineno">  319</span>}</div>
<div class="ttc" id="abuffer_8c_html_ae144a736bd5f9de289bdc8f27fecf96a"><div class="ttname"><a href="buffer_8c.html#ae144a736bd5f9de289bdc8f27fecf96a">buf_alloc</a></div><div class="ttdeci">void buf_alloc(struct Buffer *buf, size_t new_size)</div><div class="ttdoc">Make sure a buffer can store at least new_size bytes.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00337">buffer.c:337</a></div></div>
<div class="ttc" id="acompmbox_2expando_8c_html_a5816bba86e5d950f52726b002443ca2b"><div class="ttname"><a href="compmbox_2expando_8c.html#a5816bba86e5d950f52726b002443ca2b">CompressRenderCallbacks</a></div><div class="ttdeci">const struct ExpandoRenderCallback CompressRenderCallbacks[]</div><div class="ttdoc">Callbacks for Compression Hook Expandos.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2expando_8c_source.html#l00070">expando.c:70</a></div></div>
<div class="ttc" id="acurs__lib_8c_html_ab6a61cdfcf8c2c73ee59381c79c79774"><div class="ttname"><a href="curs__lib_8c.html#ab6a61cdfcf8c2c73ee59381c79c79774">mutt_any_key_to_continue</a></div><div class="ttdeci">int mutt_any_key_to_continue(const char *s)</div><div class="ttdoc">Prompt the user to &#39;press any key&#39; and wait.</div><div class="ttdef"><b>Definition</b> <a href="curs__lib_8c_source.html#l00174">curs_lib.c:174</a></div></div>
<div class="ttc" id="acurs__lib_8c_html_acd14d074d8b9e6cb21e851dd573cdec2"><div class="ttname"><a href="curs__lib_8c.html#acd14d074d8b9e6cb21e851dd573cdec2">mutt_endwin</a></div><div class="ttdeci">void mutt_endwin(void)</div><div class="ttdoc">Shutdown curses.</div><div class="ttdef"><b>Definition</b> <a href="curs__lib_8c_source.html#l00152">curs_lib.c:152</a></div></div>
<div class="ttc" id="aexpando_2expando_8c_html_ab4abd85472e0638449c5a98159b0f9be"><div class="ttname"><a href="expando_2expando_8c.html#ab4abd85472e0638449c5a98159b0f9be">expando_render</a></div><div class="ttdeci">int expando_render(const struct Expando *exp, const struct ExpandoRenderCallback *erc, void *data, MuttFormatFlags flags, int max_cols, struct Buffer *buf)</div><div class="ttdoc">Render an Expando + data into a string.</div><div class="ttdef"><b>Definition</b> <a href="expando_2expando_8c_source.html#l00118">expando.c:118</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00092">logging2.h:92</a></div></div>
<div class="ttc" id="aprotos_8h_html_aa1d4ad04b000036513ca3f741059942c"><div class="ttname"><a href="protos_8h.html#aa1d4ad04b000036513ca3f741059942c">mutt_system</a></div><div class="ttdeci">int mutt_system(const char *cmd)</div><div class="ttdoc">Run an external command.</div><div class="ttdef"><b>Definition</b> <a href="system_8c_source.html#l00052">system.c:52</a></div></div>
<div class="ttc" id="arender_8h_html_a5167e8b2777abe5e02be90e0d2a816de"><div class="ttname"><a href="render_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_FORMAT_NO_FLAGS</div><div class="ttdoc">No flags are set.</div><div class="ttdef"><b>Definition</b> <a href="render_8h_source.html#l00033">render.h:33</a></div></div>
<div class="ttc" id="asignal_8c_html_aa6c49e5535cdffeffd2cd4eee28bc96b"><div class="ttname"><a href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a></div><div class="ttdeci">void mutt_sig_block(void)</div><div class="ttdoc">Block signals during critical operations.</div><div class="ttdef"><b>Definition</b> <a href="signal_8c_source.html#l00227">signal.c:227</a></div></div>
<div class="ttc" id="asignal_8c_html_aa9356c41baa1b35d3a7719f90570e6b7"><div class="ttname"><a href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a></div><div class="ttdeci">void mutt_sig_unblock(void)</div><div class="ttdoc">Restore previously blocked signals.</div><div class="ttdef"><b>Definition</b> <a href="signal_8c_source.html#l00245">signal.c:245</a></div></div>
<div class="ttc" id="astring2_8h_html_a8f64b8071f8cd3a1776578dbf49495f7"><div class="ttname"><a href="string2_8h.html#a8f64b8071f8cd3a1776578dbf49495f7">STR_COMMAND</a></div><div class="ttdeci">#define STR_COMMAND</div><div class="ttdoc">Enough space for a long command line.</div><div class="ttdef"><b>Definition</b> <a href="string2_8h_source.html#l00041">string2.h:41</a></div></div>
<div class="ttc" id="astructBuffer_html_a1d9ee60bcf94de702b15ec2b5d811995"><div class="ttname"><a href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">Buffer::dsize</a></div><div class="ttdeci">size_t dsize</div><div class="ttdoc">Length of data.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00039">buffer.h:39</a></div></div>
<div class="ttc" id="astructMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages?</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00117">mailbox.h:117</a></div></div>
</div><!-- fragment --><div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_ac72bc28dc8d4e5d6e73aeb6607acfcc6_cgraph.svg" width="382" height="544"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_ac72bc28dc8d4e5d6e73aeb6607acfcc6_icgraph.svg" width="562" height="251"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9f3c7362d3b06ea8c32ce55d5c3db5f1" name="a9f3c7362d3b06ea8c32ce55d5c3db5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3c7362d3b06ea8c32ce55d5c3db5f1">&#9670;&#160;</a></span>mutt_comp_can_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mutt_comp_can_append </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can we append to this path? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Yes, we can append to the file </td></tr>
    <tr><td class="paramname">false</td><td>No, appending isn't possible</td></tr>
  </table>
  </dd>
</dl>
<p>To append to a file we can either use an 'append-hook' or a combination of 'open-hook' and 'close-hook'.</p>
<p>A match means it's our responsibility to append to the file. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00332">332</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  333</span>{</div>
<div class="line"><span class="lineno">  334</span>  <span class="keywordflow">if</span> (!m)</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>  <span class="comment">/* If this succeeds, we know there&#39;s an open-hook */</span></div>
<div class="line"><span class="lineno">  338</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = <a class="code hl_function" href="#a5a32c514bae251affffd84d7328af23a">set_compress_info</a>(m);</div>
<div class="line"><span class="lineno">  339</span>  <span class="keywordflow">if</span> (!ci)</div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>  <span class="comment">/* We have an open-hook, so to append we need an append-hook,</span></div>
<div class="line"><span class="lineno">  343</span><span class="comment">   * or a close-hook. */</span></div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordflow">if</span> (ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a97e20b0a307d1164a6de7265b28136f7">cmd_append</a> || ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#aef70fbe59eca22ca5326424873ffeaae">cmd_close</a>)</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>  <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t append without an append-hook or close-hook : %s&quot;</span>), <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m));</div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="acompmbox_2compress_8c_html_a5a32c514bae251affffd84d7328af23a"><div class="ttname"><a href="#a5a32c514bae251affffd84d7328af23a">set_compress_info</a></div><div class="ttdeci">static struct CompressInfo * set_compress_info(struct Mailbox *m)</div><div class="ttdoc">Find the compress hooks for a mailbox.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2compress_8c_source.html#l00233">compress.c:233</a></div></div>
</div><!-- fragment --><div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a9f3c7362d3b06ea8c32ce55d5c3db5f1_cgraph.svg" width="518" height="66"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_a9f3c7362d3b06ea8c32ce55d5c3db5f1_icgraph.svg" width="416" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af5e4caf583046a535cf5fda9933d3c74" name="af5e4caf583046a535cf5fda9933d3c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e4caf583046a535cf5fda9933d3c74">&#9670;&#160;</a></span>mutt_comp_can_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mutt_comp_can_read </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can we read from this file? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Pathname of file to be tested </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Yes, we can read the file </td></tr>
    <tr><td class="paramname">false</td><td>No, we can't read the file</td></tr>
  </table>
  </dd>
</dl>
<p>Search for an 'open-hook' with a regex that matches the path.</p>
<p>A match means it's our responsibility to open the file. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00361">361</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>{</div>
<div class="line"><span class="lineno">  363</span>  <span class="keywordflow">if</span> (!path)</div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="hook_8c.html#a306aa3cd20a4ac4d88255ced1bf6d87d">mutt_find_hook</a>(<a class="code hl_define" href="hook_8h.html#a2023ebfafb21558f2adf582b9f182523">MUTT_OPEN_HOOK</a>, path))</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  370</span>}</div>
</div><!-- fragment --><div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_af5e4caf583046a535cf5fda9933d3c74_cgraph.svg" width="330" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_af5e4caf583046a535cf5fda9933d3c74_icgraph.svg" width="344" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab77ea42f102d3aced8ea915e95a83bd4" name="ab77ea42f102d3aced8ea915e95a83bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77ea42f102d3aced8ea915e95a83bd4">&#9670;&#160;</a></span>mutt_comp_valid_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_comp_valid_command </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this command string allowed? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td><a class="el" href="structCommand.html">Command</a> string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Valid command </td></tr>
    <tr><td class="paramname">0</td><td>"%f" and/or "%t" is missing</td></tr>
  </table>
  </dd>
</dl>
<p>A valid command string must have both "%f" (from file) and "%t" (to file). We don't check if we can actually run the command. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00381">381</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  382</span>{</div>
<div class="line"><span class="lineno">  383</span>  <span class="keywordflow">if</span> (!cmd)</div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>  <span class="keywordflow">return</span> strstr(cmd, <span class="stringliteral">&quot;%f&quot;</span>) &amp;&amp; strstr(cmd, <span class="stringliteral">&quot;%t&quot;</span>);</div>
<div class="line"><span class="lineno">  387</span>}</div>
</div><!-- fragment --><div id="dynsection-23" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="compmbox_2compress_8c_ab77ea42f102d3aced8ea915e95a83bd4_icgraph.svg" width="380" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa95fe1211fa05439ba1ab5fe9e638813" name="aa95fe1211fa05439ba1ab5fe9e638813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa95fe1211fa05439ba1ab5fe9e638813">&#9670;&#160;</a></span>CompCommands</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structCommand.html">Command</a> CompCommands[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  </div>
<div class="line">  { <span class="stringliteral">&quot;append-hook&quot;</span>, <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a608d073646dabfa996b8460a6041393a">MUTT_APPEND_HOOK</a> },</div>
<div class="line">  { <span class="stringliteral">&quot;close-hook&quot;</span>,  <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a4dc1443d223770a18d42c237f7748e66">MUTT_CLOSE_HOOK</a> },</div>
<div class="line">  { <span class="stringliteral">&quot;open-hook&quot;</span>,   <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a2023ebfafb21558f2adf582b9f182523">MUTT_OPEN_HOOK</a> },</div>
<div class="line">  { NULL, NULL, 0 },</div>
<div class="line">  </div>
<div class="line">}</div>
<div class="ttc" id="agroup__command__parse_html_ga4b6e4f5a7cf7c50a1d32450735eba6f9"><div class="ttname"><a href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a></div><div class="ttdeci">enum CommandResult mutt_parse_hook(struct Buffer *buf, struct Buffer *s, intptr_t data, struct Buffer *err)</div><div class="ttdoc">Parse the &#39;hook&#39; family of commands - Implements Command::parse() -.</div><div class="ttdef"><b>Definition</b> <a href="hook_8c_source.html#l00166">hook.c:166</a></div></div>
</div><!-- fragment -->
<p>Compression Commands. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00062">62</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   62</span>                                             {</div>
<div class="line"><span class="lineno">   63</span>  <span class="comment">// clang-format off</span></div>
<div class="line"><span class="lineno">   64</span>  { <span class="stringliteral">&quot;append-hook&quot;</span>, <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a608d073646dabfa996b8460a6041393a">MUTT_APPEND_HOOK</a> },</div>
<div class="line"><span class="lineno">   65</span>  { <span class="stringliteral">&quot;close-hook&quot;</span>,  <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a4dc1443d223770a18d42c237f7748e66">MUTT_CLOSE_HOOK</a> },</div>
<div class="line"><span class="lineno">   66</span>  { <span class="stringliteral">&quot;open-hook&quot;</span>,   <a class="code hl_function" href="group__command__parse.html#ga4b6e4f5a7cf7c50a1d32450735eba6f9">mutt_parse_hook</a>, <a class="code hl_define" href="hook_8h.html#a2023ebfafb21558f2adf582b9f182523">MUTT_OPEN_HOOK</a> },</div>
<div class="line"><span class="lineno">   67</span>  { NULL, NULL, 0 },</div>
<div class="line"><span class="lineno">   68</span>  <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">   69</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c1b542a9adb8833e20013f96e164a26" name="a6c1b542a9adb8833e20013f96e164a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1b542a9adb8833e20013f96e164a26">&#9670;&#160;</a></span>CompressFormatDef</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structExpandoDefinition.html">ExpandoDefinition</a> CompressFormatDef[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  </div>
<div class="line">  { <span class="stringliteral">&quot;f&quot;</span>, <span class="stringliteral">&quot;from&quot;</span>, <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc">ED_COMPRESS</a>, <a class="code hl_enumvalue" href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7aae3be5ce9f532c2b0171ef5e29b0bd4a">ED_CMP_FROM</a>, NULL },</div>
<div class="line">  { <span class="stringliteral">&quot;t&quot;</span>, <span class="stringliteral">&quot;to&quot;</span>,   <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc">ED_COMPRESS</a>, <a class="code hl_enumvalue" href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7af025faa63cfdae0afdb59efeff641517">ED_CMP_TO</a>,   NULL },</div>
<div class="line">  { NULL, NULL, 0, -1, NULL }</div>
<div class="line">  </div>
<div class="line">}</div>
<div class="ttc" id="acompmbox_2lib_8h_html_ad8d686fe88da9822a9875249aea465a7aae3be5ce9f532c2b0171ef5e29b0bd4a"><div class="ttname"><a href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7aae3be5ce9f532c2b0171ef5e29b0bd4a">ED_CMP_FROM</a></div><div class="ttdeci">@ ED_CMP_FROM</div><div class="ttdoc">&#39;from&#39; path</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00050">lib.h:50</a></div></div>
<div class="ttc" id="acompmbox_2lib_8h_html_ad8d686fe88da9822a9875249aea465a7af025faa63cfdae0afdb59efeff641517"><div class="ttname"><a href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7af025faa63cfdae0afdb59efeff641517">ED_CMP_TO</a></div><div class="ttdeci">@ ED_CMP_TO</div><div class="ttdoc">&#39;to&#39; path</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00051">lib.h:51</a></div></div>
<div class="ttc" id="adomain_8h_html_a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc"><div class="ttname"><a href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc">ED_COMPRESS</a></div><div class="ttdeci">@ ED_COMPRESS</div><div class="ttdoc">Compress ED_CMP_ ExpandoDataCompress.</div><div class="ttdef"><b>Definition</b> <a href="domain_8h_source.html#l00040">domain.h:40</a></div></div>
</div><!-- fragment -->
<p><a class="el" href="structExpando.html" title="Parsed Expando trees.">Expando</a> definitions. </p>
<p>Config:</p><ul>
<li>append-hook</li>
<li>close-hook</li>
<li>open-hook </li>
</ul>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00079">79</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                                     {</div>
<div class="line"><span class="lineno">   80</span>  <span class="comment">// clang-format off</span></div>
<div class="line"><span class="lineno">   81</span>  { <span class="stringliteral">&quot;f&quot;</span>, <span class="stringliteral">&quot;from&quot;</span>, <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc">ED_COMPRESS</a>, <a class="code hl_enumvalue" href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7aae3be5ce9f532c2b0171ef5e29b0bd4a">ED_CMP_FROM</a>, NULL },</div>
<div class="line"><span class="lineno">   82</span>  { <span class="stringliteral">&quot;t&quot;</span>, <span class="stringliteral">&quot;to&quot;</span>,   <a class="code hl_enumvalue" href="domain_8h.html#a2bedf11cab57ba7804043eac9c949602af95b0cc503baf07f13c82c820e340ecc">ED_COMPRESS</a>, <a class="code hl_enumvalue" href="compmbox_2lib_8h.html#ad8d686fe88da9822a9875249aea465a7af025faa63cfdae0afdb59efeff641517">ED_CMP_TO</a>,   NULL },</div>
<div class="line"><span class="lineno">   83</span>  { NULL, NULL, 0, -1, NULL }</div>
<div class="line"><span class="lineno">   84</span>  <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">   85</span>};</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
