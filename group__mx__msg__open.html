<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: msg_open()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2025-12-11-87-gae07fd</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__mx__msg__open.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">msg_open()<div class="ingroups"><a class="el" href="group__mx__api.html">Mailbox API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for msg_open():</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open.svg" width="247" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaad1145cbd51b6eb65417e2602e02fbe" id="r_gaaad1145cbd51b6eb65417e2602e02fbe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaad1145cbd51b6eb65417e2602e02fbe">comp_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:gaaad1145cbd51b6eb65417e2602e02fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:gaaad1145cbd51b6eb65417e2602e02fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05225915cb255c506477294eb9cffbf5" id="r_ga05225915cb255c506477294eb9cffbf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga05225915cb255c506477294eb9cffbf5">imap_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga05225915cb255c506477294eb9cffbf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga05225915cb255c506477294eb9cffbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab66cebab7ac31acc7925c7542414f911" id="r_gab66cebab7ac31acc7925c7542414f911"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab66cebab7ac31acc7925c7542414f911">maildir_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:gab66cebab7ac31acc7925c7542414f911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:gab66cebab7ac31acc7925c7542414f911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e9ca06479b159b60a1ab4cecc32e2a5" id="r_ga2e9ca06479b159b60a1ab4cecc32e2a5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2e9ca06479b159b60a1ab4cecc32e2a5">mbox_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga2e9ca06479b159b60a1ab4cecc32e2a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga2e9ca06479b159b60a1ab4cecc32e2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2403cfa29466f75ce776880e32fcbd66" id="r_ga2403cfa29466f75ce776880e32fcbd66"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2403cfa29466f75ce776880e32fcbd66">mh_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga2403cfa29466f75ce776880e32fcbd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga2403cfa29466f75ce776880e32fcbd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga152bb83e1640fbdf1e581e3c89a18e8e" id="r_ga152bb83e1640fbdf1e581e3c89a18e8e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga152bb83e1640fbdf1e581e3c89a18e8e">nntp_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga152bb83e1640fbdf1e581e3c89a18e8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga152bb83e1640fbdf1e581e3c89a18e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88dde7e6780b188d62b5cecd395fc4c4" id="r_ga88dde7e6780b188d62b5cecd395fc4c4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88dde7e6780b188d62b5cecd395fc4c4">nm_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga88dde7e6780b188d62b5cecd395fc4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga88dde7e6780b188d62b5cecd395fc4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20b0dec41d73db618d67f60a90bdd1c5" id="r_ga20b0dec41d73db618d67f60a90bdd1c5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga20b0dec41d73db618d67f60a90bdd1c5">pop_msg_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structMessage.html">Message</a> *msg, struct <a class="el" href="structEmail.html">Email</a> *e)</td></tr>
<tr class="memdesc:ga20b0dec41d73db618d67f60a90bdd1c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -.  <br /></td></tr>
<tr class="separator:ga20b0dec41d73db618d67f60a90bdd1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> </td></tr>
    <tr><td class="paramname">msg</td><td><a class="el" href="structMessage.html" title="A local copy of an email.">Message</a> to open </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email.">Email</a> to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success </td></tr>
    <tr><td class="paramname">false</td><td>Error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>m is not NULL </dd>
<dd>
msg is not NULL </dd>
<dd>
e is not NULL </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaaad1145cbd51b6eb65417e2602e02fbe" name="gaaad1145cbd51b6eb65417e2602e02fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaad1145cbd51b6eb65417e2602e02fbe">&#9670;&#160;</a></span>comp_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool comp_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00728">728</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>{</div>
<div class="line"><span class="lineno">  730</span>  <span class="keywordflow">if</span> (!m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>)</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structCompressInfo.html">CompressInfo</a> *ci = m-&gt;<a class="code hl_variable" href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">compress_info</a>;</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code hl_struct" href="structMxOps.html">MxOps</a> *ops = ci-&gt;<a class="code hl_variable" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a>;</div>
<div class="line"><span class="lineno">  736</span>  <span class="keywordflow">if</span> (!ops)</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>  <span class="comment">/* Delegate */</span></div>
<div class="line"><span class="lineno">  740</span>  <span class="keywordflow">return</span> ops-&gt;<a class="code hl_variable" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">msg_open</a>(m, msg, e);</div>
<div class="line"><span class="lineno">  741</span>}</div>
<div class="ttc" id="astructCompressInfo_html"><div class="ttname"><a href="structCompressInfo.html">CompressInfo</a></div><div class="ttdoc">Private data for compress.</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00059">lib.h:60</a></div></div>
<div class="ttc" id="astructCompressInfo_html_a9f6c41db8d4f70ebb317146dfa5e0472"><div class="ttname"><a href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">CompressInfo::child_ops</a></div><div class="ttdeci">const struct MxOps * child_ops</div><div class="ttdoc">callbacks of de-compressed file</div><div class="ttdef"><b>Definition</b> <a href="compmbox_2lib_8h_source.html#l00065">lib.h:65</a></div></div>
<div class="ttc" id="astructMailbox_html_adfd56243ea7dd8797f3d75f33f1d607a"><div class="ttname"><a href="structMailbox.html#adfd56243ea7dd8797f3d75f33f1d607a">Mailbox::compress_info</a></div><div class="ttdeci">void * compress_info</div><div class="ttdoc">Compressed mbox module private data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="astructMxOps_html"><div class="ttname"><a href="structMxOps.html">MxOps</a></div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00087">mxapi.h:88</a></div></div>
<div class="ttc" id="astructMxOps_html_a1eaafb57e50a69b5d091f03cbd2521cc"><div class="ttname"><a href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open</a></div><div class="ttdeci">bool(* msg_open)(struct Mailbox *m, struct Message *msg, struct Email *e)</div><div class="ttdef"><b>Definition</b> <a href="mxapi_8h_source.html#l00213">mxapi.h:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga05225915cb255c506477294eb9cffbf5" name="ga05225915cb255c506477294eb9cffbf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05225915cb255c506477294eb9cffbf5">&#9670;&#160;</a></span>imap_msg_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool imap_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="imap_2message_8c_source.html#l01997">1997</a> of file <a class="el" href="imap_2message_8c_source.html">message.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1998</span>{</div>
<div class="line"><span class="lineno"> 1999</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structEnvelope.html">Envelope</a> *newenv = NULL;</div>
<div class="line"><span class="lineno"> 2000</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno"> 2001</span>  <span class="keywordtype">char</span> *pc = NULL;</div>
<div class="line"><span class="lineno"> 2002</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bytes;</div>
<div class="line"><span class="lineno"> 2003</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uid;</div>
<div class="line"><span class="lineno"> 2004</span>  <span class="keywordtype">bool</span> retried = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2005</span>  <span class="keywordtype">bool</span> read;</div>
<div class="line"><span class="lineno"> 2006</span>  <span class="keywordtype">int</span> rc;</div>
<div class="line"><span class="lineno"> 2007</span> </div>
<div class="line"><span class="lineno"> 2008</span>  <span class="comment">/* Sam&#39;s weird courier server returns an OK response even when FETCH</span></div>
<div class="line"><span class="lineno"> 2009</span><span class="comment">   * fails. Thanks Sam. */</span></div>
<div class="line"><span class="lineno"> 2010</span>  <span class="keywordtype">bool</span> fetched = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2011</span> </div>
<div class="line"><span class="lineno"> 2012</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structImapAccountData.html">ImapAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="imap_2adata_8c.html#abe5c03ce9b5a9a60450482316b4d99ea">imap_adata_get</a>(m);</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> || (<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>-&gt;mailbox != m))</div>
<div class="line"><span class="lineno"> 2015</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2016</span> </div>
<div class="line"><span class="lineno"> 2017</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="imap_2message_8c.html#aa21081ac533434552dce761ca3071277">msg_cache_get</a>(m, e);</div>
<div class="line"><span class="lineno"> 2018</span>  <span class="keywordflow">if</span> (msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2019</span>  {</div>
<div class="line"><span class="lineno"> 2020</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="imap_2edata_8c.html#a79700727ae16a28646a8573587b0b5cd">imap_edata_get</a>(e)-&gt;parsed)</div>
<div class="line"><span class="lineno"> 2021</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2022</span>    <span class="keywordflow">goto</span> parsemsg;</div>
<div class="line"><span class="lineno"> 2023</span>  }</div>
<div class="line"><span class="lineno"> 2024</span> </div>
<div class="line"><span class="lineno"> 2025</span>  <span class="comment">/* This function is called in a few places after endwin()</span></div>
<div class="line"><span class="lineno"> 2026</span><span class="comment">   * e.g. mutt_pipe_message(). */</span></div>
<div class="line"><span class="lineno"> 2027</span>  <span class="keywordtype">bool</span> output_progress = !isendwin() &amp;&amp; m-&gt;<a class="code hl_variable" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>;</div>
<div class="line"><span class="lineno"> 2028</span>  <span class="keywordflow">if</span> (output_progress)</div>
<div class="line"><span class="lineno"> 2029</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Fetching message...&quot;</span>));</div>
<div class="line"><span class="lineno"> 2030</span> </div>
<div class="line"><span class="lineno"> 2031</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="imap_2message_8c.html#a2091c9a0611550919380ad2f8594f7ff">msg_cache_put</a>(m, e);</div>
<div class="line"><span class="lineno"> 2032</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2033</span>  {</div>
<div class="line"><span class="lineno"> 2034</span>    <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 2035</span>    <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno"> 2036</span>    msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile), <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line"><span class="lineno"> 2037</span>    unlink(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(tempfile));</div>
<div class="line"><span class="lineno"> 2038</span>    <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno"> 2039</span> </div>
<div class="line"><span class="lineno"> 2040</span>    <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2041</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2042</span>  }</div>
<div class="line"><span class="lineno"> 2043</span> </div>
<div class="line"><span class="lineno"> 2044</span>  <span class="comment">/* mark this header as currently inactive so the command handler won&#39;t</span></div>
<div class="line"><span class="lineno"> 2045</span><span class="comment">   * also try to update it. HACK until all this code can be moved into the</span></div>
<div class="line"><span class="lineno"> 2046</span><span class="comment">   * command handler */</span></div>
<div class="line"><span class="lineno"> 2047</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a620f342070525352c06b9ffabe19a8a6">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_imap_peek = <a class="code hl_function" href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code hl_struct" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code hl_variable" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;imap_peek&quot;</span>);</div>
<div class="line"><span class="lineno"> 2050</span>  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;UID FETCH %u %s&quot;</span>, <a class="code hl_function" href="imap_2edata_8c.html#a79700727ae16a28646a8573587b0b5cd">imap_edata_get</a>(e)-&gt;uid,</div>
<div class="line"><span class="lineno"> 2051</span>           ((adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">capabilities</a> &amp; <a class="code hl_define" href="imap_2private_8h.html#a6217caee48af21c7f08eff5dce816dcf">IMAP_CAP_IMAP4REV1</a>) ?</div>
<div class="line"><span class="lineno"> 2052</span>                (c_imap_peek ? <span class="stringliteral">&quot;BODY.PEEK[]&quot;</span> : <span class="stringliteral">&quot;BODY[]&quot;</span>) :</div>
<div class="line"><span class="lineno"> 2053</span>                <span class="stringliteral">&quot;RFC822&quot;</span>));</div>
<div class="line"><span class="lineno"> 2054</span> </div>
<div class="line"><span class="lineno"> 2055</span>  <a class="code hl_function" href="imap_2command_8c.html#a07786a21982bd266c8faca5423b7f2cf">imap_cmd_start</a>(adata, buf);</div>
<div class="line"><span class="lineno"> 2056</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 2057</span>  {</div>
<div class="line"><span class="lineno"> 2058</span>    rc = <a class="code hl_function" href="imap_2command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a>(adata);</div>
<div class="line"><span class="lineno"> 2059</span>    <span class="keywordflow">if</span> (rc != <a class="code hl_define" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>)</div>
<div class="line"><span class="lineno"> 2060</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span>    pc = adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a>;</div>
<div class="line"><span class="lineno"> 2063</span>    pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 2064</span>    pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 2065</span> </div>
<div class="line"><span class="lineno"> 2066</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;FETCH&quot;</span>))</div>
<div class="line"><span class="lineno"> 2067</span>    {</div>
<div class="line"><span class="lineno"> 2068</span>      <span class="keywordflow">while</span> (*pc)</div>
<div class="line"><span class="lineno"> 2069</span>      {</div>
<div class="line"><span class="lineno"> 2070</span>        pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 2071</span>        <span class="keywordflow">if</span> (pc[0] == <span class="charliteral">&#39;(&#39;</span>)</div>
<div class="line"><span class="lineno"> 2072</span>          pc++;</div>
<div class="line"><span class="lineno"> 2073</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;UID&quot;</span>))</div>
<div class="line"><span class="lineno"> 2074</span>        {</div>
<div class="line"><span class="lineno"> 2075</span>          pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 2076</span>          <span class="keywordflow">if</span> (!<a class="code hl_function" href="atoi_8c.html#ad704fc34b6f2eb2132de8bf992994ac1">mutt_str_atoui</a>(pc, &amp;uid))</div>
<div class="line"><span class="lineno"> 2077</span>            <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2078</span>          <span class="keywordflow">if</span> (uid != <a class="code hl_function" href="imap_2edata_8c.html#a79700727ae16a28646a8573587b0b5cd">imap_edata_get</a>(e)-&gt;uid)</div>
<div class="line"><span class="lineno"> 2079</span>          {</div>
<div class="line"><span class="lineno"> 2080</span>            <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;The message index is incorrect. Try reopening the mailbox.&quot;</span>));</div>
<div class="line"><span class="lineno"> 2081</span>          }</div>
<div class="line"><span class="lineno"> 2082</span>        }</div>
<div class="line"><span class="lineno"> 2083</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;RFC822&quot;</span>) || <a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;BODY[]&quot;</span>))</div>
<div class="line"><span class="lineno"> 2084</span>        {</div>
<div class="line"><span class="lineno"> 2085</span>          pc = <a class="code hl_function" href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a>(pc);</div>
<div class="line"><span class="lineno"> 2086</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="imap_2private_8h.html#a3a3aa36d9170dbd75353b08e9c54f0ae">imap_get_literal_count</a>(pc, &amp;bytes) &lt; 0)</div>
<div class="line"><span class="lineno"> 2087</span>          {</div>
<div class="line"><span class="lineno"> 2088</span>            <a class="code hl_function" href="imap_2private_8h.html#aab316d8524d30a8813bab633aa9505e6">imap_error</a>(<span class="stringliteral">&quot;imap_msg_open()&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2089</span>            <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2090</span>          }</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> res = <a class="code hl_function" href="imap_8c.html#ad4b061ad7ccc097ec95fc6991c057843">imap_read_literal</a>(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>, adata, bytes, NULL);</div>
<div class="line"><span class="lineno"> 2093</span>          <span class="keywordflow">if</span> (res &lt; 0)</div>
<div class="line"><span class="lineno"> 2094</span>          {</div>
<div class="line"><span class="lineno"> 2095</span>            <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2096</span>          }</div>
<div class="line"><span class="lineno"> 2097</span>          <span class="comment">/* pick up trailing line */</span></div>
<div class="line"><span class="lineno"> 2098</span>          rc = <a class="code hl_function" href="imap_2command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a>(adata);</div>
<div class="line"><span class="lineno"> 2099</span>          <span class="keywordflow">if</span> (rc != <a class="code hl_define" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>)</div>
<div class="line"><span class="lineno"> 2100</span>            <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2101</span>          pc = adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a>;</div>
<div class="line"><span class="lineno"> 2102</span> </div>
<div class="line"><span class="lineno"> 2103</span>          fetched = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2104</span>        }</div>
<div class="line"><span class="lineno"> 2105</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!e-&gt;<a class="code hl_variable" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> &amp;&amp; <a class="code hl_function" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;FLAGS&quot;</span>))</div>
<div class="line"><span class="lineno"> 2106</span>        {</div>
<div class="line"><span class="lineno"> 2107</span>          <span class="comment">/* UW-IMAP will provide a FLAGS update here if the FETCH causes a</span></div>
<div class="line"><span class="lineno"> 2108</span><span class="comment">           * change (eg from \Unseen to \Seen).</span></div>
<div class="line"><span class="lineno"> 2109</span><span class="comment">           * Uncommitted changes in neomutt take precedence. If we decide to</span></div>
<div class="line"><span class="lineno"> 2110</span><span class="comment">           * incrementally update flags later, this won&#39;t stop us syncing */</span></div>
<div class="line"><span class="lineno"> 2111</span>          pc = <a class="code hl_function" href="imap_2message_8c.html#a2c7f5e058763a5f3be5963e7fe72a5d9">imap_set_flags</a>(m, e, pc, NULL);</div>
<div class="line"><span class="lineno"> 2112</span>          <span class="keywordflow">if</span> (!pc)</div>
<div class="line"><span class="lineno"> 2113</span>            <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2114</span>        }</div>
<div class="line"><span class="lineno"> 2115</span>      }</div>
<div class="line"><span class="lineno"> 2116</span>    }</div>
<div class="line"><span class="lineno"> 2117</span>  } <span class="keywordflow">while</span> (rc == <a class="code hl_define" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>);</div>
<div class="line"><span class="lineno"> 2118</span> </div>
<div class="line"><span class="lineno"> 2119</span>  <span class="comment">/* see comment before command start. */</span></div>
<div class="line"><span class="lineno"> 2120</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a620f342070525352c06b9ffabe19a8a6">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>  fflush(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2123</span>  <span class="keywordflow">if</span> (ferror(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>))</div>
<div class="line"><span class="lineno"> 2124</span>    <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>  <span class="keywordflow">if</span> (rc != <a class="code hl_define" href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a>)</div>
<div class="line"><span class="lineno"> 2127</span>    <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2128</span> </div>
<div class="line"><span class="lineno"> 2129</span>  <span class="keywordflow">if</span> (!fetched || !<a class="code hl_function" href="imap_2command_8c.html#abf593435042f4db0db8d4594443b0c96">imap_code</a>(adata-&gt;<a class="code hl_variable" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a>))</div>
<div class="line"><span class="lineno"> 2130</span>    <span class="keywordflow">goto</span> bail;</div>
<div class="line"><span class="lineno"> 2131</span> </div>
<div class="line"><span class="lineno"> 2132</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="imap_2message_8c.html#abff6bc396da8f9f4d8eb7f55587bfe7f">msg_cache_commit</a>(m, e) &lt; 0)</div>
<div class="line"><span class="lineno"> 2133</span>    <a class="code hl_define" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code hl_enumvalue" href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;failed to add message to cache\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 2134</span> </div>
<div class="line"><span class="lineno"> 2135</span>parsemsg:</div>
<div class="line"><span class="lineno"> 2136</span>  <span class="comment">/* Update the header information.  Previously, we only downloaded a</span></div>
<div class="line"><span class="lineno"> 2137</span><span class="comment">   * portion of the headers, those required for the main display.  */</span></div>
<div class="line"><span class="lineno"> 2138</span>  rewind(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2139</span>  <span class="comment">/* It may be that the Status header indicates a message is read, but the</span></div>
<div class="line"><span class="lineno"> 2140</span><span class="comment">   * IMAP server doesn&#39;t know the message has been \Seen. So we capture</span></div>
<div class="line"><span class="lineno"> 2141</span><span class="comment">   * the server&#39;s notion of &#39;read&#39; and if it differs from the message info</span></div>
<div class="line"><span class="lineno"> 2142</span><span class="comment">   * picked up in mutt_rfc822_read_header, we mark the message (and context</span></div>
<div class="line"><span class="lineno"> 2143</span><span class="comment">   * changed). Another possibility: ignore Status on IMAP? */</span></div>
<div class="line"><span class="lineno"> 2144</span>  read = e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>;</div>
<div class="line"><span class="lineno"> 2145</span>  newenv = <a class="code hl_function" href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a>(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>, e, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2146</span>  <a class="code hl_function" href="envelope_8c.html#a16aeda1ab6739eac80327f1ef797ffc7">mutt_env_merge</a>(e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>, &amp;newenv);</div>
<div class="line"><span class="lineno"> 2147</span> </div>
<div class="line"><span class="lineno"> 2148</span>  <span class="comment">/* see above. We want the new status in e-&gt;read, so we unset it manually</span></div>
<div class="line"><span class="lineno"> 2149</span><span class="comment">   * and let mutt_set_flag set it correctly, updating context. */</span></div>
<div class="line"><span class="lineno"> 2150</span>  <span class="keywordflow">if</span> (read != e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div>
<div class="line"><span class="lineno"> 2151</span>  {</div>
<div class="line"><span class="lineno"> 2152</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = read;</div>
<div class="line"><span class="lineno"> 2153</span>    <a class="code hl_function" href="flags_8c.html#a29547b9c7c39eb22039ff4b8f1c03829">mutt_set_flag</a>(m, e, <a class="code hl_enumvalue" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a>, read, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2154</span>  }</div>
<div class="line"><span class="lineno"> 2155</span> </div>
<div class="line"><span class="lineno"> 2156</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">lines</a> = 0;</div>
<div class="line"><span class="lineno"> 2157</span>  <span class="keywordflow">while</span> (fgets(buf, <span class="keyword">sizeof</span>(buf), msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>) &amp;&amp; !feof(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>))</div>
<div class="line"><span class="lineno"> 2158</span>  {</div>
<div class="line"><span class="lineno"> 2159</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">lines</a>++;</div>
<div class="line"><span class="lineno"> 2160</span>  }</div>
<div class="line"><span class="lineno"> 2161</span> </div>
<div class="line"><span class="lineno"> 2162</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> = ftell(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>) - e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a>;</div>
<div class="line"><span class="lineno"> 2163</span> </div>
<div class="line"><span class="lineno"> 2164</span>  <a class="code hl_function" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div>
<div class="line"><span class="lineno"> 2165</span>  rewind(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2166</span>  <a class="code hl_function" href="imap_2edata_8c.html#a79700727ae16a28646a8573587b0b5cd">imap_edata_get</a>(e)-&gt;<a class="code hl_variable" href="structImapEmailData.html#a51e50c468a502ec7b3ea9f5dfa09e2f0">parsed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>  <span class="comment">/* retry message parse if cached message is empty */</span></div>
<div class="line"><span class="lineno"> 2169</span>  <span class="keywordflow">if</span> (!retried &amp;&amp; ((e-&gt;<a class="code hl_variable" href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">lines</a> == 0) || (e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> == 0)))</div>
<div class="line"><span class="lineno"> 2170</span>  {</div>
<div class="line"><span class="lineno"> 2171</span>    <a class="code hl_function" href="imap_2message_8c.html#aade70cfb183e32e948a40ba633fd711a">imap_cache_del</a>(m, e);</div>
<div class="line"><span class="lineno"> 2172</span>    retried = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">goto</span> parsemsg;</div>
<div class="line"><span class="lineno"> 2174</span>  }</div>
<div class="line"><span class="lineno"> 2175</span> </div>
<div class="line"><span class="lineno"> 2176</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2177</span> </div>
<div class="line"><span class="lineno"> 2178</span>bail:</div>
<div class="line"><span class="lineno"> 2179</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a620f342070525352c06b9ffabe19a8a6">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2180</span>  <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2181</span>  <a class="code hl_function" href="imap_2message_8c.html#aade70cfb183e32e948a40ba633fd711a">imap_cache_del</a>(m, e);</div>
<div class="line"><span class="lineno"> 2182</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2183</span>}</div>
<div class="ttc" id="aatoi_8c_html_ad704fc34b6f2eb2132de8bf992994ac1"><div class="ttname"><a href="atoi_8c.html#ad704fc34b6f2eb2132de8bf992994ac1">mutt_str_atoui</a></div><div class="ttdeci">const char * mutt_str_atoui(const char *str, unsigned int *dst)</div><div class="ttdoc">Convert ASCII string to an unsigned integer.</div><div class="ttdef"><b>Definition</b> <a href="atoi_8c_source.html#l00217">atoi.c:217</a></div></div>
<div class="ttc" id="abuffer_8h_html_a728ebc5a947b77c8d56db44ce553a7ab"><div class="ttname"><a href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a></div><div class="ttdeci">static const char * buf_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00096">buffer.h:96</a></div></div>
<div class="ttc" id="aconfig_2helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="config_2helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name.</div><div class="ttdef"><b>Definition</b> <a href="config_2helpers_8c_source.html#l00047">helpers.c:47</a></div></div>
<div class="ttc" id="aemail_2parse_8c_html_a709f7f23d8a54a0f75abc28a0b365ace"><div class="ttname"><a href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a></div><div class="ttdeci">struct Envelope * mutt_rfc822_read_header(FILE *fp, struct Email *e, bool user_hdrs, bool weed)</div><div class="ttdoc">Parses an RFC822 header.</div><div class="ttdef"><b>Definition</b> <a href="email_2parse_8c_source.html#l01205">parse.c:1205</a></div></div>
<div class="ttc" id="aenvelope_8c_html_a16aeda1ab6739eac80327f1ef797ffc7"><div class="ttname"><a href="envelope_8c.html#a16aeda1ab6739eac80327f1ef797ffc7">mutt_env_merge</a></div><div class="ttdeci">void mutt_env_merge(struct Envelope *base, struct Envelope **extra)</div><div class="ttdoc">Merge the headers of two Envelopes.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8c_source.html#l00192">envelope.c:192</a></div></div>
<div class="ttc" id="afile_8h_html_a9b519e795f098be88b93cd72c49a35ec"><div class="ttname"><a href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a></div><div class="ttdeci">#define mutt_file_fclose(FP)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00139">file.h:139</a></div></div>
<div class="ttc" id="afile_8h_html_a9fa358d76519cb6bc8ffca5850976d46"><div class="ttname"><a href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a></div><div class="ttdeci">#define mutt_file_fopen(PATH, MODE)</div><div class="ttdef"><b>Definition</b> <a href="file_8h_source.html#l00138">file.h:138</a></div></div>
<div class="ttc" id="aflags_8c_html_a29547b9c7c39eb22039ff4b8f1c03829"><div class="ttname"><a href="flags_8c.html#a29547b9c7c39eb22039ff4b8f1c03829">mutt_set_flag</a></div><div class="ttdeci">void mutt_set_flag(struct Mailbox *m, struct Email *e, enum MessageType flag, bool bf, bool upd_mbox)</div><div class="ttdoc">Set a flag on an email.</div><div class="ttdef"><b>Definition</b> <a href="flags_8c_source.html#l00056">flags.c:56</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00094">logging2.h:94</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00093">logging2.h:93</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00091">logging2.h:91</a></div></div>
<div class="ttc" id="aimap_2adata_8c_html_abe5c03ce9b5a9a60450482316b4d99ea"><div class="ttname"><a href="imap_2adata_8c.html#abe5c03ce9b5a9a60450482316b4d99ea">imap_adata_get</a></div><div class="ttdeci">struct ImapAccountData * imap_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Account data for this mailbox.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8c_source.html#l00123">adata.c:123</a></div></div>
<div class="ttc" id="aimap_2command_8c_html_a07786a21982bd266c8faca5423b7f2cf"><div class="ttname"><a href="imap_2command_8c.html#a07786a21982bd266c8faca5423b7f2cf">imap_cmd_start</a></div><div class="ttdeci">int imap_cmd_start(struct ImapAccountData *adata, const char *cmdstr)</div><div class="ttdoc">Given an IMAP command, send it to the server.</div><div class="ttdef"><b>Definition</b> <a href="imap_2command_8c_source.html#l01135">command.c:1135</a></div></div>
<div class="ttc" id="aimap_2command_8c_html_a8b9d7c9333e35981d94074e9dcc28e6f"><div class="ttname"><a href="imap_2command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a></div><div class="ttdeci">int imap_cmd_step(struct ImapAccountData *adata)</div><div class="ttdoc">Reads server responses from an IMAP command.</div><div class="ttdef"><b>Definition</b> <a href="imap_2command_8c_source.html#l01149">command.c:1149</a></div></div>
<div class="ttc" id="aimap_2command_8c_html_abf593435042f4db0db8d4594443b0c96"><div class="ttname"><a href="imap_2command_8c.html#abf593435042f4db0db8d4594443b0c96">imap_code</a></div><div class="ttdeci">bool imap_code(const char *s)</div><div class="ttdoc">Was the command successful.</div><div class="ttdef"><b>Definition</b> <a href="imap_2command_8c_source.html#l01276">command.c:1276</a></div></div>
<div class="ttc" id="aimap_2edata_8c_html_a79700727ae16a28646a8573587b0b5cd"><div class="ttname"><a href="imap_2edata_8c.html#a79700727ae16a28646a8573587b0b5cd">imap_edata_get</a></div><div class="ttdeci">struct ImapEmailData * imap_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email.</div><div class="ttdef"><b>Definition</b> <a href="imap_2edata_8c_source.html#l00066">edata.c:66</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_a2091c9a0611550919380ad2f8594f7ff"><div class="ttname"><a href="imap_2message_8c.html#a2091c9a0611550919380ad2f8594f7ff">msg_cache_put</a></div><div class="ttdeci">static FILE * msg_cache_put(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Put an email into the message cache.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l00130">message.c:130</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_a2c7f5e058763a5f3be5963e7fe72a5d9"><div class="ttname"><a href="imap_2message_8c.html#a2c7f5e058763a5f3be5963e7fe72a5d9">imap_set_flags</a></div><div class="ttdeci">char * imap_set_flags(struct Mailbox *m, struct Email *e, char *s, bool *server_changes)</div><div class="ttdoc">Fill the message header according to the server flags.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l01940">message.c:1940</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_aa21081ac533434552dce761ca3071277"><div class="ttname"><a href="imap_2message_8c.html#aa21081ac533434552dce761ca3071277">msg_cache_get</a></div><div class="ttdeci">static FILE * msg_cache_get(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Get the message cache entry for an email.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l00109">message.c:109</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_aade70cfb183e32e948a40ba633fd711a"><div class="ttname"><a href="imap_2message_8c.html#aade70cfb183e32e948a40ba633fd711a">imap_cache_del</a></div><div class="ttdeci">int imap_cache_del(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Delete an email from the body cache.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l01889">message.c:1889</a></div></div>
<div class="ttc" id="aimap_2message_8c_html_abff6bc396da8f9f4d8eb7f55587bfe7f"><div class="ttname"><a href="imap_2message_8c.html#abff6bc396da8f9f4d8eb7f55587bfe7f">msg_cache_commit</a></div><div class="ttdeci">static int msg_cache_commit(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Add to the message cache.</div><div class="ttdef"><b>Definition</b> <a href="imap_2message_8c_source.html#l00151">message.c:151</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a3a3aa36d9170dbd75353b08e9c54f0ae"><div class="ttname"><a href="imap_2private_8h.html#a3a3aa36d9170dbd75353b08e9c54f0ae">imap_get_literal_count</a></div><div class="ttdeci">int imap_get_literal_count(const char *buf, unsigned int *bytes)</div><div class="ttdoc">Write number of bytes in an IMAP literal into bytes.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l00781">util.c:781</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a3e63d724ab73ca87b3f8f43a772d32ba"><div class="ttname"><a href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a></div><div class="ttdeci">#define IMAP_RES_OK</div><div class="ttdoc">&lt;tag&gt; OK ...</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00055">private.h:55</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_a6217caee48af21c7f08eff5dce816dcf"><div class="ttname"><a href="imap_2private_8h.html#a6217caee48af21c7f08eff5dce816dcf">IMAP_CAP_IMAP4REV1</a></div><div class="ttdeci">#define IMAP_CAP_IMAP4REV1</div><div class="ttdoc">Server supports IMAP4rev1.</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00122">private.h:122</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_aab316d8524d30a8813bab633aa9505e6"><div class="ttname"><a href="imap_2private_8h.html#aab316d8524d30a8813bab633aa9505e6">imap_error</a></div><div class="ttdeci">void imap_error(const char *where, const char *msg)</div><div class="ttdoc">Show an error and abort.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l00661">util.c:661</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_add0869283ae9186ac31a7169b246cc6b"><div class="ttname"><a href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a></div><div class="ttdeci">#define IMAP_RES_CONTINUE</div><div class="ttdoc">* ...</div><div class="ttdef"><b>Definition</b> <a href="imap_2private_8h_source.html#l00056">private.h:56</a></div></div>
<div class="ttc" id="aimap_2private_8h_html_adeb5e149a78c8a6dc9e5763fd015577a"><div class="ttname"><a href="imap_2private_8h.html#adeb5e149a78c8a6dc9e5763fd015577a">imap_next_word</a></div><div class="ttdeci">char * imap_next_word(char *s)</div><div class="ttdoc">Find where the next IMAP word begins.</div><div class="ttdef"><b>Definition</b> <a href="util_8c_source.html#l00825">util.c:825</a></div></div>
<div class="ttc" id="aimap_8c_html_ad4b061ad7ccc097ec95fc6991c057843"><div class="ttname"><a href="imap_8c.html#ad4b061ad7ccc097ec95fc6991c057843">imap_read_literal</a></div><div class="ttdeci">int imap_read_literal(FILE *fp, struct ImapAccountData *adata, unsigned long bytes, struct Progress *progress)</div><div class="ttdoc">Read bytes bytes from server into file.</div><div class="ttdef"><b>Definition</b> <a href="imap_8c_source.html#l00705">imap.c:705</a></div></div>
<div class="ttc" id="alogging2_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging2_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdeci">@ LL_DEBUG1</div><div class="ttdoc">Log at debug level 1.</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00045">logging2.h:45</a></div></div>
<div class="ttc" id="amutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_aebd2a8a3f8a30062c31fa1474d87cc41"><div class="ttname"><a href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a></div><div class="ttdeci">size_t mutt_istr_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix, ignoring case.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00246">string.c:246</a></div></div>
<div class="ttc" id="amutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a></div><div class="ttdeci">@ MUTT_NEW</div><div class="ttdoc">New messages.</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00070">mutt.h:70</a></div></div>
<div class="ttc" id="amutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen)</div><div class="ttdef"><b>Definition</b> <a href="mutt__logging_8c_source.html#l00074">mutt_logging.c:74</a></div></div>
<div class="ttc" id="apool_8c_html_a41cba27c25d33cb6822789a2856093f2"><div class="ttname"><a href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a></div><div class="ttdeci">struct Buffer * buf_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00082">pool.c:82</a></div></div>
<div class="ttc" id="apool_8c_html_a4cc6068279461cb8628219586dfa35a1"><div class="ttname"><a href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a></div><div class="ttdeci">void buf_pool_release(struct Buffer **ptr)</div><div class="ttdoc">Return a Buffer to the pool.</div><div class="ttdef"><b>Definition</b> <a href="pool_8c_source.html#l00096">pool.c:96</a></div></div>
<div class="ttc" id="astructAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends)</div><div class="ttdef"><b>Definition</b> <a href="core_2account_8h_source.html#l00042">account.h:42</a></div></div>
<div class="ttc" id="astructBody_html_a1969dfeb0a155ccb16153fe777a103b0"><div class="ttname"><a href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">Body::offset</a></div><div class="ttdeci">LOFF_T offset</div><div class="ttdoc">offset where the actual data begins</div><div class="ttdef"><b>Definition</b> <a href="email_2body_8h_source.html#l00052">body.h:52</a></div></div>
<div class="ttc" id="astructBody_html_a6f92d7ec8568ca04ae07931c56dd0790"><div class="ttname"><a href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">Body::length</a></div><div class="ttdeci">LOFF_T length</div><div class="ttdoc">length (in bytes) of attachment</div><div class="ttdef"><b>Definition</b> <a href="email_2body_8h_source.html#l00053">body.h:53</a></div></div>
<div class="ttc" id="astructBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8h_source.html#l00035">buffer.h:36</a></div></div>
<div class="ttc" id="astructEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="astructEmail_html_a34cc4493729d7a3b1f4ed783e739a9ec"><div class="ttname"><a href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">Email::env</a></div><div class="ttdeci">struct Envelope * env</div><div class="ttdoc">Envelope information.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00068">email.h:68</a></div></div>
<div class="ttc" id="astructEmail_html_a562a3aee45efc37c07dedcc8e1fef93f"><div class="ttname"><a href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">Email::lines</a></div><div class="ttdeci">int lines</div><div class="ttdoc">How many lines in the body of this message?</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00062">email.h:62</a></div></div>
<div class="ttc" id="astructEmail_html_a57ad6ac618c0f685804f6f5bb390b3a6"><div class="ttname"><a href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">Email::body</a></div><div class="ttdeci">struct Body * body</div><div class="ttdoc">List of MIME parts.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00069">email.h:69</a></div></div>
<div class="ttc" id="astructEmail_html_a620f342070525352c06b9ffabe19a8a6"><div class="ttname"><a href="structEmail.html#a620f342070525352c06b9ffabe19a8a6">Email::active</a></div><div class="ttdeci">bool active</div><div class="ttdoc">Message is not to be removed.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00076">email.h:76</a></div></div>
<div class="ttc" id="astructEmail_html_a8b1e186b9d388e199ba9c6239c612627"><div class="ttname"><a href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">Email::changed</a></div><div class="ttdeci">bool changed</div><div class="ttdoc">Email has been edited.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00077">email.h:77</a></div></div>
<div class="ttc" id="astructEnvelope_html"><div class="ttname"><a href="structEnvelope.html">Envelope</a></div><div class="ttdoc">The header of an Email.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8h_source.html#l00056">envelope.h:57</a></div></div>
<div class="ttc" id="astructImapAccountData_html"><div class="ttname"><a href="structImapAccountData.html">ImapAccountData</a></div><div class="ttdoc">IMAP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00039">adata.h:40</a></div></div>
<div class="ttc" id="astructImapAccountData_html_aa1ba7fde388cdd8e1133c1784e5ed4ea"><div class="ttname"><a href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">ImapAccountData::capabilities</a></div><div class="ttdeci">ImapCapFlags capabilities</div><div class="ttdoc">Capability flags.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="astructImapAccountData_html_ae2a1c679abb95b27819897b57ee436fd"><div class="ttname"><a href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">ImapAccountData::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdoc">Command buffer.</div><div class="ttdef"><b>Definition</b> <a href="imap_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="astructImapEmailData_html_a51e50c468a502ec7b3ea9f5dfa09e2f0"><div class="ttname"><a href="structImapEmailData.html#a51e50c468a502ec7b3ea9f5dfa09e2f0">ImapEmailData::parsed</a></div><div class="ttdeci">bool parsed</div><div class="ttdoc">Email has been parsed.</div><div class="ttdef"><b>Definition</b> <a href="imap_2edata_8h_source.html#l00043">edata.h:43</a></div></div>
<div class="ttc" id="astructMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages?</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00117">mailbox.h:117</a></div></div>
<div class="ttc" id="astructMessage_html_a11d53ee4319e8735c1677d8780a7b517"><div class="ttname"><a href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">Message::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdoc">pointer to the message data</div><div class="ttdef"><b>Definition</b> <a href="core_2message_8h_source.html#l00035">message.h:35</a></div></div>
<div class="ttc" id="astructNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00042">neomutt.h:43</a></div></div>
<div class="ttc" id="astructNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items.</div><div class="ttdef"><b>Definition</b> <a href="neomutt_8h_source.html#l00047">neomutt.h:47</a></div></div>
<div class="ttc" id="atmp_8h_html_a271a7828888985955df49205d7846a45"><div class="ttname"><a href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a></div><div class="ttdeci">#define buf_mktemp(buf)</div><div class="ttdef"><b>Definition</b> <a href="tmp_8h_source.html#l00033">tmp.h:33</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga05225915cb255c506477294eb9cffbf5_cgraph.svg" width="538" height="1247"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="gab66cebab7ac31acc7925c7542414f911" name="gab66cebab7ac31acc7925c7542414f911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab66cebab7ac31acc7925c7542414f911">&#9670;&#160;</a></span>maildir_msg_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool maildir_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="maildir_2message_8c_source.html#l00504">504</a> of file <a class="el" href="maildir_2message_8c_source.html">message.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  505</span>{</div>
<div class="line"><span class="lineno">  506</span>  <span class="keywordtype">char</span> path[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>  snprintf(path, <span class="keyword">sizeof</span>(path), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), e-&gt;<a class="code hl_variable" href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">path</a>);</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(path, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  511</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> &amp;&amp; (errno == ENOENT))</div>
<div class="line"><span class="lineno">  512</span>    msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="maildir_2message_8c.html#a6be4837824f7fb8e2fbdfd0e316da17e">maildir_open_find_message</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), e-&gt;<a class="code hl_variable" href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">path</a>, NULL);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno">  515</span>  {</div>
<div class="line"><span class="lineno">  516</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, path);</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  518</span>  }</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  521</span>}</div>
<div class="ttc" id="acore_2mailbox_8h_html_a7e9739eb3e94344633f7051c2fb9453e"><div class="ttname"><a href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&#39;s path string.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00214">mailbox.h:214</a></div></div>
<div class="ttc" id="agroup__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition</b> <a href="logging2_8h_source.html#l00095">logging2.h:95</a></div></div>
<div class="ttc" id="amaildir_2message_8c_html_a6be4837824f7fb8e2fbdfd0e316da17e"><div class="ttname"><a href="maildir_2message_8c.html#a6be4837824f7fb8e2fbdfd0e316da17e">maildir_open_find_message</a></div><div class="ttdeci">FILE * maildir_open_find_message(const char *folder, const char *msg, char **newname)</div><div class="ttdoc">Find a message by name.</div><div class="ttdef"><b>Definition</b> <a href="maildir_2message_8c_source.html#l00169">message.c:169</a></div></div>
<div class="ttc" id="amutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition</b> <a href="mutt_8h_source.html#l00042">mutt.h:42</a></div></div>
<div class="ttc" id="astructEmail_html_ac041599cfe41b49e7b8f9d752d07bb39"><div class="ttname"><a href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">Email::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path of Email (for local Mailboxes)</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00070">email.h:70</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_gab66cebab7ac31acc7925c7542414f911_cgraph.svg" width="384" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga2e9ca06479b159b60a1ab4cecc32e2a5" name="ga2e9ca06479b159b60a1ab4cecc32e2a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e9ca06479b159b60a1ab4cecc32e2a5">&#9670;&#160;</a></span>mbox_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mbox_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mbox_8c_source.html#l01473">1473</a> of file <a class="el" href="mbox_8c_source.html">mbox.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1474</span>{</div>
<div class="line"><span class="lineno"> 1475</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structMboxAccountData.html">MboxAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a>(m);</div>
<div class="line"><span class="lineno"> 1476</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>)</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 1480</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 1481</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1484</span>}</div>
<div class="ttc" id="ambox_8c_html_a2f989931e9117a9c6598b6c592f69be2"><div class="ttname"><a href="mbox_8c.html#a2f989931e9117a9c6598b6c592f69be2">mbox_adata_get</a></div><div class="ttdeci">static struct MboxAccountData * mbox_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the private data associated with a Mailbox.</div><div class="ttdef"><b>Definition</b> <a href="mbox_8c_source.html#l00124">mbox.c:124</a></div></div>
<div class="ttc" id="astructMboxAccountData_html"><div class="ttname"><a href="structMboxAccountData.html">MboxAccountData</a></div><div class="ttdoc">Mbox-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="mbox_2lib_8h_source.html#l00048">lib.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga2e9ca06479b159b60a1ab4cecc32e2a5_cgraph.svg" width="308" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga2403cfa29466f75ce776880e32fcbd66" name="ga2403cfa29466f75ce776880e32fcbd66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2403cfa29466f75ce776880e32fcbd66">&#9670;&#160;</a></span>mh_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool mh_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mh_8c_source.html#l01142">1142</a> of file <a class="el" href="mh_8c_source.html">mh.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1143</span>{</div>
<div class="line"><span class="lineno"> 1144</span>  <span class="keywordtype">char</span> path[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>  snprintf(path, <span class="keyword">sizeof</span>(path), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code hl_function" href="core_2mailbox_8h.html#a7e9739eb3e94344633f7051c2fb9453e">mailbox_path</a>(m), e-&gt;<a class="code hl_variable" href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">path</a>);</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(path, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 1149</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 1150</span>  {</div>
<div class="line"><span class="lineno"> 1151</span>    <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, path);</div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1153</span>  }</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga2403cfa29466f75ce776880e32fcbd66_cgraph.svg" width="274" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga152bb83e1640fbdf1e581e3c89a18e8e" name="ga152bb83e1640fbdf1e581e3c89a18e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga152bb83e1640fbdf1e581e3c89a18e8e">&#9670;&#160;</a></span>nntp_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nntp_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02646">2646</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2647</span>{</div>
<div class="line"><span class="lineno"> 2648</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code hl_variable" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div>
<div class="line"><span class="lineno"> 2649</span>  <span class="keywordtype">char</span> article[16] = { 0 };</div>
<div class="line"><span class="lineno"> 2650</span> </div>
<div class="line"><span class="lineno"> 2651</span>  <span class="comment">/* try to get article from cache */</span></div>
<div class="line"><span class="lineno"> 2652</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structNntpAcache.html">NntpAcache</a> *acache = &amp;mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a> % <a class="code hl_define" href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a>];</div>
<div class="line"><span class="lineno"> 2653</span>  <span class="keywordflow">if</span> (acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>)</div>
<div class="line"><span class="lineno"> 2654</span>  {</div>
<div class="line"><span class="lineno"> 2655</span>    <span class="keywordflow">if</span> (acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a3d753a73325217475df2a93b0ec56ea0">index</a> == e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a>)</div>
<div class="line"><span class="lineno"> 2656</span>    {</div>
<div class="line"><span class="lineno"> 2657</span>      msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 2658</span>      <span class="keywordflow">if</span> (msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2659</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2660</span>    }</div>
<div class="line"><span class="lineno"> 2661</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2662</span>    {</div>
<div class="line"><span class="lineno"> 2663</span>      <span class="comment">/* clear previous entry */</span></div>
<div class="line"><span class="lineno"> 2664</span>      unlink(acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2665</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2666</span>    }</div>
<div class="line"><span class="lineno"> 2667</span>  }</div>
<div class="line"><span class="lineno"> 2668</span>  snprintf(article, <span class="keyword">sizeof</span>(article), <a class="code hl_define" href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a>, <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;article_num);</div>
<div class="line"><span class="lineno"> 2669</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="bcache_8c.html#a682b68f9fcc6d5cfeb93045df20e0918">mutt_bcache_get</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, article);</div>
<div class="line"><span class="lineno"> 2670</span>  <span class="keywordflow">if</span> (msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2671</span>  {</div>
<div class="line"><span class="lineno"> 2672</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;parsed)</div>
<div class="line"><span class="lineno"> 2673</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2674</span>  }</div>
<div class="line"><span class="lineno"> 2675</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2676</span>  {</div>
<div class="line"><span class="lineno"> 2677</span>    <span class="comment">/* don&#39;t try to fetch article from removed newsgroup */</span></div>
<div class="line"><span class="lineno"> 2678</span>    <span class="keywordflow">if</span> (mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a>)</div>
<div class="line"><span class="lineno"> 2679</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2680</span> </div>
<div class="line"><span class="lineno"> 2681</span>    <span class="comment">/* create new cache file */</span></div>
<div class="line"><span class="lineno"> 2682</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *fetch_msg = <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Fetching message...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2683</span>    <a class="code hl_define" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<span class="stringliteral">&quot;%s&quot;</span>, fetch_msg);</div>
<div class="line"><span class="lineno"> 2684</span>    msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="bcache_8c.html#ae47d3c541614bce148da538dd0e067fd">mutt_bcache_put</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, article);</div>
<div class="line"><span class="lineno"> 2685</span>    <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2686</span>    {</div>
<div class="line"><span class="lineno"> 2687</span>      <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *tempfile = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 2688</span>      <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(tempfile);</div>
<div class="line"><span class="lineno"> 2689</span>      acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(tempfile);</div>
<div class="line"><span class="lineno"> 2690</span>      <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;tempfile);</div>
<div class="line"><span class="lineno"> 2691</span>      acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a3d753a73325217475df2a93b0ec56ea0">index</a> = e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a>;</div>
<div class="line"><span class="lineno"> 2692</span>      msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>, <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line"><span class="lineno"> 2693</span>      <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 2694</span>      {</div>
<div class="line"><span class="lineno"> 2695</span>        <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2696</span>        unlink(acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2697</span>        <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2698</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2699</span>      }</div>
<div class="line"><span class="lineno"> 2700</span>    }</div>
<div class="line"><span class="lineno"> 2701</span> </div>
<div class="line"><span class="lineno"> 2702</span>    <span class="comment">/* fetch message to cache file */</span></div>
<div class="line"><span class="lineno"> 2703</span>    <span class="keywordtype">char</span> buf[2048] = { 0 };</div>
<div class="line"><span class="lineno"> 2704</span>    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;ARTICLE %s\r\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 2705</span>             <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;article_num ? article : e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>);</div>
<div class="line"><span class="lineno"> 2706</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> rc = <a class="code hl_function" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(mdata, buf, <span class="keyword">sizeof</span>(buf), NULL, <a class="code hl_function" href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a>, msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2707</span>    <span class="keywordflow">if</span> (rc)</div>
<div class="line"><span class="lineno"> 2708</span>    {</div>
<div class="line"><span class="lineno"> 2709</span>      <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2710</span>      <span class="keywordflow">if</span> (acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>)</div>
<div class="line"><span class="lineno"> 2711</span>      {</div>
<div class="line"><span class="lineno"> 2712</span>        unlink(acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2713</span>        <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div>
<div class="line"><span class="lineno"> 2714</span>      }</div>
<div class="line"><span class="lineno"> 2715</span>      <span class="keywordflow">if</span> (rc &gt; 0)</div>
<div class="line"><span class="lineno"> 2716</span>      {</div>
<div class="line"><span class="lineno"> 2717</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;article_num ? <span class="stringliteral">&quot;423&quot;</span> : <span class="stringliteral">&quot;430&quot;</span>))</div>
<div class="line"><span class="lineno"> 2718</span>        {</div>
<div class="line"><span class="lineno"> 2719</span>          <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Article %s not found on the server&quot;</span>),</div>
<div class="line"><span class="lineno"> 2720</span>                     <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;article_num ? article : e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>);</div>
<div class="line"><span class="lineno"> 2721</span>        }</div>
<div class="line"><span class="lineno"> 2722</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2723</span>        {</div>
<div class="line"><span class="lineno"> 2724</span>          <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;ARTICLE: %s&quot;</span>, buf);</div>
<div class="line"><span class="lineno"> 2725</span>        }</div>
<div class="line"><span class="lineno"> 2726</span>      }</div>
<div class="line"><span class="lineno"> 2727</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2728</span>    }</div>
<div class="line"><span class="lineno"> 2729</span> </div>
<div class="line"><span class="lineno"> 2730</span>    <span class="keywordflow">if</span> (!acache-&gt;<a class="code hl_variable" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>)</div>
<div class="line"><span class="lineno"> 2731</span>      <a class="code hl_function" href="bcache_8c.html#a5125c4a660fa9267a94153695c44a4f0">mutt_bcache_commit</a>(mdata-&gt;<a class="code hl_variable" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, article);</div>
<div class="line"><span class="lineno"> 2732</span>  }</div>
<div class="line"><span class="lineno"> 2733</span> </div>
<div class="line"><span class="lineno"> 2734</span>  <span class="comment">/* replace envelope with new one</span></div>
<div class="line"><span class="lineno"> 2735</span><span class="comment">   * hash elements must be updated because pointers will be changed */</span></div>
<div class="line"><span class="lineno"> 2736</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>)</div>
<div class="line"><span class="lineno"> 2737</span>    <a class="code hl_function" href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>, e);</div>
<div class="line"><span class="lineno"> 2738</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>)</div>
<div class="line"><span class="lineno"> 2739</span>    <a class="code hl_function" href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>, e);</div>
<div class="line"><span class="lineno"> 2740</span> </div>
<div class="line"><span class="lineno"> 2741</span>  <a class="code hl_function" href="envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a>(&amp;e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>);</div>
<div class="line"><span class="lineno"> 2742</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a> = <a class="code hl_function" href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a>(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>, e, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2743</span> </div>
<div class="line"><span class="lineno"> 2744</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>)</div>
<div class="line"><span class="lineno"> 2745</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>, e);</div>
<div class="line"><span class="lineno"> 2746</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>)</div>
<div class="line"><span class="lineno"> 2747</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>, e);</div>
<div class="line"><span class="lineno"> 2748</span> </div>
<div class="line"><span class="lineno"> 2749</span>  <span class="comment">/* fix content length */</span></div>
<div class="line"><span class="lineno"> 2750</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="file_8c.html#a6b60cb2044041374689e6e6641c5cc05">mutt_file_seek</a>(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>, 0, SEEK_END))</div>
<div class="line"><span class="lineno"> 2751</span>  {</div>
<div class="line"><span class="lineno"> 2752</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2753</span>  }</div>
<div class="line"><span class="lineno"> 2754</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> = ftell(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>) - e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a>;</div>
<div class="line"><span class="lineno"> 2755</span> </div>
<div class="line"><span class="lineno"> 2756</span>  <span class="comment">/* this is called in neomutt before the open which fetches the message,</span></div>
<div class="line"><span class="lineno"> 2757</span><span class="comment">   * which is probably wrong, but we just call it again here to handle</span></div>
<div class="line"><span class="lineno"> 2758</span><span class="comment">   * the problem instead of fixing it */</span></div>
<div class="line"><span class="lineno"> 2759</span>  <a class="code hl_function" href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a>(e)-&gt;<a class="code hl_variable" href="structNntpEmailData.html#ac49b13d2c360909942f177f0af5626d1">parsed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2760</span>  <a class="code hl_function" href="attach_2commands_8c.html#a521686f973cf66e6c60be12cc9659ac3">mutt_parse_mime_message</a>(e, msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2761</span> </div>
<div class="line"><span class="lineno"> 2762</span>  <span class="comment">/* these would normally be updated in mview_update(), but the</span></div>
<div class="line"><span class="lineno"> 2763</span><span class="comment">   * full headers aren&#39;t parsed with overview, so the information wasn&#39;t</span></div>
<div class="line"><span class="lineno"> 2764</span><span class="comment">   * available then */</span></div>
<div class="line"><span class="lineno"> 2765</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a>)</div>
<div class="line"><span class="lineno"> 2766</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> = <a class="code hl_function" href="crypt_8c.html#af4ab2e337a2477fba687b1f710aa7a61">crypt_query</a>(e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div>
<div class="line"><span class="lineno"> 2767</span> </div>
<div class="line"><span class="lineno"> 2768</span>  rewind(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 2769</span>  <a class="code hl_function" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div>
<div class="line"><span class="lineno"> 2770</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2771</span>}</div>
<div class="ttc" id="aattach_2commands_8c_html_a521686f973cf66e6c60be12cc9659ac3"><div class="ttname"><a href="attach_2commands_8c.html#a521686f973cf66e6c60be12cc9659ac3">mutt_parse_mime_message</a></div><div class="ttdeci">void mutt_parse_mime_message(struct Email *e, FILE *fp)</div><div class="ttdoc">Parse a MIME email.</div><div class="ttdef"><b>Definition</b> <a href="attach_2commands_8c_source.html#l00629">commands.c:629</a></div></div>
<div class="ttc" id="abcache_8c_html_a5125c4a660fa9267a94153695c44a4f0"><div class="ttname"><a href="bcache_8c.html#a5125c4a660fa9267a94153695c44a4f0">mutt_bcache_commit</a></div><div class="ttdeci">int mutt_bcache_commit(struct BodyCache *bcache, const char *id)</div><div class="ttdoc">Move a temporary file into the Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00252">bcache.c:252</a></div></div>
<div class="ttc" id="abcache_8c_html_a682b68f9fcc6d5cfeb93045df20e0918"><div class="ttname"><a href="bcache_8c.html#a682b68f9fcc6d5cfeb93045df20e0918">mutt_bcache_get</a></div><div class="ttdeci">FILE * mutt_bcache_get(struct BodyCache *bcache, const char *id)</div><div class="ttdoc">Open a file in the Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00185">bcache.c:185</a></div></div>
<div class="ttc" id="abcache_8c_html_ae47d3c541614bce148da538dd0e067fd"><div class="ttname"><a href="bcache_8c.html#ae47d3c541614bce148da538dd0e067fd">mutt_bcache_put</a></div><div class="ttdeci">FILE * mutt_bcache_put(struct BodyCache *bcache, const char *id)</div><div class="ttdoc">Create a file in the Body Cache.</div><div class="ttdef"><b>Definition</b> <a href="bcache_8c_source.html#l00212">bcache.c:212</a></div></div>
<div class="ttc" id="abuffer_8c_html_ad76477cc0c660bc50162393e997233eb"><div class="ttname"><a href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a></div><div class="ttdeci">char * buf_strdup(const struct Buffer *buf)</div><div class="ttdoc">Copy a Buffer&#39;s string.</div><div class="ttdef"><b>Definition</b> <a href="buffer_8c_source.html#l00571">buffer.c:571</a></div></div>
<div class="ttc" id="acrypt_8c_html_af4ab2e337a2477fba687b1f710aa7a61"><div class="ttname"><a href="crypt_8c.html#af4ab2e337a2477fba687b1f710aa7a61">crypt_query</a></div><div class="ttdeci">SecurityFlags crypt_query(struct Body *b)</div><div class="ttdoc">Check out the type of encryption used.</div><div class="ttdef"><b>Definition</b> <a href="crypt_8c_source.html#l00689">crypt.c:689</a></div></div>
<div class="ttc" id="aenvelope_8c_html_a244dacf9b1001c9ce1dbd473e001381f"><div class="ttname"><a href="envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a></div><div class="ttdeci">void mutt_env_free(struct Envelope **ptr)</div><div class="ttdoc">Free an Envelope.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8c_source.html#l00125">envelope.c:125</a></div></div>
<div class="ttc" id="afile_8c_html_a6b60cb2044041374689e6e6641c5cc05"><div class="ttname"><a href="file_8c.html#a6b60cb2044041374689e6e6641c5cc05">mutt_file_seek</a></div><div class="ttdeci">bool mutt_file_seek(FILE *fp, LOFF_T offset, int whence)</div><div class="ttdoc">Wrapper for fseeko with error handling.</div><div class="ttdef"><b>Definition</b> <a href="file_8c_source.html#l00656">file.c:656</a></div></div>
<div class="ttc" id="ahash_8c_html_a10bd305a8183db9829caee9ea1bac2f5"><div class="ttname"><a href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a></div><div class="ttdeci">struct HashElem * mutt_hash_insert(struct HashTable *table, const char *strkey, void *data)</div><div class="ttdoc">Add a new element to the Hash Table (with string keys)</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00336">hash.c:336</a></div></div>
<div class="ttc" id="ahash_8c_html_a114557f625aa5366ab736c607fd381dd"><div class="ttname"><a href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a></div><div class="ttdeci">void mutt_hash_delete(struct HashTable *table, const char *strkey, const void *data)</div><div class="ttdoc">Remove an element from a Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="hash_8c_source.html#l00428">hash.c:428</a></div></div>
<div class="ttc" id="amemory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition</b> <a href="memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="amutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix.</div><div class="ttdef"><b>Definition</b> <a href="mutt_2string_8c_source.html#l00234">string.c:234</a></div></div>
<div class="ttc" id="ancrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition</b> <a href="ncrypt_2lib_8h_source.html#l00122">lib.h:122</a></div></div>
<div class="ttc" id="anntp_2edata_8c_html_a78e1fab53bc6f3d3813bcef508414349"><div class="ttname"><a href="nntp_2edata_8c.html#a78e1fab53bc6f3d3813bcef508414349">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8c_source.html#l00060">edata.c:60</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a1efe6072fe3f0f219d90675e1aa55f40"><div class="ttname"><a href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a></div><div class="ttdeci">#define NNTP_ACACHE_LEN</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00084">lib.h:84</a></div></div>
<div class="ttc" id="anntp_2lib_8h_html_a9d3ef937cceedd7b24520f69c5191d68"><div class="ttname"><a href="nntp_2lib_8h.html#a9d3ef937cceedd7b24520f69c5191d68">ANUM_FMT</a></div><div class="ttdeci">#define ANUM_FMT</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="anntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l00814">nntp.c:814</a></div></div>
<div class="ttc" id="anntp_8c_html_aaf413f6c5603eab3efd124f2c56df842"><div class="ttname"><a href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a></div><div class="ttdeci">static int fetch_tempfile(char *line, void *data)</div><div class="ttdoc">Write line to temporary file.</div><div class="ttdef"><b>Definition</b> <a href="nntp_8c_source.html#l01009">nntp.c:1009</a></div></div>
<div class="ttc" id="astructEmail_html_a570a81cd747437c9ea4357947731ae10"><div class="ttname"><a href="structEmail.html#a570a81cd747437c9ea4357947731ae10">Email::security</a></div><div class="ttdeci">SecurityFlags security</div><div class="ttdoc">bit 0-10: flags, bit 11,12: application, bit 13: traditional pgp See: ncrypt/lib.h pgplib....</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00043">email.h:43</a></div></div>
<div class="ttc" id="astructEmail_html_ace0e20a11dbdc84ca9ea63497c05b603"><div class="ttname"><a href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">Email::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">The absolute (unsorted) message number.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00110">email.h:110</a></div></div>
<div class="ttc" id="astructEnvelope_html_a50418c13a849bf27b22922bd5867e5e1"><div class="ttname"><a href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">Envelope::message_id</a></div><div class="ttdeci">char * message_id</div><div class="ttdoc">Message ID.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8h_source.html#l00073">envelope.h:73</a></div></div>
<div class="ttc" id="astructEnvelope_html_ad7dc5e8dd9356bb5266787bf647a4031"><div class="ttname"><a href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">Envelope::real_subj</a></div><div class="ttdeci">char *const real_subj</div><div class="ttdoc">Offset of the real subject.</div><div class="ttdef"><b>Definition</b> <a href="envelope_8h_source.html#l00071">envelope.h:71</a></div></div>
<div class="ttc" id="astructMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00132">mailbox.h:132</a></div></div>
<div class="ttc" id="astructMailbox_html_a6fedaadfa93f600be8db87684ca631d7"><div class="ttname"><a href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">Mailbox::subj_hash</a></div><div class="ttdeci">struct HashTable * subj_hash</div><div class="ttdoc">Hash Table: &quot;subject&quot; -&gt; Email.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00124">mailbox.h:124</a></div></div>
<div class="ttc" id="astructMailbox_html_aa179b922336df79d4674b836ca5ef4fb"><div class="ttname"><a href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">Mailbox::id_hash</a></div><div class="ttdeci">struct HashTable * id_hash</div><div class="ttdoc">Hash Table: &quot;message-id&quot; -&gt; Email.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00123">mailbox.h:123</a></div></div>
<div class="ttc" id="astructNntpAcache_html"><div class="ttname"><a href="structNntpAcache.html">NntpAcache</a></div><div class="ttdoc">NNTP article cache.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00068">lib.h:69</a></div></div>
<div class="ttc" id="astructNntpAcache_html_a33c62982769726fafeb4e89d6c92905c"><div class="ttname"><a href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">NntpAcache::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Cache path.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00071">lib.h:71</a></div></div>
<div class="ttc" id="astructNntpAcache_html_a3d753a73325217475df2a93b0ec56ea0"><div class="ttname"><a href="structNntpAcache.html#a3d753a73325217475df2a93b0ec56ea0">NntpAcache::index</a></div><div class="ttdeci">unsigned int index</div><div class="ttdoc">Index number.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2lib_8h_source.html#l00070">lib.h:70</a></div></div>
<div class="ttc" id="astructNntpEmailData_html_ac49b13d2c360909942f177f0af5626d1"><div class="ttname"><a href="structNntpEmailData.html#ac49b13d2c360909942f177f0af5626d1">NntpEmailData::parsed</a></div><div class="ttdeci">bool parsed</div><div class="ttdoc">Email has been parse.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2edata_8h_source.html#l00037">edata.h:37</a></div></div>
<div class="ttc" id="astructNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00033">mdata.h:34</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Newsgroup is deleted.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdoc">Body cache.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00050">mdata.h:50</a></div></div>
<div class="ttc" id="astructNntpMboxData_html_ac77579c4bad5769c1ed74f5990701cf5"><div class="ttname"><a href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">NntpMboxData::acache</a></div><div class="ttdeci">struct NntpAcache acache[NNTP_ACACHE_LEN]</div><div class="ttdoc">Article cache.</div><div class="ttdef"><b>Definition</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga152bb83e1640fbdf1e581e3c89a18e8e_cgraph.svg" width="563" height="926"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga88dde7e6780b188d62b5cecd395fc4c4" name="ga88dde7e6780b188d62b5cecd395fc4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88dde7e6780b188d62b5cecd395fc4c4">&#9670;&#160;</a></span>nm_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nm_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="notmuch_8c_source.html#l02390">2390</a> of file <a class="el" href="notmuch_8c_source.html">notmuch.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2391</span>{</div>
<div class="line"><span class="lineno"> 2392</span>  <span class="keywordtype">char</span> path[<a class="code hl_define" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>] = { 0 };</div>
<div class="line"><span class="lineno"> 2393</span>  <span class="keywordtype">char</span> *folder = <a class="code hl_function" href="notmuch_8c.html#ad4b565dda9a762faf390ee6a5a7022e7">nm_email_get_folder</a>(e);</div>
<div class="line"><span class="lineno"> 2394</span> </div>
<div class="line"><span class="lineno"> 2395</span>  snprintf(path, <span class="keyword">sizeof</span>(path), <span class="stringliteral">&quot;%s/%s&quot;</span>, folder, e-&gt;<a class="code hl_variable" href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">path</a>);</div>
<div class="line"><span class="lineno"> 2396</span> </div>
<div class="line"><span class="lineno"> 2397</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(path, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno"> 2398</span>  <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> &amp;&amp; (errno == ENOENT) &amp;&amp; ((m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a>) || (m-&gt;<a class="code hl_variable" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code hl_enumvalue" href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6">MUTT_NOTMUCH</a>)))</div>
<div class="line"><span class="lineno"> 2399</span>  {</div>
<div class="line"><span class="lineno"> 2400</span>    msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="maildir_2message_8c.html#a6be4837824f7fb8e2fbdfd0e316da17e">maildir_open_find_message</a>(folder, e-&gt;<a class="code hl_variable" href="structEmail.html#ac041599cfe41b49e7b8f9d752d07bb39">path</a>, NULL);</div>
<div class="line"><span class="lineno"> 2401</span>  }</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>  <span class="keywordflow">return</span> msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> != NULL;</div>
<div class="line"><span class="lineno"> 2404</span>}</div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921da05c2d20da557ac5b2c45a349eec1fba6">MUTT_NOTMUCH</a></div><div class="ttdeci">@ MUTT_NOTMUCH</div><div class="ttdoc">&#39;Notmuch&#39; (virtual) Mailbox type</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00051">mailbox.h:51</a></div></div>
<div class="ttc" id="acore_2mailbox_8h_html_af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4"><div class="ttname"><a href="core_2mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a></div><div class="ttdeci">@ MUTT_MAILDIR</div><div class="ttdoc">&#39;Maildir&#39; Mailbox type</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00048">mailbox.h:48</a></div></div>
<div class="ttc" id="anotmuch_8c_html_ad4b565dda9a762faf390ee6a5a7022e7"><div class="ttname"><a href="notmuch_8c.html#ad4b565dda9a762faf390ee6a5a7022e7">nm_email_get_folder</a></div><div class="ttdeci">char * nm_email_get_folder(struct Email *e)</div><div class="ttdoc">Get the folder for a Email.</div><div class="ttdef"><b>Definition</b> <a href="notmuch_8c_source.html#l01493">notmuch.c:1493</a></div></div>
<div class="ttc" id="astructMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type.</div><div class="ttdef"><b>Definition</b> <a href="core_2mailbox_8h_source.html#l00102">mailbox.h:102</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga88dde7e6780b188d62b5cecd395fc4c4_cgraph.svg" width="363" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ga20b0dec41d73db618d67f60a90bdd1c5" name="ga20b0dec41d73db618d67f60a90bdd1c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20b0dec41d73db618d67f60a90bdd1c5">&#9670;&#160;</a></span>pop_msg_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool pop_msg_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMessage.html">Message</a> *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *</td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an email message in a <a class="el" href="structMailbox.html" title="A mailbox.">Mailbox</a> - Implements <a class="el" href="structMxOps.html#a1eaafb57e50a69b5d091f03cbd2521cc">MxOps::msg_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="pop_8c_source.html#l00975">975</a> of file <a class="el" href="pop_8c_source.html">pop.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  976</span>{</div>
<div class="line"><span class="lineno">  977</span>  <span class="keywordtype">char</span> buf[1024] = { 0 };</div>
<div class="line"><span class="lineno">  978</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPopAccountData.html">PopAccountData</a> *<a class="code hl_variable" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code hl_function" href="pop_2adata_8c.html#a4471b5a6fcc25d086f1ff563370297f4">pop_adata_get</a>(m);</div>
<div class="line"><span class="lineno">  979</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPopEmailData.html">PopEmailData</a> *<a class="code hl_variable" href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">edata</a> = <a class="code hl_function" href="pop_2edata_8c.html#ad4dcf65aac92ae7178a31e362bf62166">pop_edata_get</a>(e);</div>
<div class="line"><span class="lineno">  980</span>  <span class="keywordtype">bool</span> bcache = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  981</span>  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  982</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structBuffer.html">Buffer</a> *path = NULL;</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>  <span class="comment">/* see if we already have the message in body cache */</span></div>
<div class="line"><span class="lineno">  985</span>  msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="bcache_8c.html#a682b68f9fcc6d5cfeb93045df20e0918">mutt_bcache_get</a>(adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">bcache</a>, <a class="code hl_function" href="pop_8c.html#a8028dffa5685f875d203a82270d9dcc0">cache_id</a>(edata-&gt;<a class="code hl_variable" href="structPopEmailData.html#acf6966ff72e2807416df5d2003e25858">uid</a>));</div>
<div class="line"><span class="lineno">  986</span>  <span class="keywordflow">if</span> (msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno">  987</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>  <span class="comment">/* see if we already have the message in our cache in</span></div>
<div class="line"><span class="lineno">  990</span><span class="comment">   * case $message_cache_dir is unset */</span></div>
<div class="line"><span class="lineno">  991</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structPopCache.html">PopCache</a> *cache = &amp;adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#ab48530831910c2608351d9ccfbafc459">cache</a>[e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a> % <a class="code hl_define" href="pop_2private_8h.html#a606d455144b12dcddd75503a8fb737a4">POP_CACHE_LEN</a>];</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>  <span class="keywordflow">if</span> (cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>)</div>
<div class="line"><span class="lineno">  994</span>  {</div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordflow">if</span> (cache-&gt;<a class="code hl_variable" href="structPopCache.html#a9bd977dd3bbca1f11bdaa3f13d7a8717">index</a> == e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a>)</div>
<div class="line"><span class="lineno">  996</span>    {</div>
<div class="line"><span class="lineno">  997</span>      <span class="comment">/* yes, so just return a pointer to the message */</span></div>
<div class="line"><span class="lineno">  998</span>      msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  999</span>      <span class="keywordflow">if</span> (msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 1000</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>      <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>);</div>
<div class="line"><span class="lineno"> 1003</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1006</span>    {</div>
<div class="line"><span class="lineno"> 1007</span>      <span class="comment">/* clear the previous entry */</span></div>
<div class="line"><span class="lineno"> 1008</span>      unlink(cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>);</div>
<div class="line"><span class="lineno"> 1009</span>      <a class="code hl_define" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>);</div>
<div class="line"><span class="lineno"> 1010</span>    }</div>
<div class="line"><span class="lineno"> 1011</span>  }</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>  <a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a> = <a class="code hl_function" href="pool_8c.html#a41cba27c25d33cb6822789a2856093f2">buf_pool_get</a>();</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno"> 1016</span>  {</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="pop_2lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a>(m) &lt; 0)</div>
<div class="line"><span class="lineno"> 1018</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>    <span class="comment">/* verify that massage index is correct */</span></div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (edata-&gt;<a class="code hl_variable" href="structPopEmailData.html#a1de16443ed1e8b4152f38d654c89c4f1">refno</a> &lt; 0)</div>
<div class="line"><span class="lineno"> 1022</span>    {</div>
<div class="line"><span class="lineno"> 1023</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;The message index is incorrect. Try reopening the mailbox.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1024</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1025</span>    }</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>    <span class="comment">/* see if we can put in body cache; use our cache as fallback */</span></div>
<div class="line"><span class="lineno"> 1028</span>    msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_function" href="bcache_8c.html#ae47d3c541614bce148da538dd0e067fd">mutt_bcache_put</a>(adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">bcache</a>, <a class="code hl_function" href="pop_8c.html#a8028dffa5685f875d203a82270d9dcc0">cache_id</a>(edata-&gt;<a class="code hl_variable" href="structPopEmailData.html#acf6966ff72e2807416df5d2003e25858">uid</a>));</div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 1030</span>    {</div>
<div class="line"><span class="lineno"> 1031</span>      <span class="comment">/* no */</span></div>
<div class="line"><span class="lineno"> 1032</span>      bcache = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1033</span>      <a class="code hl_define" href="tmp_8h.html#a271a7828888985955df49205d7846a45">buf_mktemp</a>(<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>);</div>
<div class="line"><span class="lineno"> 1034</span>      msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a> = <a class="code hl_define" href="file_8h.html#a9fa358d76519cb6bc8ffca5850976d46">mutt_file_fopen</a>(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>), <span class="stringliteral">&quot;w+&quot;</span>);</div>
<div class="line"><span class="lineno"> 1035</span>      <span class="keywordflow">if</span> (!msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>)</div>
<div class="line"><span class="lineno"> 1036</span>      {</div>
<div class="line"><span class="lineno"> 1037</span>        <a class="code hl_define" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a>));</div>
<div class="line"><span class="lineno"> 1038</span>        <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1039</span>      }</div>
<div class="line"><span class="lineno"> 1040</span>    }</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;RETR %d\r\n&quot;</span>, edata-&gt;<a class="code hl_variable" href="structPopEmailData.html#a1de16443ed1e8b4152f38d654c89c4f1">refno</a>);</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keyword">struct </span>Progress *progress = <a class="code hl_function" href="progress_2lib_8h.html#a551a8d9e844532e2851d6bee121c09b3">progress_new</a>(<a class="code hl_enumvalue" href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75a390b1c3c908529e81d1bdceaabf6c94a">MUTT_PROGRESS_NET</a>,</div>
<div class="line"><span class="lineno"> 1045</span>                                             e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> + e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a> - 1);</div>
<div class="line"><span class="lineno"> 1046</span>    <a class="code hl_function" href="progress_2lib_8h.html#abd7142bf1b3c664cf1c3edca7c9b41d8">progress_set_message</a>(progress, <a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Fetching message...&quot;</span>));</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> rc = <a class="code hl_function" href="pop_2lib_8c.html#abc1591da707c3c85897c8b450e661dcf">pop_fetch_data</a>(adata, buf, progress, <a class="code hl_function" href="group__pop__fetch__api.html#ga3cc06c4686cd79cfa3177fca6a868fa2">fetch_message</a>, msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 1048</span>    <a class="code hl_function" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;progress);</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    <span class="keywordflow">if</span> (rc == 0)</div>
<div class="line"><span class="lineno"> 1051</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>    <a class="code hl_define" href="file_8h.html#a9b519e795f098be88b93cd72c49a35ec">mutt_file_fclose</a>(&amp;msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>    <span class="comment">/* if RETR failed (e.g. connection closed), be sure to remove either</span></div>
<div class="line"><span class="lineno"> 1056</span><span class="comment">     * the file in bcache or from POP&#39;s own cache since the next iteration</span></div>
<div class="line"><span class="lineno"> 1057</span><span class="comment">     * of the loop will re-attempt to put() the message */</span></div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordflow">if</span> (!bcache)</div>
<div class="line"><span class="lineno"> 1059</span>      unlink(<a class="code hl_function" href="buffer_8h.html#a728ebc5a947b77c8d56db44ce553a7ab">buf_string</a>(path));</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>    <span class="keywordflow">if</span> (rc == -2)</div>
<div class="line"><span class="lineno"> 1062</span>    {</div>
<div class="line"><span class="lineno"> 1063</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#a84cf659582c28abdd77d78e74257143f">err_msg</a>);</div>
<div class="line"><span class="lineno"> 1064</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1065</span>    }</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordflow">if</span> (rc == -3)</div>
<div class="line"><span class="lineno"> 1068</span>    {</div>
<div class="line"><span class="lineno"> 1069</span>      <a class="code hl_define" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code hl_define" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t write message to temporary file&quot;</span>));</div>
<div class="line"><span class="lineno"> 1070</span>      <span class="keywordflow">goto</span> cleanup;</div>
<div class="line"><span class="lineno"> 1071</span>    }</div>
<div class="line"><span class="lineno"> 1072</span>  }</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  <span class="comment">/* Update the header information.  Previously, we only downloaded a</span></div>
<div class="line"><span class="lineno"> 1075</span><span class="comment">   * portion of the headers, those required for the main display.  */</span></div>
<div class="line"><span class="lineno"> 1076</span>  <span class="keywordflow">if</span> (bcache)</div>
<div class="line"><span class="lineno"> 1077</span>  {</div>
<div class="line"><span class="lineno"> 1078</span>    <a class="code hl_function" href="bcache_8c.html#a5125c4a660fa9267a94153695c44a4f0">mutt_bcache_commit</a>(adata-&gt;<a class="code hl_variable" href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">bcache</a>, <a class="code hl_function" href="pop_8c.html#a8028dffa5685f875d203a82270d9dcc0">cache_id</a>(edata-&gt;<a class="code hl_variable" href="structPopEmailData.html#acf6966ff72e2807416df5d2003e25858">uid</a>));</div>
<div class="line"><span class="lineno"> 1079</span>  }</div>
<div class="line"><span class="lineno"> 1080</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1081</span>  {</div>
<div class="line"><span class="lineno"> 1082</span>    cache-&gt;<a class="code hl_variable" href="structPopCache.html#a9bd977dd3bbca1f11bdaa3f13d7a8717">index</a> = e-&gt;<a class="code hl_variable" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a>;</div>
<div class="line"><span class="lineno"> 1083</span>    cache-&gt;<a class="code hl_variable" href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">path</a> = <a class="code hl_function" href="buffer_8c.html#ad76477cc0c660bc50162393e997233eb">buf_strdup</a>(path);</div>
<div class="line"><span class="lineno"> 1084</span>  }</div>
<div class="line"><span class="lineno"> 1085</span>  rewind(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>  <span class="comment">/* Detach the private data */</span></div>
<div class="line"><span class="lineno"> 1088</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">edata</a> = NULL;</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  <span class="comment">/* we replace envelope, key in subj_hash has to be updated as well */</span></div>
<div class="line"><span class="lineno"> 1091</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>)</div>
<div class="line"><span class="lineno"> 1092</span>    <a class="code hl_function" href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>, e);</div>
<div class="line"><span class="lineno"> 1093</span>  <a class="code hl_function" href="mutt__header_8c.html#a86cf7e2f3e5c49113ab226f5666a9bee">mutt_label_hash_remove</a>(m, e);</div>
<div class="line"><span class="lineno"> 1094</span>  <a class="code hl_function" href="envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a>(&amp;e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>);</div>
<div class="line"><span class="lineno"> 1095</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a> = <a class="code hl_function" href="email_2parse_8c.html#a709f7f23d8a54a0f75abc28a0b365ace">mutt_rfc822_read_header</a>(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>, e, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1096</span>  <span class="keywordflow">if</span> (m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a> &amp;&amp; e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>)</div>
<div class="line"><span class="lineno"> 1097</span>    <a class="code hl_function" href="hash_8c.html#a10bd305a8183db9829caee9ea1bac2f5">mutt_hash_insert</a>(m-&gt;<a class="code hl_variable" href="structMailbox.html#a6fedaadfa93f600be8db87684ca631d7">subj_hash</a>, e-&gt;<a class="code hl_variable" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code hl_variable" href="structEnvelope.html#ad7dc5e8dd9356bb5266787bf647a4031">real_subj</a>, e);</div>
<div class="line"><span class="lineno"> 1098</span>  <a class="code hl_function" href="mutt__header_8c.html#ae084e9cb91621b4821f7e7043ceac602">mutt_label_hash_add</a>(m, e);</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>  <span class="comment">/* Reattach the private data */</span></div>
<div class="line"><span class="lineno"> 1101</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">edata</a> = edata;</div>
<div class="line"><span class="lineno"> 1102</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a781551eba730fd251226081727ae74bb">edata_free</a> = <a class="code hl_function" href="group__email__edata__free.html#ga85ea04c0551779b34d6d1f556af811bd">pop_edata_free</a>;</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">lines</a> = 0;</div>
<div class="line"><span class="lineno"> 1105</span>  <span class="keywordflow">while</span> (fgets(buf, <span class="keyword">sizeof</span>(buf), msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>) &amp;&amp; !feof(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>))</div>
<div class="line"><span class="lineno"> 1106</span>  {</div>
<div class="line"><span class="lineno"> 1107</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a562a3aee45efc37c07dedcc8e1fef93f">lines</a>++;</div>
<div class="line"><span class="lineno"> 1108</span>  }</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>  e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> = ftello(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>) - e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code hl_variable" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a>;</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>  <span class="comment">/* This needs to be done in case this is a multipart message */</span></div>
<div class="line"><span class="lineno"> 1113</span>  <span class="keywordflow">if</span> (!<a class="code hl_define" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a>)</div>
<div class="line"><span class="lineno"> 1114</span>    e-&gt;<a class="code hl_variable" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> = <a class="code hl_function" href="crypt_8c.html#af4ab2e337a2477fba687b1f710aa7a61">crypt_query</a>(e-&gt;<a class="code hl_variable" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>  <a class="code hl_function" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div>
<div class="line"><span class="lineno"> 1117</span>  rewind(msg-&gt;<a class="code hl_variable" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>);</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>  success = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>cleanup:</div>
<div class="line"><span class="lineno"> 1122</span>  <a class="code hl_function" href="pool_8c.html#a4cc6068279461cb8628219586dfa35a1">buf_pool_release</a>(&amp;path);</div>
<div class="line"><span class="lineno"> 1123</span>  <span class="keywordflow">return</span> success;</div>
<div class="line"><span class="lineno"> 1124</span>}</div>
<div class="ttc" id="agroup__email__edata__free_html_ga85ea04c0551779b34d6d1f556af811bd"><div class="ttname"><a href="group__email__edata__free.html#ga85ea04c0551779b34d6d1f556af811bd">pop_edata_free</a></div><div class="ttdeci">void pop_edata_free(void **ptr)</div><div class="ttdoc">Free the private Email data - Implements Email::edata_free() -.</div><div class="ttdef"><b>Definition</b> <a href="pop_2edata_8c_source.html#l00041">edata.c:41</a></div></div>
<div class="ttc" id="agroup__pop__fetch__api_html_ga3cc06c4686cd79cfa3177fca6a868fa2"><div class="ttname"><a href="group__pop__fetch__api.html#ga3cc06c4686cd79cfa3177fca6a868fa2">fetch_message</a></div><div class="ttdeci">static int fetch_message(const char *line, void *data)</div><div class="ttdoc">Parse a Message response - Implements pop_fetch_t -.</div><div class="ttdef"><b>Definition</b> <a href="pop_8c_source.html#l00098">pop.c:98</a></div></div>
<div class="ttc" id="amutt__header_8c_html_a86cf7e2f3e5c49113ab226f5666a9bee"><div class="ttname"><a href="mutt__header_8c.html#a86cf7e2f3e5c49113ab226f5666a9bee">mutt_label_hash_remove</a></div><div class="ttdeci">void mutt_label_hash_remove(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Remove a message&#39;s labels from the Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="mutt__header_8c_source.html#l00429">mutt_header.c:429</a></div></div>
<div class="ttc" id="amutt__header_8c_html_ae084e9cb91621b4821f7e7043ceac602"><div class="ttname"><a href="mutt__header_8c.html#ae084e9cb91621b4821f7e7043ceac602">mutt_label_hash_add</a></div><div class="ttdeci">void mutt_label_hash_add(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Add a message&#39;s labels to the Hash Table.</div><div class="ttdef"><b>Definition</b> <a href="mutt__header_8c_source.html#l00416">mutt_header.c:416</a></div></div>
<div class="ttc" id="apop_2adata_8c_html_a4471b5a6fcc25d086f1ff563370297f4"><div class="ttname"><a href="pop_2adata_8c.html#a4471b5a6fcc25d086f1ff563370297f4">pop_adata_get</a></div><div class="ttdeci">struct PopAccountData * pop_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Account data for this mailbox.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8c_source.html#l00073">adata.c:73</a></div></div>
<div class="ttc" id="apop_2edata_8c_html_ad4dcf65aac92ae7178a31e362bf62166"><div class="ttname"><a href="pop_2edata_8c.html#ad4dcf65aac92ae7178a31e362bf62166">pop_edata_get</a></div><div class="ttdeci">struct PopEmailData * pop_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email.</div><div class="ttdef"><b>Definition</b> <a href="pop_2edata_8c_source.html#l00068">edata.c:68</a></div></div>
<div class="ttc" id="apop_2lib_8c_html_abc1591da707c3c85897c8b450e661dcf"><div class="ttname"><a href="pop_2lib_8c.html#abc1591da707c3c85897c8b450e661dcf">pop_fetch_data</a></div><div class="ttdeci">int pop_fetch_data(struct PopAccountData *adata, const char *query, struct Progress *progress, pop_fetch_t callback, void *data)</div><div class="ttdoc">Read Headers with callback function.</div><div class="ttdef"><b>Definition</b> <a href="pop_2lib_8c_source.html#l00510">lib.c:510</a></div></div>
<div class="ttc" id="apop_2lib_8c_html_af75fadb2503181ccec226915d3e1984f"><div class="ttname"><a href="pop_2lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a></div><div class="ttdeci">int pop_reconnect(struct Mailbox *m)</div><div class="ttdoc">Reconnect and verify indexes if connection was lost.</div><div class="ttdef"><b>Definition</b> <a href="pop_2lib_8c_source.html#l00608">lib.c:608</a></div></div>
<div class="ttc" id="apop_2private_8h_html_a606d455144b12dcddd75503a8fb737a4"><div class="ttname"><a href="pop_2private_8h.html#a606d455144b12dcddd75503a8fb737a4">POP_CACHE_LEN</a></div><div class="ttdeci">#define POP_CACHE_LEN</div><div class="ttdef"><b>Definition</b> <a href="pop_2private_8h_source.html#l00039">private.h:39</a></div></div>
<div class="ttc" id="apop_8c_html_a8028dffa5685f875d203a82270d9dcc0"><div class="ttname"><a href="pop_8c.html#a8028dffa5685f875d203a82270d9dcc0">cache_id</a></div><div class="ttdeci">static const char * cache_id(const char *id)</div><div class="ttdoc">Make a message-cache-compatible id.</div><div class="ttdef"><b>Definition</b> <a href="pop_8c_source.html#l00081">pop.c:81</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_a0a558d538b8742adf8b1251f2848ba75a390b1c3c908529e81d1bdceaabf6c94a"><div class="ttname"><a href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75a390b1c3c908529e81d1bdceaabf6c94a">MUTT_PROGRESS_NET</a></div><div class="ttdeci">@ MUTT_PROGRESS_NET</div><div class="ttdoc">Progress tracks bytes, according to $net_inc</div><div class="ttdef"><b>Definition</b> <a href="progress_2lib_8h_source.html#l00082">lib.h:82</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_a551a8d9e844532e2851d6bee121c09b3"><div class="ttname"><a href="progress_2lib_8h.html#a551a8d9e844532e2851d6bee121c09b3">progress_new</a></div><div class="ttdeci">struct Progress * progress_new(enum ProgressType type, size_t size)</div><div class="ttdoc">Create a new Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00139">progress.c:139</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_ab4c7a63427cdcaae2b1147ff6f010af4"><div class="ttname"><a href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a></div><div class="ttdeci">void progress_free(struct Progress **ptr)</div><div class="ttdoc">Free a Progress Bar.</div><div class="ttdef"><b>Definition</b> <a href="progress_8c_source.html#l00110">progress.c:110</a></div></div>
<div class="ttc" id="aprogress_2lib_8h_html_abd7142bf1b3c664cf1c3edca7c9b41d8"><div class="ttname"><a href="progress_2lib_8h.html#abd7142bf1b3c664cf1c3edca7c9b41d8">progress_set_message</a></div><div class="ttdeci">void progress_set_message(struct Progress *progress, const char *fmt,...) __attribute__((__format__(__printf__</div></div>
<div class="ttc" id="astructEmail_html_a50d8a8dde5fbf0b6dba934ff7e07fb6b"><div class="ttname"><a href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">Email::edata</a></div><div class="ttdeci">void * edata</div><div class="ttdoc">Driver-specific data.</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00074">email.h:74</a></div></div>
<div class="ttc" id="astructEmail_html_a781551eba730fd251226081727ae74bb"><div class="ttname"><a href="structEmail.html#a781551eba730fd251226081727ae74bb">Email::edata_free</a></div><div class="ttdeci">void(* edata_free)(void **ptr)</div><div class="ttdef"><b>Definition</b> <a href="email_8h_source.html#l00090">email.h:90</a></div></div>
<div class="ttc" id="astructPopAccountData_html"><div class="ttname"><a href="structPopAccountData.html">PopAccountData</a></div><div class="ttdoc">POP-specific Account data -.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00036">adata.h:37</a></div></div>
<div class="ttc" id="astructPopAccountData_html_a84cf659582c28abdd77d78e74257143f"><div class="ttname"><a href="structPopAccountData.html#a84cf659582c28abdd77d78e74257143f">PopAccountData::err_msg</a></div><div class="ttdeci">char err_msg[POP_CMD_RESPONSE]</div><div class="ttdoc">Last error message.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00057">adata.h:57</a></div></div>
<div class="ttc" id="astructPopAccountData_html_ab48530831910c2608351d9ccfbafc459"><div class="ttname"><a href="structPopAccountData.html#ab48530831910c2608351d9ccfbafc459">PopAccountData::cache</a></div><div class="ttdeci">struct PopCache cache[POP_CACHE_LEN]</div><div class="ttdoc">Message cache.</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00058">adata.h:58</a></div></div>
<div class="ttc" id="astructPopAccountData_html_ad54e1437730d092d35f53d7c4aba6e5a"><div class="ttname"><a href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">PopAccountData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdoc">body cache</div><div class="ttdef"><b>Definition</b> <a href="pop_2adata_8h_source.html#l00056">adata.h:56</a></div></div>
<div class="ttc" id="astructPopCache_html"><div class="ttname"><a href="structPopCache.html">PopCache</a></div><div class="ttdoc">POP-specific email cache.</div><div class="ttdef"><b>Definition</b> <a href="pop_2private_8h_source.html#l00068">private.h:69</a></div></div>
<div class="ttc" id="astructPopCache_html_a9bd977dd3bbca1f11bdaa3f13d7a8717"><div class="ttname"><a href="structPopCache.html#a9bd977dd3bbca1f11bdaa3f13d7a8717">PopCache::index</a></div><div class="ttdeci">unsigned int index</div><div class="ttdoc">Message index.</div><div class="ttdef"><b>Definition</b> <a href="pop_2private_8h_source.html#l00070">private.h:70</a></div></div>
<div class="ttc" id="astructPopCache_html_aedc9204da39b93e203a5ffc0a2e0c2e1"><div class="ttname"><a href="structPopCache.html#aedc9204da39b93e203a5ffc0a2e0c2e1">PopCache::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Filesystem path.</div><div class="ttdef"><b>Definition</b> <a href="pop_2private_8h_source.html#l00071">private.h:71</a></div></div>
<div class="ttc" id="astructPopEmailData_html"><div class="ttname"><a href="structPopEmailData.html">PopEmailData</a></div><div class="ttdoc">POP-specific Email data -.</div><div class="ttdef"><b>Definition</b> <a href="pop_2edata_8h_source.html#l00031">edata.h:32</a></div></div>
<div class="ttc" id="astructPopEmailData_html_a1de16443ed1e8b4152f38d654c89c4f1"><div class="ttname"><a href="structPopEmailData.html#a1de16443ed1e8b4152f38d654c89c4f1">PopEmailData::refno</a></div><div class="ttdeci">int refno</div><div class="ttdoc">Message number on server.</div><div class="ttdef"><b>Definition</b> <a href="pop_2edata_8h_source.html#l00034">edata.h:34</a></div></div>
<div class="ttc" id="astructPopEmailData_html_acf6966ff72e2807416df5d2003e25858"><div class="ttname"><a href="structPopEmailData.html#acf6966ff72e2807416df5d2003e25858">PopEmailData::uid</a></div><div class="ttdeci">const char * uid</div><div class="ttdoc">UID of email.</div><div class="ttdef"><b>Definition</b> <a href="pop_2edata_8h_source.html#l00033">edata.h:33</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__msg__open_ga20b0dec41d73db618d67f60a90bdd1c5_cgraph.svg" width="742" height="1292"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
